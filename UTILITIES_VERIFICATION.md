# ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —É—Ç–∏–ª–∏—Ç

**–î–∞—Ç–∞:** 2026-01-27  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–í–°–Å –†–ê–ë–û–¢–ê–ï–¢**

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã

### 1. `scripts.utils.environment`
- ‚úÖ `is_docker()` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ Docker –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ `get_database_url()` - –ø–æ–ª—É—á–µ–Ω–∏–µ DATABASE_URL
- ‚úÖ `get_mlx_api_url()` - –ø–æ–ª—É—á–µ–Ω–∏–µ MLX API URL
- ‚úÖ `get_ollama_url()` - –ø–æ–ª—É—á–µ–Ω–∏–µ Ollama URL
- ‚úÖ `get_victoria_url()` - –ø–æ–ª—É—á–µ–Ω–∏–µ Victoria URL
- ‚úÖ `get_veronica_url()` - –ø–æ–ª—É—á–µ–Ω–∏–µ Veronica URL

### 2. `scripts.utils.path_setup`
- ‚úÖ `setup_project_paths()` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—É—Ç–µ–π –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ `get_project_root()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ `get_knowledge_os_root()` - –ø–æ–ª—É—á–µ–Ω–∏–µ knowledge_os
- ‚úÖ `get_knowledge_os_app()` - –ø–æ–ª—É—á–µ–Ω–∏–µ knowledge_os/app
- ‚úÖ `get_scripts_root()` - –ø–æ–ª—É—á–µ–Ω–∏–µ scripts

---

## ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Å–∫—Ä–∏–ø—Ç—ã

### `scripts/run_website_test.py`
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `setup_project_paths()` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—É—Ç–µ–π
- ‚úÖ Fallback –Ω–∞ —Ä—É—á–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —É—Ç–∏–ª–∏—Ç—ã
- ‚úÖ –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø—É—Ç–µ–π
- ‚úÖ –ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å (os.pathsep)

### `scripts/test_task_distribution_trace.py`
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `get_database_url()` –∏ `is_docker()`
- ‚úÖ Fallback –Ω–∞ —Ä—É—á–Ω—É—é –ª–æ–≥–∏–∫—É –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —É—Ç–∏–ª–∏—Ç—ã
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

---

## ‚úÖ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### `knowledge_os/app/mlx_api_server.py`
- ‚úÖ –£–±—Ä–∞–Ω–∞ `tinyllama` –∏–∑ –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "–í–ê–ñ–ù–û: tinyllama –∏—Å–∫–ª—é—á–µ–Ω–∞ - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –∞–≥–µ–Ω—Ç–æ–≤"
- ‚úÖ –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞: `"default,fast"` –≤–º–µ—Å—Ç–æ `"default,fast,tiny"`

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ò–º–ø–æ—Ä—Ç —É—Ç–∏–ª–∏—Ç:
```python
from scripts.utils.environment import get_database_url, is_docker
from scripts.utils.path_setup import setup_project_paths
```
‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
```python
db_url = get_database_url(
    default_docker="postgresql://admin:secret@knowledge_postgres:5432/knowledge_os",
    default_local="postgresql://admin:secret@localhost:5432/knowledge_os"
)
docker_status = is_docker()
setup_project_paths()
```
‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### –°–∫—Ä–∏–ø—Ç—ã:
- ‚úÖ `run_website_test.py` - –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ `test_task_distribution_trace.py` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É—Ç–∏–ª–∏—Ç—ã
- ‚úÖ –í—Å–µ –∏–º–ø–æ—Ä—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç

---

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —É—Ç–∏–ª–∏—Ç

1. **–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ:** –í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—É—é –ª–æ–≥–∏–∫—É
2. **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å:** –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≤–µ–∑–¥–µ
3. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:** –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è
4. **–ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å:** –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Windows/Unix
5. **–î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è:** –ò–∑–±–µ–≥–∞–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ø—É—Ç–µ–π
6. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ LRU cache

---

## ‚úÖ –ò—Ç–æ–≥–æ

**–í—Å–µ —É—Ç–∏–ª–∏—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã!**

- ‚úÖ –£—Ç–∏–ª–∏—Ç—ã —Å–æ–∑–¥–∞–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –°–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —É—Ç–∏–ª–∏—Ç—ã
- ‚úÖ Fallback –Ω–∞ —Ä—É—á–Ω—É—é –ª–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –í—Å–µ –∏–º–ø–æ—Ä—Ç—ã —É—Å–ø–µ—à–Ω—ã
- ‚úÖ –°–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üöÄ