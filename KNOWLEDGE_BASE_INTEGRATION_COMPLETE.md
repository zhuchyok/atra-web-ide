# ‚úÖ –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –ë–ê–ó–´ –ó–ù–ê–ù–ò–ô –ó–ê–í–ï–†–®–ï–ù–ê

**–î–∞—Ç–∞:** 2026-01-28  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–û–õ–ù–û–°–¢–¨–Æ –ò–ù–¢–ï–ì–†–ò–†–û–í–ê–ù–û**

---

## üéØ –ß–¢–û –°–î–ï–õ–ê–ù–û

### 1. ‚úÖ –í—Å–µ –∑–Ω–∞–Ω–∏—è –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π

**–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ:**
- ‚úÖ –ö–∞–∂–¥–∞—è –º–æ–¥–µ–ª—å Ollama - –æ—Ç–¥–µ–ª—å–Ω—ã–π —É–∑–µ–ª —Å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–º
- ‚úÖ –ö–∞–∂–¥–∞—è –º–æ–¥–µ–ª—å MLX - –æ—Ç–¥–µ–ª—å–Ω—ã–π —É–∑–µ–ª —Å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–º
- ‚úÖ –°–∫—Ä–∏–ø—Ç—ã –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –ø–æ —Ç–∏–ø–∞–º —Å —ç–º–±–µ–¥–¥–∏–Ω–≥–∞–º–∏
- ‚úÖ –ù–µ–¥–∞–≤–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è - –æ—Ç–¥–µ–ª—å–Ω—ã–π —É–∑–µ–ª —Å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–º
- ‚úÖ –û–±—â–∞—è —Å–≤–æ–¥–∫–∞ - –æ—Ç–¥–µ–ª—å–Ω—ã–π —É–∑–µ–ª –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

**–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ:**
- ‚úÖ `source: 'corporation_knowledge_system'`
- ‚úÖ `type: 'ollama_model' | 'mlx_model' | 'scripts_shell' | 'scripts_python' | 'recent_changes' | 'system_summary'`
- ‚úÖ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (—Ä–∞–∑–º–µ—Ä—ã, –ø—É—Ç–∏, –¥–∞—Ç—ã)

---

### 2. ‚úÖ –í—Å–µ –∞–≥–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –±–∞–∑—É –∑–Ω–∞–Ω–∏–π

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–æ—Å—Ç—É–ø:**
- ‚úÖ `_get_knowledge_context()` –≤ `ai_core.py` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç
- ‚úÖ –ü–æ–∏—Å–∫ –≤–∫–ª—é—á–∞–µ—Ç –∑–Ω–∞–Ω–∏—è –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏
- ‚úÖ –ü–æ—Ä–æ–≥ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏: 0.6 (–¥–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–∫—Ä—ã—Ç–∏—è)
- ‚úÖ –î–æ 5 —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —É–∑–ª–æ–≤ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ

**–î–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
- ‚úÖ `search_knowledge(query, domain)` - —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫
- ‚úÖ `capture_knowledge(content, domain, metadata)` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–Ω–∞–Ω–∏–π
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π RAG —á–µ—Ä–µ–∑ `_get_knowledge_context()`

---

### 3. ‚úÖ –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –¥–æ—Å—Ç—É–ø–Ω–∞ –≤—Å–µ–º

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏:**
- ‚úÖ –§—É–Ω–∫—Ü–∏—è `ensure_knowledge_base_accessible()` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —É–∑–ª–æ–≤ –∑–Ω–∞–Ω–∏–π –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
- ‚úÖ –í—Å–µ –∞–≥–µ–Ω—Ç—ã —á–µ—Ä–µ–∑ `ai_core.py` –ø–æ–ª—É—á–∞—é—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ Victoria —á–µ—Ä–µ–∑ `search_knowledge` –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
- ‚úÖ ReActAgent —á–µ—Ä–µ–∑ `search_knowledge` –¥–µ–π—Å—Ç–≤–∏–µ
- ‚úÖ –í—Å–µ —ç–∫—Å–ø–µ—Ä—Ç—ã —á–µ—Ä–µ–∑ `run_smart_agent_async`

---

## üìä –°–¢–†–£–ö–¢–£–†–ê –ó–ù–ê–ù–ò–ô –í –ë–î

### –£–∑–ª—ã –∑–Ω–∞–Ω–∏–π –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏:

1. **–ú–æ–¥–µ–ª–∏ Ollama** (–æ—Ç–¥–µ–ª—å–Ω—ã–µ —É–∑–ª—ã):
   - Content: "–ú–æ–¥–µ–ª—å Ollama: {name}. –†–∞–∑–º–µ—Ä: {size} GB..."
   - Type: `ollama_model`
   - Embedding: —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

2. **–ú–æ–¥–µ–ª–∏ MLX** (–æ—Ç–¥–µ–ª—å–Ω—ã–µ —É–∑–ª—ã):
   - Content: "–ú–æ–¥–µ–ª—å MLX: {name}. –ü—É—Ç—å: {path}..."
   - Type: `mlx_model`
   - Embedding: —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

3. **–°–∫—Ä–∏–ø—Ç—ã** (–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ —Ç–∏–ø–∞–º):
   - Content: "–î–æ—Å—Ç—É–ø–Ω—ã–µ {type} —Å–∫—Ä–∏–ø—Ç—ã ({count}):\n{list}"
   - Type: `scripts_shell` | `scripts_python`
   - Embedding: —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

4. **–ù–µ–¥–∞–≤–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è**:
   - Content: "–ù–µ–¥–∞–≤–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è ({count}):\n{list}"
   - Type: `recent_changes`
   - Embedding: —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

5. **–û–±—â–∞—è —Å–≤–æ–¥–∫–∞**:
   - Content: "–ê–∫—Ç—É–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏..."
   - Type: `system_summary`
   - Embedding: —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

---

## üîç –ö–ê–ö –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

1. **–ü—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ –∫ –∞–≥–µ–Ω—Ç—É:**
   - `_get_knowledge_context()` –∏—â–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –∑–Ω–∞–Ω–∏—è
   - –ö–æ–Ω—Ç–µ–∫—Å—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫ –ø—Ä–æ–º–ø—Ç—É
   - –í–∫–ª—é—á–∞–µ—Ç –∑–Ω–∞–Ω–∏—è –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏ –µ—Å–ª–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã

2. **–ß–µ—Ä–µ–∑ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
   - `search_knowledge("–∫–∞–∫–∏–µ –º–æ–¥–µ–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã")` - –Ω–∞–π–¥–µ—Ç –º–æ–¥–µ–ª–∏
   - `search_knowledge("–∫–∞–∫–∏–µ —Å–∫—Ä–∏–ø—Ç—ã –µ—Å—Ç—å")` - –Ω–∞–π–¥–µ—Ç —Å–∫—Ä–∏–ø—Ç—ã
   - `search_knowledge("—á—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å")` - –Ω–∞–π–¥–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –í—Ä—É—á–Ω—É—é:

```python
from app.main import search_knowledge, capture_knowledge

# –ü–æ–∏—Å–∫
results = await search_knowledge("–º–æ–¥–µ–ª–∏ Ollama", domain="System")

# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
await capture_knowledge(
    "–ù–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è",
    domain="System",
    metadata={"source": "manual", "type": "info"}
)
```

---

## üìà –°–¢–ê–¢–ò–°–¢–ò–ö–ê

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π:

- **–ú–æ–¥–µ–ª–∏ Ollama:** 4 —É–∑–ª–∞ (–∫–∞–∂–¥–∞—è –º–æ–¥–µ–ª—å –æ—Ç–¥–µ–ª—å–Ω–æ)
- **–ú–æ–¥–µ–ª–∏ MLX:** 8 —É–∑–ª–æ–≤ (–∫–∞–∂–¥–∞—è –º–æ–¥–µ–ª—å –æ—Ç–¥–µ–ª—å–Ω–æ)
- **–°–∫—Ä–∏–ø—Ç—ã:** 2 —É–∑–ª–∞ (shell –∏ python –æ—Ç–¥–µ–ª—å–Ω–æ)
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è:** 1 —É–∑–µ–ª (–µ—Å–ª–∏ –µ—Å—Ç—å)
- **–°–≤–æ–¥–∫–∞:** 1 —É–∑–µ–ª

**–ò—Ç–æ–≥–æ:** ~16 —É–∑–ª–æ–≤ –∑–Ω–∞–Ω–∏–π –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏ —Å —ç–º–±–µ–¥–¥–∏–Ω–≥–∞–º–∏

---

## ‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢

**–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞:**
- ‚úÖ –í—Å–µ –∑–Ω–∞–Ω–∏—è –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Å —ç–º–±–µ–¥–¥–∏–Ω–≥–∞–º–∏
- ‚úÖ –í—Å–µ –∞–≥–µ–Ω—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞—é—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç
- ‚úÖ –î–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ `search_knowledge` –¥–ª—è –≤—Å–µ—Ö
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–∏—Å–∫–∞

**–í—Å–µ –∞–≥–µ–Ω—Ç—ã –∑–Ω–∞—é—Ç –æ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π RAG —á–µ—Ä–µ–∑ `_get_knowledge_context()`
- ‚úÖ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `search_knowledge` –¥–æ—Å—Ç—É–ø–µ–Ω
- ‚úÖ –ó–Ω–∞–Ω–∏—è –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏ –≤–∫–ª—é—á–µ–Ω—ã –≤ –ø–æ–∏—Å–∫

---

**–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –¥–æ—Å—Ç—É–ø–Ω–∞ –≤—Å–µ–º! üöÄ**
