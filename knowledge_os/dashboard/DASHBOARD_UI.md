# Dashboard UI/UX — дизайн-система и вёрстка

Документ фиксирует решения дизайнера и веб-кодера по интерфейсу Corporation Dashboard (Streamlit, порт 8501).

---

## 1. Роль дизайнера (UI/UX)

- **Цветовая палитра:** тёмная тема. Фон `#05070a`, поверхности `#0d1117` / `#161b22`, границы `#30363d`. Акцент — синий `#58a6ff` (ссылки, кнопки, активные табы). Успех `#238636`, предупреждение `#fab387`, опасность `#f38ba8`.
- **Типографика:** Inter (400, 600, 800). Единая шкала в `:root`: `--dash-text-xs` (11px) — мета/подписи; `--dash-text-sm` (12px) — caption, badge; `--dash-text-base` (14px) — основной текст; `--dash-text-md` (15px) — карточки; `--dash-text-lg` (16px) — подзаголовки; `--dash-text-xl` (18px) — заголовки блоков; `--dash-text-2xl` (20px) — h3; `--dash-text-3xl` (24px) — h2; `--dash-text-4xl` (28px) — метрики; `--dash-text-5xl` (32px) — крупные акценты. Глобально: `h1`/`h2`/`h3`, `p`, caption, метрики и классы `.task-card-title`, `.task-card-meta`, `.task-card-desc`, `.block-meta`, `.premium-value`, `.premium-meta` используют эту шкалу.
- **Отступы и радиусы:** единая шкала: 8px (мелкие элементы), 12px (карточки, баннеры), 16px/24px (блоки). В коде — CSS-переменные `--dash-space`, `--dash-radius`.
- **Состояния:** у карточек и кнопок — hover (подсветка границы, лёгкий подъём, тень). Индикатор «живости» — пульсирующая точка в шапке.
- **Empty states:** единый шаблон: иконка (48px), заголовок, короткая подсказка. Фон приглушённый, рамка пунктирная.
- **Alert banner:** при сбоях сервисов — жёлто-оранжевый баннер с возможностью скрыть (dismiss).

Все токены вынесены в `:root` в `app.py` (Design tokens), чтобы один источник истины и лёгкая смена темы позже.

---

## 2. Роль веб-кодера (Front-end)

- **Стек:** Streamlit. Ограничения: разметка от фреймворка, кастом — через `st.markdown(..., unsafe_allow_html=True)` и глобальные стили.
- **Дизайн-токены в CSS:** цвета, отступы, радиусы, шрифт заданы через `var(--dash-*)`. Компоненты (карточки, кнопки, табы, баннер, empty state) используют эти переменные, а не «магические числа».
- **Компоненты:**
  - `.premium-card` — карточка метрики/блока (градиент, glass, hover).
  - `.directive-card` — блок директивы совета (акцент по границе).
  - `.domain-badge` / `.usage-badge` — бейджи.
  - `.alert-banner` — предупреждение (dismiss через session_state).
  - `.empty-state` — пустое состояние с иконкой и текстом.
- **Сайдбар:** фон и граница приведены к палитре (`--dash-surface`, `--dash-border`), текст и лейблы — к `--dash-text` / `--dash-text-muted`.
- **Адаптивность:** медиа-запросы для 768px и 480px (карточки, табы, заголовки).
- **Доступность:** контраст текста на фоне соблюдён; интерактивные элементы имеют визуальный отклик (hover/focus при возможности).

Логика (confirm, toast, data health) реализована в том же `app.py`; стили не размазаны по коду — один блок `<style>` с токенами и классами.

---

## 3. Где что лежит

| Что | Где |
|-----|-----|
| Токены (цвета, отступы, шрифт) | `app.py` — блок `<style>`, `:root { --dash-* }` |
| Карточки, кнопки, табы, баннер, empty | Там же, классы `.premium-card`, `.stButton`, `.alert-banner`, `.empty-state` и др. |
| Адаптивность | Медиа-запросы в том же блоке |
| Поведение (toast, confirm, навигация) | `app.py`, функции и `st.session_state` |

Отдельной сборки (npm/vite) нет — всё внутри Streamlit-приложения.

---

## 4. Как править дизайн

- **Поменять акцент или фон:** правка переменных в `:root` (например `--dash-accent`, `--dash-bg`). Остальной интерфейс подтянется.
- **Добавить новый тип карточки:** новый класс в `<style>`, использование `var(--dash-*)`.
- **Новый empty state:** разметка с классами `.empty-state`, `.empty-icon`, `.empty-title`, `.empty-hint`.

Так UI/UX и вёрстка остаются согласованными и правки выглядят как работа дизайнера и кодера, а не разовые «подкрашивания».
