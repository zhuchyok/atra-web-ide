---
name: smart-patch
description: Применяет точечные изменения к файлу с использованием формата SEARCH/REPLACE. Идеально для рефакторинга больших файлов без их полной перезаписи.
version: 1.0.0
category: development
author: Singularity Expert Council
---

# Smart Patch Skill

Этот инструмент позволяет изменять части файлов, используя формат SEARCH/REPLACE, аналогичный методологии Aider.

## Формат использования

Инструмент принимает `file_path` и `patch_content`. `patch_content` должен содержать один или несколько блоков:

```xml
<<<<<<< SEARCH
старый код, который нужно найти (должен совпадать до символа)
=======
новый код, на который нужно заменить
>>>>>>> REPLACE
```

## Преимущества
1. **Надежность:** Не требует экранирования JSON для содержимого кода.
2. **Эффективность:** Передает только изменения, экономя токены и VRAM.
3. **Безопасность:** Если блок SEARCH не найден, файл не будет изменен.

## Пример

```json
{
  "action": "smart-patch",
  "input": {
    "file_path": "app.py",
    "patch_content": "<<<<<<< SEARCH\ndef old_func():\n    pass\n=======\ndef new_func():\n    print('Hello')\n>>>>>>> REPLACE"
  }
}
```
