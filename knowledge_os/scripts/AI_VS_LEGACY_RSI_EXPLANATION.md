# ü§ñ AI VS LEGACY RSI: –ö–ê–ö –≠–¢–û –†–ê–ë–û–¢–ê–ï–¢

**–î–∞—Ç–∞:** 2025-11-20  
**–í–æ–ø—Ä–æ—Å:** –£ –Ω–∞—Å –Ω–µ –ò–ò —ç—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞–ª–æ?

---

## ‚úÖ –û–¢–í–ï–¢: –î–ê, –ß–ê–°–¢–ò–ß–ù–û

### –°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

**50% —Å–∏–º–≤–æ–ª–æ–≤ ‚Üí –ì—Ä—É–ø–ø–∞ A (Smart RSI Filter —Å AI)** ü§ñ  
**50% —Å–∏–º–≤–æ–ª–æ–≤ ‚Üí –ì—Ä—É–ø–ø–∞ B (Legacy, —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Ä–æ–≥–∏)** üìä

---

## üîç –ö–ê–ö –≠–¢–û –†–ê–ë–û–¢–ê–ï–¢

### 1. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø—ã (—Å—Ç—Ä–æ–∫–∞ 1807):

```python
def get_rsi_experiment_group(symbol: str, timestamp: Optional[datetime]) -> str:
    """–î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–∏–º–≤–æ–ª—ã –ø–æ –≥—Ä—É–ø–ø–∞–º A/B"""
    unique_key = f"{symbol}:{timestamp.strftime('%Y%m%d')}"
    group_hash = _deterministic_hash(unique_key) % 100
    return "A" if group_hash < 50 else "B"  # 50/50 —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- BTCUSDT ‚Üí –≥—Ä—É–ø–ø–∞ A (Smart RSI)
- ETHUSDT ‚Üí –≥—Ä—É–ø–ø–∞ B (Legacy)
- SOLUSDT ‚Üí –≥—Ä—É–ø–ø–∞ A (Smart RSI)
- –∏ —Ç.–¥. (–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ –ø–æ —Ö–µ—à—É)

---

### 2. –ì—Ä—É–ø–ø–∞ A: Smart RSI Filter (AI) ü§ñ

**–§–∞–π–ª:** `signal_live.py` —Å—Ç—Ä–æ–∫–∞ 1832

**–õ–æ–≥–∏–∫–∞:**
```python
if group == "A":  # Smart —Ä–µ–∂–∏–º
    result = SMART_RSI_FILTER.evaluate(
        rsi=float(rsi_value),
        direction=signal_type,
        trend_strength=trend_strength,      # ü§ñ AI —É—á–∏—Ç—ã–≤–∞–µ—Ç
        volume_ratio=volume_ratio,          # ü§ñ AI —É—á–∏—Ç—ã–≤–∞–µ—Ç
        ai_confidence=ai_confidence,        # ü§ñ AI —É—á–∏—Ç—ã–≤–∞–µ—Ç
        btc_alignment=btc_alignment,        # ü§ñ AI —É—á–∏—Ç—ã–≤–∞–µ—Ç
    )
    return result['decision'] != 'reject'
```

**–ß—Ç–æ —É—á–∏—Ç—ã–≤–∞–µ—Ç AI:**
- ‚úÖ RSI –∑–Ω–∞—á–µ–Ω–∏–µ
- ‚úÖ –°–∏–ª–∞ —Ç—Ä–µ–Ω–¥–∞ (trend_strength)
- ‚úÖ –û–±—ä–µ–º (volume_ratio)
- ‚úÖ AI —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å (ai_confidence)
- ‚úÖ BTC alignment (—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å —Å BTC)

**–ü—Ä–∏–º–µ—Ä—ã —Ä–µ—à–µ–Ω–∏–π:**
- RSI 68 + —Å–∏–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–¥ + –≤—ã—Å–æ–∫–∏–π –æ–±—ä–µ–º ‚Üí **—Ä–∞–∑—Ä–µ—à–∏—Ç—å LONG** ‚úÖ
- RSI 68 + —Å–ª–∞–±—ã–π —Ç—Ä–µ–Ω–¥ + –Ω–∏–∑–∫–∏–π –æ–±—ä–µ–º ‚Üí **–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å LONG** ‚ùå
- RSI 32 + AI —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å 0.15 ‚Üí **–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å SHORT** ‚ùå

---

### 3. –ì—Ä—É–ø–ø–∞ B: Legacy (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Ä–æ–≥–∏) üìä

**–§–∞–π–ª:** `signal_live.py` —Å—Ç—Ä–æ–∫–∞ 5792

**–õ–æ–≥–∏–∫–∞:**
```python
if group != "A":  # Legacy —Ä–µ–∂–∏–º
    if signal_type == "BUY" and rsi_value > 70:  # üìä –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ—Ä–æ–≥
        return False  # –ë–ª–æ–∫–∏—Ä—É–µ–º
    if signal_type == "SELL" and rsi_value < 30:  # üìä –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ—Ä–æ–≥
        return False  # –ë–ª–æ–∫–∏—Ä—É–µ–º
    return True
```

**–ß—Ç–æ —É—á–∏—Ç—ã–≤–∞–µ—Ç Legacy:**
- ‚úÖ RSI –∑–Ω–∞—á–µ–Ω–∏–µ
- ‚ùå –°–∏–ª–∞ —Ç—Ä–µ–Ω–¥–∞ (–Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è)
- ‚ùå –û–±—ä–µ–º (–Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è)
- ‚ùå AI —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å (–Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è)
- ‚ùå BTC alignment (–Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è)

**–ü—Ä–∏–º–µ—Ä—ã —Ä–µ—à–µ–Ω–∏–π:**
- RSI 68 ‚Üí **—Ä–∞–∑—Ä–µ—à–∏—Ç—å LONG** ‚úÖ
- RSI 72 ‚Üí **–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å LONG** ‚ùå
- RSI 32 ‚Üí **–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å SHORT** ‚ùå
- RSI 28 ‚Üí **–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å SHORT** ‚ùå

---

## üö® –ß–¢–û –ü–û–®–õ–û –ù–ï –¢–ê–ö

### –ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤ Legacy –≥—Ä—É–ø–ø–µ (B):

**–ë—ã–ª–æ (—Å–ª–∏—à–∫–æ–º —Å—Ç—Ä–æ–≥–æ):**
```python
if signal_type == "BUY" and rsi_value > 65:  # ‚ùå 48.2% –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫!
    return False
if signal_type == "SELL" and rsi_value < 35:  # ‚ùå –°–ª–∏—à–∫–æ–º —Å—Ç—Ä–æ–≥–æ
    return False
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
```python
if signal_type == "BUY" and rsi_value > 70:  # ‚úÖ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä–æ–≥
    return False
if signal_type == "SELL" and rsi_value < 30:  # ‚úÖ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä–æ–≥
    return False
```

---

## üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê

### –°–µ–≥–æ–¥–Ω—è (–¥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è):
- **–ì—Ä—É–ø–ø–∞ A (Smart RSI):** ~50% —Å–∏–º–≤–æ–ª–æ–≤
  - AI —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
  - –ë–ª–æ–∫–∏—Ä–æ–≤–æ–∫: —É–º–µ—Ä–µ–Ω–Ω–æ
- **–ì—Ä—É–ø–ø–∞ B (Legacy):** ~50% —Å–∏–º–≤–æ–ª–æ–≤
  - –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Ä–æ–≥–∏ 65/35
  - **–ë–ª–æ–∫–∏—Ä–æ–≤–æ–∫: 48.2%!** ‚ùå

### –°–µ–≥–æ–¥–Ω—è (–ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è):
- **–ì—Ä—É–ø–ø–∞ A (Smart RSI):** ~50% —Å–∏–º–≤–æ–ª–æ–≤
  - AI —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
  - –ë–ª–æ–∫–∏—Ä–æ–≤–æ–∫: —É–º–µ—Ä–µ–Ω–Ω–æ
- **–ì—Ä—É–ø–ø–∞ B (Legacy):** ~50% —Å–∏–º–≤–æ–ª–æ–≤
  - –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Ä–æ–≥–∏ 70/30 ‚úÖ
  - **–ë–ª–æ–∫–∏—Ä–æ–≤–æ–∫: ~10-15%** (–æ–∂–∏–¥–∞–µ—Ç—Å—è)

---

## üí° –í–´–í–û–î

### –î–∞, —É –Ω–∞—Å –µ—Å—Ç—å AI —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∫–∞ RSI! ü§ñ

**–ù–æ:**
1. **50% —Å–∏–º–≤–æ–ª–æ–≤** –∏—Å–ø–æ–ª—å–∑—É—é—Ç Smart RSI Filter (AI) ü§ñ
   - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –æ—Ü–µ–Ω–∫–∞
   - –£—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç (—Ç—Ä–µ–Ω–¥, –æ–±—ä–µ–º, AI —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å)
   
2. **50% —Å–∏–º–≤–æ–ª–æ–≤** –∏—Å–ø–æ–ª—å–∑—É—é—Ç Legacy (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Ä–æ–≥–∏) üìä
   - –ü—Ä–æ—Å—Ç—ã–µ –ø–æ—Ä–æ–≥–∏ 70/30
   - –ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç
   - **–≠—Ç–æ –≥—Ä—É–ø–ø–∞, –∫–æ—Ç–æ—Ä–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∞ 48.2%!**

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
- –î–ª—è Legacy –≥—Ä—É–ø–ø—ã (B): –≤–µ—Ä–Ω—É–ª–∏ –ø–æ—Ä–æ–≥–∏ —Å 65/35 –Ω–∞ 70/30
- –î–ª—è Smart RSI –≥—Ä—É–ø–ø—ã (A): –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∏–∑–º–µ–Ω–µ–Ω–∏–π (AI —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ)

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:
–ú–æ–∂–Ω–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å **–ø–µ—Ä–µ–≤–æ–¥ –≤—Å–µ—Ö —Å–∏–º–≤–æ–ª–æ–≤ –Ω–∞ –≥—Ä—É–ø–ø—É A (Smart RSI)**:
```python
# –í —Ñ—É–Ω–∫—Ü–∏–∏ get_rsi_experiment_group:
return "A"  # –í—Å–µ —Å–∏–º–≤–æ–ª—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç Smart RSI
```

–≠—Ç–æ –¥–∞—Å—Ç:
- ‚úÖ AI —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∫–∞ –¥–ª—è –≤—Å–µ—Ö —Å–∏–º–≤–æ–ª–æ–≤
- ‚úÖ –ú–µ–Ω—å—à–µ –ª–æ–∂–Ω—ã—Ö –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
- ‚úÖ –õ—É—á—à–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –∫ —Ä—ã–Ω–∫—É

–ù–æ —Å–µ–π—á–∞—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Legacy –ø–æ—Ä–æ–≥–æ–≤ –¥–æ–ª–∂–Ω–æ –ø–æ–º–æ—á—å 50% —Å–∏–º–≤–æ–ª–æ–≤.

---

*–ê–Ω–∞–ª–∏–∑ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–¥–∞ signal_live.py*

