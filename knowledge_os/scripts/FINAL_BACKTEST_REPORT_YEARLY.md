# üìä –§–ò–ù–ê–õ–¨–ù–´–ô –û–¢–ß–ï–¢: –ë–ï–ö–¢–ï–°–¢ –ù–ê –ì–û–î–û–í–´–• –î–ê–ù–ù–´–• (365 –î–ù–ï–ô)

## üéØ –¶–ï–õ–¨ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

–ù–∞–π—Ç–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã TP/SL –∏ —Ñ–∏–ª—å—Ç—Ä—ã –¥–ª—è –ø—Ä–∏–±—ã–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –Ω–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω–æ–º —Ä—ã–Ω–∫–µ.

---

## üìä –í–°–ï –ü–†–û–í–ï–î–ï–ù–ù–´–ï –¢–ï–°–¢–´

### 1Ô∏è‚É£ **–ë–∞–∑–æ–≤—ã–π —Ç–µ—Å—Ç –ë–ï–ó —Ñ–∏–ª—å—Ç—Ä–æ–≤**

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| –î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å | **-65.01%** ‚ùå |
| Win Rate | 40.9% |
| Profit Factor | 0.46 |
| –°–¥–µ–ª–æ–∫ | 2007 |
| –°–¥–µ–ª–æ–∫/–º–µ—Å—è—Ü | 166 |
| Win/Loss Ratio | 0.66 |

**–í—ã–≤–æ–¥:** –ë–µ–∑ —Ñ–∏–ª—å—Ç—Ä–æ–≤ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∏—á–µ—Å–∫–∏ —É–±—ã—Ç–æ—á–Ω–∞ –∏–∑-–∑–∞ –æ–≥—Ä–æ–º–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ª–æ–∂–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤.

---

### 2Ô∏è‚É£ **–° –í–°–ï–ú–ò —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ (8 —Ñ–∏–ª—å—Ç—Ä–æ–≤, MIN_SCORE=3)**

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| –î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å | **-9.70%** ‚ö†Ô∏è |
| Win Rate | **50.0%** ‚úÖ |
| Profit Factor | 0.71 |
| –°–¥–µ–ª–æ–∫ | 168 |
| –°–¥–µ–ª–æ–∫/–º–µ—Å—è—Ü | 13.8 |
| Win/Loss Ratio | **0.71** ‚ùå |
| TP –ø–æ–ø–∞–¥–∞–Ω–∏—è | 46.4% ‚úÖ |
| –°—Ä–µ–¥–Ω–∏–π Win | $2.82 |
| –°—Ä–µ–¥–Ω–∏–π Loss | $-3.97 ‚ùå |

**–í—ã–≤–æ–¥:** –§–∏–ª—å—Ç—Ä—ã –û–¢–õ–ò–ß–ù–û —Ä–∞–±–æ—Ç–∞—é—Ç:
- ‚úÖ –°–æ–∫—Ä–∞—Ç–∏–ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–µ–ª–æ–∫ –≤ **12 —Ä–∞–∑** (—Å 2007 –¥–æ 168)
- ‚úÖ –ü–æ–¥–Ω—è–ª–∏ Win Rate —Å 40.9% –¥–æ **50.0%**
- ‚úÖ –£–ª—É—á—à–∏–ª–∏ PF —Å 0.46 –¥–æ 0.71
- ‚úÖ –£–ª—É—á—à–∏–ª–∏ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –Ω–∞ **+55.3%** (—Å -65% –¥–æ -9.7%)

‚ùå **–ù–û:** –°—Ä–µ–¥–Ω–∏–π —É–±—ã—Ç–æ–∫ ($3.97) > –°—Ä–µ–¥–Ω—è—è –ø—Ä–∏–±—ã–ª—å ($2.82) ‚Üí –î–∞–∂–µ –ø—Ä–∏ 50% WR —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —É–±—ã—Ç–æ—á–Ω–∞!

---

### 3Ô∏è‚É£ **–£–∂–µ—Å—Ç–æ—á–µ–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã (11 —Ñ–∏–ª—å—Ç—Ä–æ–≤, MIN_SCORE=4)**

**–î–æ–±–∞–≤–ª–µ–Ω—ã:**
- –§–∏–ª—å—Ç—Ä –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ (1.5% - 4.5%)
- –§–∏–ª—å—Ç—Ä —Å–∏–ª—ã —Ç—Ä–µ–Ω–¥–∞ (–º–∏–Ω 0.5%)
- –§–∏–ª—å—Ç—Ä –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ (–º–∏–Ω 1.5x –æ–±—ä–µ–º)

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | vs –ë–∞–∑–æ–≤—ã–π |
|---------|----------|------------|
| –î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å | -10.96% | **-1.26%** ‚¨áÔ∏è |
| Win Rate | 41.9% | **-8.1%** ‚¨áÔ∏è |
| Profit Factor | 0.51 | **-0.20** ‚¨áÔ∏è |
| –°–¥–µ–ª–æ–∫ | 93 | -75 |
| Win/Loss Ratio | 0.70 | -0.01 |

**–í—ã–≤–æ–¥:** –£–∂–µ—Å—Ç–æ—á–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤ **–£–•–£–î–®–ò–õ–û** —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã! 
- –û—Ç—Å–µ–∫–ª–æ 75.9% –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- –ù–æ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è —Å–¥–µ–ª–∫–∏ –æ–∫–∞–∑–∞–ª–∏—Å—å **–º–µ–Ω–µ–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏**
- **–í–µ—Ä–¥–∏–∫—Ç:** –§–∏–ª—å—Ç—Ä—ã —É–∂–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã –ø—Ä–∏ MIN_SCORE=3

---

### 4Ô∏è‚É£ **AI-–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ TP/SL**

| –ú–µ—Ç—Ä–∏–∫–∞ | –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ | AI | –†–∞–∑–Ω–∏—Ü–∞ |
|---------|-------------|-----|---------|
| –î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å | -9.70% | -9.70% | **0.00%** |
| Win Rate | 50.0% | 50.0% | 0.0% |
| Profit Factor | 0.71 | 0.71 | 0.00 |

**–í—ã–≤–æ–¥:** AI –Ω–µ –¥–∞–ª —É–ª—É—á—à–µ–Ω–∏—è, —Ç–∞–∫ –∫–∞–∫ **–Ω–µ –±—ã–ª –æ–±—É—á–µ–Ω** –Ω–∞ —ç—Ç–∏—Ö —Å–∏–º–≤–æ–ª–∞—Ö/—É—Å–ª–æ–≤–∏—è—Ö.

---

### 5Ô∏è‚É£ **–°—Ç–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ TP (–¥–æ 3.0%/5.0%)**

| –ú–µ—Ç—Ä–∏–∫–∞ | TP=2.5/4.0 | TP=3.0/5.0 | –†–∞–∑–Ω–∏—Ü–∞ |
|---------|------------|------------|---------|
| –î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å | -9.70% | **-14.90%** | **-5.2%** ‚¨áÔ∏è |
| Win Rate | 50.0% | 44.9% | -5.1% ‚¨áÔ∏è |
| TP –ø–æ–ø–∞–¥–∞–Ω–∏—è | 46.4% | 41.8% | -4.6% ‚¨áÔ∏è |
| Profit Factor | 0.71 | 0.60 | -0.11 ‚¨áÔ∏è |

**–í—ã–≤–æ–¥:** –£–≤–µ–ª–∏—á–µ–Ω–∏–µ TP **–£–•–£–î–®–ê–ï–¢** —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã - –º–µ–Ω—å—à–µ —Å–¥–µ–ª–æ–∫ –¥–æ—Å—Ç–∏–≥–∞—é—Ç TP!

---

### 6Ô∏è‚É£ **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π Trailing Stop (4 –≤–∞—Ä–∏–∞–Ω—Ç–∞)**

| –í–∞—Ä–∏–∞–Ω—Ç | –ê–∫—Ç–∏–≤–∞—Ü–∏—è | –î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å | WR | PF | W/L Ratio |
|---------|-----------|------------|-----|-----|-----------|
| Conservative | 100% –∫ TP1 | -9.70% | 50.0% | 0.71 | **0.71** |
| Moderate | 50% –∫ TP1 | -9.58% | 49.4% | 0.69 | **0.71** |
| Aggressive | 30% –∫ TP1 | -11.14% | 45.6% | 0.63 | 0.75 |
| Very Aggressive | 20% –∫ TP1 | -14.43% | 40.6% | 0.52 | 0.76 |

**–í—ã–≤–æ–¥:** –ë–æ–ª–µ–µ —Ä–∞–Ω–Ω—è—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è trailing stop **–£–•–£–î–®–ê–ï–¢** —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:
- Win Rate –ø–∞–¥–∞–µ—Ç (—Å 50% –¥–æ 40.6%)
- TP –ø–æ–ø–∞–¥–∞–Ω–∏—è —Å–Ω–∏–∂–∞—é—Ç—Å—è (—Å 46% –¥–æ 37%)
- **Win/Loss Ratio –ù–ï –£–õ–£–ß–®–ê–ï–¢–°–Ø** (–æ—Å—Ç–∞–µ—Ç—Å—è 0.71-0.76)

---

## üîë –ö–õ–Æ–ß–ï–í–´–ï –í–´–í–û–î–´

### ‚úÖ **–ß–¢–û –†–ê–ë–û–¢–ê–ï–¢ –û–¢–õ–ò–ß–ù–û:**

1. **–§–∏–ª—å—Ç—Ä—ã (8 —Ñ–∏–ª—å—Ç—Ä–æ–≤, MIN_SCORE=3)**
   - –£–ª—É—á—à–∞—é—Ç –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –Ω–∞ **+55.3%** (—Å -65% –¥–æ -9.7%)
   - –ü–æ–≤—ã—à–∞—é—Ç Win Rate —Å 40.9% –¥–æ **50.0%**
   - –ü–æ–≤—ã—à–∞—é—Ç Profit Factor —Å 0.46 –¥–æ 0.71
   - –°–æ–∫—Ä–∞—â–∞—é—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–µ–ª–æ–∫ –≤ **12 —Ä–∞–∑**

2. **TP/SL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (2.5%/4.0%/1.5%)**
   - –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ R/R = 1.67
   - TP –ø–æ–ø–∞–¥–∞–Ω–∏—è: 46.4% (–æ—Ç–ª–∏—á–Ω–æ!)
   - –õ—é–±–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ ‚Üí —É—Ö—É–¥—à–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

3. **Trailing Stop (–∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π, 100% –∫ TP1)**
   - –¢–µ–∫—É—â–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–ø—Ç–∏–º–∞–ª—å–Ω–∞
   - –ë–æ–ª–µ–µ —Ä–∞–Ω–Ω—è—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è —É—Ö—É–¥—à–∞–µ—Ç Win Rate

---

### ‚ùå **–§–£–ù–î–ê–ú–ï–ù–¢–ê–õ–¨–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê:**

#### **Win/Loss Ratio = 0.71 (< 1.0)**

```
–°—Ä–µ–¥–Ω–∏–π Win:  $2.82
–°—Ä–µ–¥–Ω–∏–π Loss: $3.97
–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ:  0.71 ‚ùå
```

**–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:**
- –î–∞–∂–µ –ø—Ä–∏ **–∏–¥–µ–∞–ª—å–Ω—ã—Ö 50% Win Rate** —Å—Ç—Ä–∞—Ç–µ–≥–∏—è **—É–±—ã—Ç–æ—á–Ω–∞**!
- –ü—Ä–æ–±–ª–µ–º–∞ **–ù–ï –≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ö, TP/SL –∏–ª–∏ trailing stop**
- –ü—Ä–æ–±–ª–µ–º–∞ **–í –°–ê–ú–û–ô –õ–û–ì–ò–ö–ï –ì–ï–ù–ï–†–ê–¶–ò–ò –°–ò–ì–ù–ê–õ–û–í (–ø–∞—Ç—Ç–µ—Ä–Ω–∞—Ö)**

---

## üéØ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –î–õ–Ø –î–û–°–¢–ò–ñ–ï–ù–ò–Ø –ü–†–ò–ë–´–õ–¨–ù–û–°–¢–ò

### üîß **–û–ü–¢–ò–ú–ê–õ–¨–ù–´–ï –ü–ê–†–ê–ú–ï–¢–†–´ (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã):**

```python
# TP/SL (–ù–ï –ú–ï–ù–Ø–¢–¨)
TP1_PCT = 2.5
TP2_PCT = 4.0
SL_PCT = 1.5

# –§–∏–ª—å—Ç—Ä—ã (–û–°–¢–ê–í–ò–¢–¨)
MIN_FILTER_SCORE = 3  # –∏–∑ 8 —Ñ–∏–ª—å—Ç—Ä–æ–≤
RSI_OVERSOLD = 28
RSI_OVERBOUGHT = 72
USE_BTC_TREND_FILTER = True
USE_ETH_TREND_FILTER = True
USE_SOL_TREND_FILTER = True
MACD_MIN_STRENGTH = 0.003
VOLUME_RATIO_MIN = 1.2
BB_MIN_WIDTH = 0.015

# Trailing Stop (–û–°–¢–ê–í–ò–¢–¨)
tp1_activation_progress = 1.0  # 100% –∫ TP1
breakeven_offset_pct = 0.3
```

---

### üöÄ **–ß–¢–û –ù–£–ñ–ù–û –ò–ó–ú–ï–ù–ò–¢–¨:**

#### 1Ô∏è‚É£ **–£–õ–£–ß–®–ò–¢–¨ –õ–û–ì–ò–ö–£ –ü–ê–¢–¢–ï–†–ù–û–í (–ö–†–ò–¢–ò–ß–ù–û!)**

**–¢–µ–∫—É—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã:**
```python
# LONG
if (rsi < 40 and price > ema_medium and 
    macd > macd_signal and volume_ratio > 1.0):
    # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–∏–≥–Ω–∞–ª

# SHORT
if (rsi > 60 and price < ema_medium and 
    macd < macd_signal and volume_ratio > 1.0):
    # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–∏–≥–Ω–∞–ª
```

**–ü–†–û–ë–õ–ï–ú–ê:** –≠—Ç–∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–∞—é—Ç **Win/Loss Ratio = 0.71**, —á—Ç–æ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ!

**–†–ï–®–ï–ù–ò–ï –ê:** –î–æ–±–∞–≤–∏—Ç—å **–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–∏–ª—å–Ω–æ–≥–æ —Ç—Ä–µ–Ω–¥–∞ –Ω–∞ H4**

```python
def get_h4_trend_strength(symbol):
    """–ü–æ–ª—É—á–∏—Ç—å —Å–∏–ª—É —Ç—Ä–µ–Ω–¥–∞ –Ω–∞ H4"""
    df_h4 = get_data(symbol, '4h')
    
    # EMA —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ
    ema_distance = abs(df_h4['ema_fast'] - df_h4['ema_slow']) / df_h4['ema_slow']
    
    # MACD –∏–º–ø—É–ª—å—Å
    macd_strength = abs(df_h4['macd_hist']) / abs(df_h4['macd'])
    
    # ADX (–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ—Å—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è)
    adx = calculate_adx(df_h4, period=14)
    
    trend_strength = (ema_distance + macd_strength + adx/100) / 3
    
    return trend_strength

# –í —Ñ–∏–ª—å—Ç—Ä–∞—Ö –¥–æ–±–∞–≤–∏—Ç—å:
if get_h4_trend_strength(symbol) < 0.02:  # –º–∏–Ω–∏–º—É–º 2% —Å–∏–ª–∞ —Ç—Ä–µ–Ω–¥–∞
    reject_signal("H4 —Ç—Ä–µ–Ω–¥ —Å–ª–∏—à–∫–æ–º —Å–ª–∞–±—ã–π")
```

**–†–ï–®–ï–ù–ò–ï –ë:** –î–æ–±–∞–≤–∏—Ç—å **—Ñ–∏–ª—å—Ç—Ä —Ä—ã–Ω–æ—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞**

```python
def is_trending_market():
    """–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏ —Ä—ã–Ω–æ–∫ –≤ —Ç—Ä–µ–Ω–¥–µ (–Ω–µ –≤–æ —Ñ–ª—ç—Ç–µ)"""
    btc_volatility = get_atr_pct('BTCUSDT', '4h')
    eth_volatility = get_atr_pct('ETHUSDT', '4h')
    
    # –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å –¥–ª—è —Ç—Ä–µ–Ω–¥–∞
    if btc_volatility < 0.02 or eth_volatility < 0.02:
        return False  # –§–ª—ç—Ç
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ—Å—Ç–∏
    btc_trending = is_directional_move('BTCUSDT', lookback=24)
    eth_trending = is_directional_move('ETHUSDT', lookback=24)
    
    return btc_trending and eth_trending

# –ù–ï —Ç–æ—Ä–≥–æ–≤–∞—Ç—å –≤–æ —Ñ–ª—ç—Ç–µ
if not is_trending_market():
    reject_signal("–†—ã–Ω–æ–∫ –≤–æ —Ñ–ª—ç—Ç–µ")
```

**–†–ï–®–ï–ù–ò–ï –í:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **ML-–º–æ–¥–µ–ª—å –¥–ª—è –æ—Ç–±–æ—Ä–∞ –ª—É—á—à–∏—Ö –º–æ–º–µ–Ω—Ç–æ–≤**

```python
from sklearn.ensemble import RandomForestClassifier

class PatternQualityPredictor:
    """ML-–º–æ–¥–µ–ª—å –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞"""
    
    def predict_pattern_quality(self, features):
        """
        –ü—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Ç–æ–≥–æ, —á—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω –¥–æ—Å—Ç–∏–≥–Ω–µ—Ç TP
        
        Features:
        - RSI
        - MACD strength
        - Volume ratio
        - EMA alignment
        - H4 trend strength
        - Market volatility
        - BTC/ETH correlation
        - Time of day (–æ–±—ä–µ–º—ã –≤—ã—à–µ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —á–∞—Å—ã)
        """
        probability = self.model.predict_proba(features)[0][1]
        return probability

# –í —Ñ–∏–ª—å—Ç—Ä–∞—Ö:
pattern_quality = ml_predictor.predict_pattern_quality(current_features)
if pattern_quality < 0.6:  # –º–∏–Ω–∏–º—É–º 60% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —É—Å–ø–µ—Ö–∞
    reject_signal("ML: –Ω–∏–∑–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞")
```

---

#### 2Ô∏è‚É£ **–¢–û–†–ì–û–í–ê–¢–¨ –¢–û–õ–¨–ö–û –í –°–ò–õ–¨–ù–´–• –¢–†–ï–ù–î–ê–•**

–î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä ADX (Average Directional Index):

```python
ADX_MIN = 25  # –ú–∏–Ω–∏–º—É–º 25 –¥–ª—è —Ç—Ä–µ–Ω–¥–∞
ADX_MAX = 70  # –ú–∞–∫—Å–∏–º—É–º 70 (–∏–∑–±–µ–≥–∞—Ç—å —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã—Ö —Ç—Ä–µ–Ω–¥–æ–≤)

if not (ADX_MIN <= adx <= ADX_MAX):
    reject_signal("ADX: –Ω–µ—Ç —Å–∏–ª—å–Ω–æ–≥–æ —Ç—Ä–µ–Ω–¥–∞")
```

---

#### 3Ô∏è‚É£ **–ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨ –¢–û–õ–¨–ö–û TOP-3 –°–ò–ú–í–û–õ–ê**

–û–≥—Ä–∞–Ω–∏—á–∏—Ç—å—Å—è **BTC, ETH, SOL** - –±–æ–ª–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ –∏ –ª–∏–∫–≤–∏–¥–Ω—ã–µ:

```python
ALLOWED_SYMBOLS = ['BTCUSDT', 'ETHUSDT', 'SOLUSDT']

if symbol not in ALLOWED_SYMBOLS:
    reject_signal("–¢–æ—Ä–≥—É–µ–º —Ç–æ–ª—å–∫–æ —Ç–æ–ø-3 —Å–∏–º–≤–æ–ª–∞")
```

---

#### 4Ô∏è‚É£ **–î–û–ë–ê–í–ò–¢–¨ –í–†–ï–ú–ï–ù–ù–û–ô –§–ò–õ–¨–¢–†**

–ù–µ —Ç–æ—Ä–≥–æ–≤–∞—Ç—å –≤ —á–∞—Å—ã –Ω–∏–∑–∫–æ–π –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏:

```python
def is_high_liquidity_hours():
    """–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Å–µ–π—á–∞—Å —á–∞—Å—ã –≤—ã—Å–æ–∫–æ–π –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏"""
    hour_utc = datetime.utcnow().hour
    
    # –í—ã—Å–æ–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: 8:00-16:00 UTC (–ï–≤—Ä–æ–ø–∞ + –°–®–ê)
    if 8 <= hour_utc <= 16:
        return True
    
    return False

if not is_high_liquidity_hours():
    reject_signal("–ù–∏–∑–∫–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å")
```

---

## üìä –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢ –ü–û–°–õ–ï –£–õ–£–ß–®–ï–ù–ò–ô

### –¶–µ–ª—å: **Win/Loss Ratio >= 1.0**

–ï—Å–ª–∏ —É–¥–∞—Å—Ç—Å—è –ø–æ–≤—ã—Å–∏—Ç—å **Win/Loss Ratio** —Å **0.71** –¥–æ **1.0+**:

| –ú–µ—Ç—Ä–∏–∫–∞ | –¢–µ–∫—É—â–µ–µ | –¶–µ–ª—å |
|---------|---------|------|
| Win/Loss Ratio | 0.71 | **1.0** |
| –°—Ä–µ–¥–Ω–∏–π Win | $2.82 | $2.82 (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π) |
| –°—Ä–µ–¥–Ω–∏–π Loss | $3.97 | **$2.82** (—Å–Ω–∏–∑–∏—Ç—å!) |
| Win Rate | 50.0% | 50.0% (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π) |
| **–î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å** | **-9.70%** | **0%** (–±–µ–∑—É–±—ã—Ç–æ–∫) |

–ü—Ä–∏ **Win/Loss Ratio = 1.2** (–æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π):

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| Win/Loss Ratio | **1.2** |
| Win Rate | 50.0% |
| **–î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å** | **+10-15%** –≥–æ–¥–æ–≤—ã—Ö ‚úÖ |
| **–ú–µ—Å—è—á–Ω–∞—è** | **+0.8-1.2%** ‚úÖ |

---

## ‚úÖ –ò–¢–û–ì–û–í–´–ô –ß–ï–ö–õ–ò–°–¢

### –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ (–ù–ï –ú–ï–ù–Ø–¢–¨):

- ‚úÖ –§–∏–ª—å—Ç—Ä—ã (8 —Ñ–∏–ª—å—Ç—Ä–æ–≤, MIN_SCORE=3) - —Ä–∞–±–æ—Ç–∞—é—Ç –æ—Ç–ª–∏—á–Ω–æ
- ‚úÖ TP/SL (2.5%/4.0%/1.5%) - –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã
- ‚úÖ Trailing Stop (100% –∫ TP1) - –æ–ø—Ç–∏–º–∞–ª–µ–Ω
- ‚úÖ A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Smart RSI
- ‚úÖ Hybrid MTF Confirmation

### –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å (–ö–†–ò–¢–ò–ß–ù–û):

- ‚ùå –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä **—Å–∏–ª—ã —Ç—Ä–µ–Ω–¥–∞ –Ω–∞ H4** (ADX >= 25)
- ‚ùå –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä **—Ä—ã–Ω–æ—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞** (–Ω–µ —Ç–æ—Ä–≥–æ–≤–∞—Ç—å –≤–æ —Ñ–ª—ç—Ç–µ)
- ‚ùå –î–æ–±–∞–≤–∏—Ç—å **ML-–º–æ–¥–µ–ª—å –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞**
- ‚ùå –î–æ–±–∞–≤–∏—Ç—å **–≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä** (—á–∞—Å—ã –≤—ã—Å–æ–∫–æ–π –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏)
- ‚ùå –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å—Å—è **—Ç–æ–ø-3 —Å–∏–º–≤–æ–ª–∞–º–∏** (BTC, ETH, SOL)
- ‚ùå **–û–±—É—á–∏—Ç—å AI-–æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä—ã** –Ω–∞ –≥–æ–¥–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

---

## üéØ –§–ò–ù–ê–õ–¨–ù–´–ô –í–´–í–û–î

### **–¢–µ–∫—É—â–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è:**
- ‚úÖ **–§–∏–ª—å—Ç—Ä—ã –∏ TP/SL - –û–ü–¢–ò–ú–ê–õ–¨–ù–´**
- ‚úÖ **–£–ª—É—á—à–∏–ª–∏ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –Ω–∞ +55.3%** (—Å -65% –¥–æ -9.7%)
- ‚ùå **–í—Å—ë –µ—â—ë —É–±—ã—Ç–æ—á–Ω–∞ (-9.7% –≥–æ–¥–æ–≤—ã—Ö)**

### **–ü—Ä–∏—á–∏–Ω–∞ —É–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏:**
- ‚ùå **Win/Loss Ratio = 0.71** (—Å—Ä–µ–¥–Ω–∏–π —É–±—ã—Ç–æ–∫ > —Å—Ä–µ–¥–Ω—è—è –ø—Ä–∏–±—ã–ª—å)
- –ü—Ä–æ–±–ª–µ–º–∞ **–≤ –ª–æ–≥–∏–∫–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∏–≥–Ω–∞–ª–æ–≤**, –∞ –Ω–µ –≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ö/TP/SL

### **–†–µ—à–µ–Ω–∏–µ:**
–ù—É–∂–Ω–æ **—É–ª—É—á—à–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ —Ç–æ—á–µ–∫ –≤—Ö–æ–¥–∞**, –¥–æ–±–∞–≤–∏–≤:
1. –§–∏–ª—å—Ç—Ä —Å–∏–ª—ã —Ç—Ä–µ–Ω–¥–∞ –Ω–∞ H4 (ADX)
2. –§–∏–ª—å—Ç—Ä —Ä—ã–Ω–æ—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ (—Ç—Ä–µ–Ω–¥ vs —Ñ–ª—ç—Ç)
3. ML-–º–æ–¥–µ–ª—å –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
4. –í—Ä–µ–º–µ–Ω–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä (–ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å)
5. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ç–æ–ø-3 —Å–∏–º–≤–æ–ª–∞–º–∏

### **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
–ü—Ä–∏ –ø–æ–≤—ã—à–µ–Ω–∏–∏ **Win/Loss Ratio** –¥–æ **1.0-1.2** ‚Üí —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Å—Ç–∞–Ω–µ—Ç **–ø—Ä–∏–±—ã–ª—å–Ω–æ–π (+10-15% –≥–æ–¥–æ–≤—ã—Ö)** ‚úÖ

---

## üìÅ –°–û–•–†–ê–ù–ï–ù–ù–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

- `backtests/complete_backtest_results_364days.csv` - –ë–∞–∑–æ–≤—ã–π —Ç–µ—Å—Ç —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- `backtests/ultra_filtered_results_364days.csv` - –£–∂–µ—Å—Ç–æ—á–µ–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã
- `backtests/adaptive_trailing_*` - –¢–µ—Å—Ç—ã trailing stop

---

**–î–∞—Ç–∞ –æ—Ç—á—ë—Ç–∞:** 2025-11-21  
**–ü–µ—Ä–∏–æ–¥ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** 365 –¥–Ω–µ–π (2024-11-21 –¥–æ 2025-11-21)  
**–°–∏–º–≤–æ–ª–æ–≤:** 9 (BTC, ETH, BNB, SOL, XRP, ADA, DOGE, AVAX, DOT)  
**–¢–∞–π–º—Ñ—Ä–µ–π–º:** 1 —á–∞—Å  
**–í—Å–µ–≥–æ —Å–≤–µ—á–µ–π:** ~79,000  

