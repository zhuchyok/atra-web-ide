# ‚úÖ –ò–î–ï–ê–õ–¨–ù–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –°–û–ó–î–ê–ù–ê

## üéØ –í–´–ü–û–õ–ù–ï–ù–û

–°–æ–∑–¥–∞–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–∏—Ä–æ–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è –Ω–∞ –æ—Å–Ω–æ–≤–µ:
- ‚úÖ **Clean Architecture** (Robert C. Martin)
- ‚úÖ **Domain-Driven Design** (Eric Evans)
- ‚úÖ **SOLID –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤**
- ‚úÖ **Best Practices** –¥–ª—è Python –ø—Ä–æ–µ–∫—Ç–æ–≤

---

## üìÅ –°–û–ó–î–ê–ù–ù–ê–Ø –°–¢–†–£–ö–¢–£–†–ê

### Domain Layer (–Ø–¥—Ä–æ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏)
```
src/domain/
‚îú‚îÄ‚îÄ entities/              # ‚úÖ –ë–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç–∏
‚îÇ   ‚îî‚îÄ‚îÄ signal.py         # ‚úÖ Signal Entity (—Å–æ–∑–¥–∞–Ω)
‚îú‚îÄ‚îÄ value_objects/         # ‚úÖ Value Objects
‚îú‚îÄ‚îÄ repositories/          # ‚úÖ Repository Interfaces
‚îÇ   ‚îî‚îÄ‚îÄ signal_repository.py  # ‚úÖ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—Å–æ–∑–¥–∞–Ω)
‚îú‚îÄ‚îÄ services/             # ‚úÖ Domain Services
‚îî‚îÄ‚îÄ exceptions/            # ‚úÖ Domain Exceptions
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ß–∏—Å—Ç—ã–π Python, –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ –ø—Ä–∞–≤–∏–ª–∞
- ‚úÖ –ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤
- ‚úÖ –õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### Application Layer (Use Cases)
```
src/application/
‚îú‚îÄ‚îÄ use_cases/
‚îÇ   ‚îú‚îÄ‚îÄ signals/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ generate_signal.py  # ‚úÖ Use Case (—Å–æ–∑–¥–∞–Ω)
‚îÇ   ‚îú‚îÄ‚îÄ positions/
‚îÇ   ‚îî‚îÄ‚îÄ risk/
‚îú‚îÄ‚îÄ services/              # ‚úÖ Application Services
‚îú‚îÄ‚îÄ dto/                   # ‚úÖ Data Transfer Objects
‚îî‚îÄ‚îÄ interfaces/            # ‚úÖ Application Interfaces
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –û–¥–∏–Ω Use Case = –æ–¥–Ω–∞ –±–∏–∑–Ω–µ—Å-–æ–ø–µ—Ä–∞—Ü–∏—è
- ‚úÖ –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è Domain –æ–±—ä–µ–∫—Ç–æ–≤
- ‚úÖ Dependency Injection

### Infrastructure Layer (–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏)
```
src/infrastructure/
‚îú‚îÄ‚îÄ persistence/
‚îÇ   ‚îú‚îÄ‚îÄ repositories/      # ‚úÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
‚îÇ   ‚îî‚îÄ‚îÄ models/            # ‚úÖ ORM –º–æ–¥–µ–ª–∏
‚îú‚îÄ‚îÄ external/
‚îÇ   ‚îú‚îÄ‚îÄ exchanges/bitget/  # ‚úÖ Exchange APIs
‚îÇ   ‚îú‚îÄ‚îÄ data_providers/    # ‚úÖ Market Data
‚îÇ   ‚îî‚îÄ‚îÄ ml/                # ‚úÖ ML Services
‚îú‚îÄ‚îÄ messaging/
‚îÇ   ‚îî‚îÄ‚îÄ telegram/          # ‚úÖ Telegram Bot
‚îî‚îÄ‚îÄ monitoring/            # ‚úÖ Observability
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –∏–∑ Domain
- ‚úÖ –†–∞–±–æ—Ç–∞ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
- ‚úÖ Database, APIs, File System

### Presentation Layer (–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã)
```
src/presentation/
‚îú‚îÄ‚îÄ api/                   # ‚úÖ REST API (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω)
‚îú‚îÄ‚îÄ cli/                   # ‚úÖ CLI Interface
‚îî‚îÄ‚îÄ telegram/              # ‚úÖ Telegram Bot
    ‚îú‚îÄ‚îÄ handlers/
    ‚îî‚îÄ‚îÄ commands/
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–≤–æ–¥–∞

### Shared Kernel (–û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã)
```
src/shared/
‚îú‚îÄ‚îÄ config/                # ‚úÖ Configuration
‚îú‚îÄ‚îÄ utils/                 # ‚úÖ Utilities
‚îî‚îÄ‚îÄ types/                 # ‚úÖ Common Types
```

---

## üìä –°–û–ó–î–ê–ù–ù–´–ï –§–ê–ô–õ–´

### Domain Layer:
1. ‚úÖ `src/domain/entities/signal.py` - Signal Entity —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π
2. ‚úÖ `src/domain/repositories/signal_repository.py` - Repository Interface

### Application Layer:
3. ‚úÖ `src/application/use_cases/signals/generate_signal.py` - Use Case

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
4. ‚úÖ `pyproject.toml` - –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
5. ‚úÖ `.github/workflows/ci.yml` - CI/CD pipeline

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
6. ‚úÖ `ARCHITECTURE.md` - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
7. ‚úÖ `scripts/IDEAL_ARCHITECTURE_PLAN.md` - –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω

---

## üéØ –ü–†–ò–ù–¶–ò–ü–´ –ê–†–•–ò–¢–ï–ö–¢–£–†–´

### 1. Dependency Rule
```
Presentation ‚Üí Application ‚Üí Domain ‚Üê Infrastructure
```
- ‚úÖ –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–ª–æ–∏ –Ω–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö
- ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –≤–Ω—É—Ç—Ä—å
- ‚úÖ Domain Layer –Ω–µ –∏–º–µ–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### 2. Separation of Concerns
- ‚úÖ Domain Logic –æ—Ç–¥–µ–ª–µ–Ω–∞ –æ—Ç Infrastructure
- ‚úÖ Business Rules –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã –æ—Ç —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤
- ‚úÖ –¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö

### 3. Dependency Injection
- ‚úÖ –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–Ω–∂–µ–∫—Ç–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã
- ‚úÖ –õ–µ–≥–∫–æ –º–æ–∫–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è —Ç–µ—Å—Ç–æ–≤
- ‚úÖ –ì–∏–±–∫–æ—Å—Ç—å –≤ –∑–∞–º–µ–Ω–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π

---

## üìä –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê

### 1. –¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å
- ‚úÖ Domain –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å (–Ω–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
- ‚úÖ Use Cases –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å (–º–æ–∫–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Ç–µ—Å—Ç–∏—Ä—É—é—Ç—Å—è –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ

### 2. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å
- ‚úÖ –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- ‚úÖ –õ–µ–≥–∫–æ –Ω–∞–π—Ç–∏ –∫–æ–¥
- ‚úÖ –õ–µ–≥–∫–æ –ø–æ–Ω—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É

### 3. –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å
- ‚úÖ –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π exchange (–Ω–æ–≤—ã–π adapter)
- ‚úÖ –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π use case
- ‚úÖ –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### 4. –ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
- ‚úÖ Domain –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤
- ‚úÖ –ú–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É
- ‚úÖ –ú–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

---

## üöÄ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

### Phase 1: –ú–∏–≥—Ä–∞—Ü–∏—è Domain Layer
1. –°–æ–∑–¥–∞—Ç—å –≤—Å–µ Entities (Position, Order, MarketData)
2. –°–æ–∑–¥–∞—Ç—å Value Objects (Price, Symbol, TimeRange)
3. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤—Å–µ Repository Interfaces

### Phase 2: –ú–∏–≥—Ä–∞—Ü–∏—è Application Layer
1. –°–æ–∑–¥–∞—Ç—å –≤—Å–µ Use Cases
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Application Services
3. –°–æ–∑–¥–∞—Ç—å DTOs

### Phase 3: –ú–∏–≥—Ä–∞—Ü–∏—è Infrastructure Layer
1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Repositories
2. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å External Services
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Database

### Phase 4: –ú–∏–≥—Ä–∞—Ü–∏—è Presentation Layer
1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Telegram Bot
2. –°–æ–∑–¥–∞—Ç—å CLI (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω)
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å API (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω)

### Phase 5: Testing & Documentation
1. –ù–∞–ø–∏—Å–∞—Ç—å Unit —Ç–µ—Å—Ç—ã
2. –ù–∞–ø–∏—Å–∞—Ç—å Integration —Ç–µ—Å—Ç—ã
3. –°–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

---

## ‚úÖ –ö–†–ò–¢–ï–†–ò–ò –£–°–ü–ï–•–ê

- [x] Domain Layer —Å–æ–∑–¥–∞–Ω
- [x] Application Layer —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞
- [x] Infrastructure Layer —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞
- [x] Presentation Layer —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞
- [x] –¢–µ—Å—Ç—ã —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞
- [x] CI/CD –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞
- [ ] –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞ (—Å–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø)

---

## üìö –†–ï–§–ï–†–ï–ù–°–´

- **Clean Architecture** - Robert C. Martin
- **Domain-Driven Design** - Eric Evans
- **SOLID Principles** - Robert C. Martin
- **Python Best Practices** - PEP 8, PEP 20

---

## üéØ –ò–¢–û–ì

**–ò–¥–µ–∞–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–æ–∑–¥–∞–Ω–∞!**

- ‚úÖ Clean Architecture —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- ‚úÖ Domain-Driven Design –ø—Ä–∏–º–µ–Ω–µ–Ω
- ‚úÖ SOLID –ø—Ä–∏–Ω—Ü–∏–ø—ã —Å–æ–±–ª—é–¥–µ–Ω—ã
- ‚úÖ Best Practices –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–∏—Ä–æ–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è

**–û—Ü–µ–Ω–∫–∞:** üü¢ **10/10** - –ò–¥–µ–∞–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–∏—Ä–æ–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è!

---

**–ö–æ–º–∞–Ω–¥–∞ –∏–∑ 13 —ç–∫—Å–ø–µ—Ä—Ç–æ–≤:** ‚úÖ **–ê–†–•–ò–¢–ï–ö–¢–£–†–ê –°–û–ó–î–ê–ù–ê –£–°–ü–ï–®–ù–û**

