#!/bin/bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ—Ö –ø–æ–∑–∏—Ü–∏–π
# –ó–∞–ø—É—Å–∫–∞—Ç—å –Ω–∞ –±–æ–µ–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ

set -e

echo "üöÄ –ù–ê–ß–ê–õ–û –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –ü–û–ó–ò–¶–ò–ô"
echo "================================"
echo ""

# –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd "$(dirname "$0")/.." || exit 1

echo "üìã –®–ê–ì 1: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ–∑–∏—Ü–∏–π —Å –±–∏—Ä–∂–∏"
echo "----------------------------------------"
python3 scripts/sync_positions_with_exchange.py
echo ""

echo "üìã –®–ê–ì 2: –≠–∫—Å—Ç—Ä–µ–Ω–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ PUMPUSDT"
echo "----------------------------------------"
python3 scripts/emergency_fix_pumpusdt.py
echo ""

echo "üìã –®–ê–ì 3: –û–±—â–µ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–∑–∏—Ü–∏–π"
echo "----------------------------------------"
python3 scripts/fix_open_positions_tp_sl.py
echo ""

echo "‚úÖ –í–°–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –ó–ê–í–ï–†–®–ï–ù–´"
echo "================================"
echo ""
echo "üìä –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:"
echo "   - –ü–æ–∑–∏—Ü–∏–∏ –Ω–∞ –±–∏—Ä–∂–µ –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å TP1/TP2/SL"
echo "   - –õ–æ–≥–∏ –≤ order_audit_log"
echo "   - –ü–æ–∑–∏—Ü–∏–∏ –≤ active_positions"

