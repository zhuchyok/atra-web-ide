#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —É–ª—É—á—à–µ–Ω–∏–π –ò–ò —Å–∏—Å—Ç–µ–º—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä
# –†–µ–∞–ª–∏–∑—É–µ—Ç –í–∞—Ä–∏–∞–Ω—Ç 3: –£–º–Ω–æ–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏

SERVER_IP="185.177.216.15"
SERVER_USER="root"
SERVER_PASSWORD="u44Ww9NmtQj,XG"
SERVER_PATH="/root/atra"

echo "ü§ñ –ó–∞–≥—Ä—É–∑–∫–∞ —É–ª—É—á—à–µ–Ω–∏–π –ò–ò —Å–∏—Å—Ç–µ–º—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä"
echo "==========================================="
echo ""
echo "üìä –ß—Ç–æ –≤–∫–ª—é—á–µ–Ω–æ:"
echo "  ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏ (–º–∞–∫—Å 30K)"
echo "  ‚úÖ –£–º–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤–∞–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö"
echo "  ‚úÖ –°–∏—Å—Ç–µ–º–∞ –≤–µ—Å–æ–≤ –¥–ª—è –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏–∏"
echo "  ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ª–∏–º–∏—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞"
echo ""

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞
upload_file() {
    local file="$1"
    echo "üì§ –ó–∞–≥—Ä—É–∑–∫–∞ $file..."
    
    expect << EOF
spawn scp -o StrictHostKeyChecking=no $file $SERVER_USER@$SERVER_IP:$SERVER_PATH/
expect "password:"
send "$SERVER_PASSWORD\r"
expect eof
EOF
    
    if [ $? -eq 0 ]; then
        echo "‚úÖ $file –∑–∞–≥—Ä—É–∂–µ–Ω —É—Å–ø–µ—à–Ω–æ"
    else
        echo "‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ $file"
        return 1
    fi
}

# –ó–∞–≥—Ä—É–∂–∞–µ–º —Ñ–∞–π–ª—ã
upload_file "ai_config.py" || exit 1
upload_file "ai_learning_system.py" || exit 1
upload_file "ai_monitor.py" || exit 1

echo ""
echo "‚úÖ –í—Å–µ —É–ª—É—á—à–µ–Ω–∏—è –ò–ò –∑–∞–≥—Ä—É–∂–µ–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä!"
echo ""
echo "üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è:"
echo "./restart_bot_on_server.sh"
echo ""
echo "üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:"
echo "  ‚Ä¢ 33156 –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ ‚Üí –∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ ‚Üí ~23000 –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤"
echo "  ‚Ä¢ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å–∏—Å—Ç–µ–º—ã (–≤ 2-3 —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–µ–µ)"
echo "  ‚Ä¢ –°—Ç–∞–±–∏–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å"
echo "  ‚Ä¢ –°–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤—Å–µ –≤–∞–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (WIN/LOSS)"

