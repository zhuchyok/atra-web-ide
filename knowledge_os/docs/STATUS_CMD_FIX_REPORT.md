# –û–¢–ß–ï–¢ –û–ë –ò–°–ü–†–ê–í–õ–ï–ù–ò–ò –ö–û–ú–ê–ù–î–´ /STATUS

## üìä –ü—Ä–æ–±–ª–µ–º–∞
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–æ–±—â–∏–ª, —á—Ç–æ –∫–æ–º–∞–Ω–¥–∞ `/status` —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

## üîç –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞ —Å –∑–∞–≥—Ä—É–∑–∫–æ–π –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–ü—Ä–æ–±–ª–µ–º–∞**: –§—É–Ω–∫—Ü–∏—è `status_cmd` –Ω–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≥—Ä—É–∂–∞–ª–∞ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑-–∑–∞ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ç–∏–ø–æ–≤ `user_id` (int vs string)
- **–ü—Ä–∏—á–∏–Ω–∞**: –ö–∞–∫ –∏ –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö `balance_cmd` –∏ `myreport_cmd`, `user_id` –æ—Ç Telegram API –ø—Ä–∏—Ö–æ–¥–∏—Ç –∫–∞–∫ `int`, –Ω–æ –≤ `user_data.json` —Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–∞–∫ `string`
- **–°–∏–º–ø—Ç–æ–º**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥–ª–∏ –Ω–µ –≤–∏–¥–µ—Ç—å —Å–≤–æ–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–ª–∏ –≤–∏–¥–µ—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
**–§–∞–π–ª**: `telegram_bot.py` (—Å—Ç—Ä–æ–∫–∏ 3430-3445)

**–ë—ã–ª–æ**:
```python
async def status_cmd(update, context):
    user_id = update.effective_user.id if hasattr(update, 'effective_user') else (update.message.from_user.id if hasattr(update, 'message') else None)
    if user_id not in context.application.user_data:
        context.application.user_data[user_id] = {}
    user_data = context.application.user_data[user_id]
```

**–°—Ç–∞–ª–æ**:
```python
async def status_cmd(update, context):
    user_id = update.effective_user.id if hasattr(update, 'effective_user') else (update.message.from_user.id if hasattr(update, 'message') else None)

    # –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ —Ñ–∞–π–ª–∞
    load_user_data(context)

    # –ü—Ä–æ–≤–µ—Ä—è–µ–º user_id –∫–∞–∫ int –∏ –∫–∞–∫ string (–∫–∞–∫ –≤ balance_cmd –∏ myreport_cmd)
    user_id_int = user_id
    user_id_str = str(user_id)

    # –ò—â–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
    user_data = None
    if user_id_int in context.application.user_data:
        user_data = context.application.user_data[user_id_int]
    elif user_id_str in context.application.user_data:
        user_data = context.application.user_data[user_id_str]
    else:
        # –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã, —Å–æ–∑–¥–∞–µ–º –ø—É—Å—Ç–æ–π —Å–ª–æ–≤–∞—Ä—å
        context.application.user_data[user_id_int] = {}
        user_data = context.application.user_data[user_id_int]
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç: `test_status_cmd.py`
–°–∫—Ä–∏–ø—Ç —Å–∏–º—É–ª–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É –∫–æ–º–∞–Ω–¥—ã `/status` –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:

1. **–ó–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**
2. **–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞**
3. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤—ã—Ö —á–∞—Å–æ–≤**
4. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤**
5. **–ü–æ–¥—Å—á–µ—Ç —Å–∏–≥–Ω–∞–ª–æ–≤ –∑–∞ —Å–µ–≥–æ–¥–Ω—è**

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

#### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 958930260:
- ‚úÖ –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –¢–æ—Ä–≥–æ–≤—ã–µ —á–∞—Å—ã: –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (—Ç–æ—Ä–≥–æ–≤–ª—è 24/7)
- ‚úÖ –†–µ–∂–∏–º: –°—Ç—Ä–æ–≥–∏–π
- ‚úÖ –°–∏–≥–Ω–∞–ª–æ–≤ –∑–∞ —Å–µ–≥–æ–¥–Ω—è: 2

#### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 556251171:
- ‚úÖ –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –¢–æ—Ä–≥–æ–≤—ã–µ —á–∞—Å—ã: –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (—Ç–æ—Ä–≥–æ–≤–ª—è 24/7)
- ‚úÖ –†–µ–∂–∏–º: –ú—è–≥–∫–∏–π
- ‚úÖ –°–∏–≥–Ω–∞–ª–æ–≤ –∑–∞ —Å–µ–≥–æ–¥–Ω—è: 2

## üìã –í—ã–≤–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –∫–æ–º–∞–Ω–¥–µ /status

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç–∞—Ç—É—Å–∞:
1. **–ó–∞–≥–æ–ª–æ–≤–æ–∫**: `<b>–°—Ç–∞—Ç—É—Å –±–æ—Ç–∞:</b>`
2. **–¢–æ—Ä–≥–æ–≤—ã–µ —á–∞—Å—ã**:
   - –ï—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã: `–í–∞—à–∏ —Ç–æ—Ä–≥–æ–≤—ã–µ —á–∞—Å—ã: XX:00‚ÄìYY:00 (–ú–°–ö)`
   - –ï—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã: `–¢–æ—Ä–≥–æ–≤—ã–µ —á–∞—Å—ã: –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (—Ç–æ—Ä–≥–æ–≤–ª—è 24/7)`
3. **–†–µ–∂–∏–º —Ñ–∏–ª—å—Ç—Ä–æ–≤**:
   - –°—Ç—Ä–æ–≥–∏–π (–¥–ª—è `balanced`)
   - –ú—è–≥–∫–∏–π (–¥–ª—è `soft`)
4. **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–≥–Ω–∞–ª–æ–≤**: `–°–∏–≥–Ω–∞–ª–æ–≤ –∑–∞ —Å–µ–≥–æ–¥–Ω—è: <b>X</b>`

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- **–ü–æ–¥—Å—á–µ—Ç —Å–∏–≥–Ω–∞–ª–æ–≤**: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å timezone-aware –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ `signals_log.csv`
- **–†–µ–∂–∏–º —Ñ–∏–ª—å—Ç—Ä–æ–≤**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–¢–æ—Ä–≥–æ–≤—ã–µ —á–∞—Å—ã**: –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏—Ö –Ω–∞—Å—Ç—Ä–æ–∏–ª

## ‚úÖ –°—Ç–∞—Ç—É—Å
**–ü–†–û–ë–õ–ï–ú–ê –ò–°–ü–†–ê–í–õ–ï–ù–ê**

- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ user_id
- ‚úÖ –ö–æ–º–∞–Ω–¥–∞ `/status` —Ç–µ–ø–µ—Ä—å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∞ —Å –¥—Ä—É–≥–∏–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏ (`/balance`, `/myreport`)
- ‚úÖ –ö–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—à–ª–æ —É—Å–ø–µ—à–Ω–æ –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –í—Å–µ –≤—ã–≤–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

## üóÇÔ∏è –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- `test_status_cmd.py` - —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç
- `STATUS_CMD_FIX_REPORT.md` - –¥–∞–Ω–Ω—ã–π –æ—Ç—á–µ—Ç

## üßπ –û—á–∏—Å—Ç–∫–∞
–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π.

## üîÑ –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
–¢–µ–ø–µ—Ä—å –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (`/balance`, `/myreport`, `/status`) –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—É—é –ª–æ–≥–∏–∫—É –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞.