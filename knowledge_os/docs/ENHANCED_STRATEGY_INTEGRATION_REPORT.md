# –û—Ç—á–µ—Ç: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Å —Ä–µ–∂–∏–º–∞–º–∏ Soft/Strict

## üìã –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ

**–î–∞, —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤ —Ä–µ–∂–∏–º—ã soft/strict!**

–û–±–∞ —Ä–µ–∂–∏–º–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é Bollinger Bands, –Ω–æ —Å —Ä–∞–∑–Ω—ã–º–∏ —É—Ä–æ–≤–Ω—è–º–∏ —Å—Ç—Ä–æ–≥–æ—Å—Ç–∏ –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ —Å–∏–≥–Ω–∞–ª–æ–≤.

## üîç –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### 1. –§—É–Ω–∫—Ü–∏—è –≤—ã–±–æ—Ä–∞ —Ä–µ–∂–∏–º–∞
```python
def get_entry_signal_by_mode(df, i, filter_mode="soft", symbol=None):
    """–í—ã–±–æ—Ä —Ñ—É–Ω–∫—Ü–∏–∏ –≤—Ö–æ–¥–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∂–∏–º–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤"""
    if filter_mode == "soft":
        return soft_entry_signal(df, i)
    elif filter_mode == "strict":
        return strict_entry_signal(df, i)
    else:  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ–º soft
        return soft_entry_signal(df, i)
```

### 2. –û–±—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
–û–±–∞ —Ä–µ–∂–∏–º–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç **–æ–¥–Ω—É –∏ —Ç—É –∂–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é** `ENHANCED_STRATEGY_CONFIG`, –∫–æ—Ç–æ—Ä–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.

## üéØ –†–µ–∂–∏–º SOFT (–ú—è–≥–∫–∏–π)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Å–∏–≥–Ω–∞–ª–æ–≤:
1. **ENHANCED BOLLINGER –°–ò–ì–ù–ê–õ–´** (–≤—ã—Å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
   - `improved_mean_reversion_signal()` - —É–ª—É—á—à–µ–Ω–Ω—ã–π –≤–æ–∑–≤—Ä–∞—Ç –∫ —Å—Ä–µ–¥–Ω–µ–π
   - `improved_breakout_signal()` - —É–ª—É—á—à–µ–Ω–Ω—ã–π –ø—Ä–æ–±–æ–π –ø–æ–ª–æ—Å
   - `improved_squeeze_breakout_signal()` - —É–ª—É—á—à–µ–Ω–Ω—ã–π –ø—Ä–æ–±–æ–π –ø–æ—Å–ª–µ squeeze

2. **–ö–õ–ê–°–°–ò–ß–ï–°–ö–ò–ï –£–°–õ–û–í–ò–Ø** (–µ—Å–ª–∏ enhanced –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–∏)
   - –ë–æ–ª–µ–µ –º—è–≥–∫–∏–µ —É—Å–ª–æ–≤–∏—è –¥–ª—è LONG/SHORT
   - –ú–µ–Ω—å—à–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤:
- `sentiment_threshold = 0.6` (–±–æ–ª–µ–µ –º—è–≥–∫–∏–π)
- `fear_greed_soft_threshold = 85` (–±–æ–ª–µ–µ –º—è–≥–∫–∏–π)
- –ë–æ–ª–µ–µ –º—è–≥–∫–∏–µ —É—Å–ª–æ–≤–∏—è RSI, –æ–±—ä–µ–º–∞, –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏

## üîí –†–µ–∂–∏–º STRICT (–°—Ç—Ä–æ–≥–∏–π)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Å–∏–≥–Ω–∞–ª–æ–≤:
1. **–ü–†–û–°–¢–ê–Ø –õ–û–ì–ò–ö–ê** (–±–µ–∑ enhanced —Ñ—É–Ω–∫—Ü–∏–π)
   - –ü—Ä—è–º—ã–µ —É—Å–ª–æ–≤–∏—è –¥–ª—è LONG/SHORT
   - –ë–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º

2. **–î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–ê–Ø –°–¢–†–ê–¢–ï–ì–ò–Ø**
   - –ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ EMA (–∑–æ–ª–æ—Ç–æ–π/–º–µ—Ä—Ç–≤—ã–π –∫—Ä–µ—Å—Ç)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤:
- `sentiment_threshold = 0.4` (–±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–π)
- `fear_greed_strict_threshold = 75` (–±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–π)
- –ë–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–µ —É—Å–ª–æ–≤–∏—è RSI, –æ–±—ä–µ–º–∞, –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏

## ‚öôÔ∏è –û–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
–û–±–∞ —Ä–µ–∂–∏–º–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `add_enhanced_indicators()`:
- Bollinger Bands (BB)
- EMA (7, 25, 50, 200)
- RSI
- ATR
- Momentum
- Volume ratio
- Sentiment score

### 2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ENHANCED_STRATEGY_CONFIG
```python
ENHANCED_STRATEGY_CONFIG = {
    # Bollinger Bands
    "bb_window": 20,
    "bb_std": 2.0,

    # EMA
    "ema_fast": 12,
    "ema_slow": 39,
    "ema_trend": 50,

    # RSI (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –∏–Ω—Ç—Ä–∞–¥–µ–π)
    "rsi_window": 14,
    "rsi_overbought": 69.8,
    "rsi_oversold": 30,
    "rsi_neutral_high": 55,
    "rsi_neutral_low": 45,

    # ATR
    "atr_window": 15,
    "atr_multiplier_sl": 1.7,

    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
    "breakout_config": {...},
    "mean_reversion_config": {...},
    "squeeze_config": {...},
    "dynamic_management": {...},
    "profit_distribution_config": {...}
}
```

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### –ß—Ç–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç—Å—è:
- **–¢–æ–ª—å–∫–æ ENHANCED_STRATEGY_CONFIG** (–æ–±—â–∞—è –¥–ª—è –æ–±–æ–∏—Ö —Ä–µ–∂–∏–º–æ–≤)
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã EMA, RSI, ATR, Bollinger Bands
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ breakout, mean reversion, squeeze
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ß—Ç–æ –ù–ï –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç—Å—è:
- –õ–æ–≥–∏–∫–∞ —Ä–µ–∂–∏–º–æ–≤ soft/strict (–∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–∞)
- –£—Å–ª–æ–≤–∏—è –≤ `soft_entry_signal()` –∏ `strict_entry_signal()`
- –ü–æ—Ä–æ–≥–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∂–∏–º–∞

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤

| –ü–∞—Ä–∞–º–µ—Ç—Ä | SOFT | STRICT |
|----------|------|--------|
| **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Å–∏–≥–Ω–∞–ª–æ–≤** | Enhanced ‚Üí Classic | Simple ‚Üí EMA Cross |
| **Sentiment threshold** | 0.6 | 0.4 |
| **Fear/Greed threshold** | 85 | 75 |
| **RSI —É—Å–ª–æ–≤–∏—è** | –ë–æ–ª–µ–µ –º—è–≥–∫–∏–µ | –ë–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–µ |
| **Volume —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è** | –ë–æ–ª–µ–µ –º—è–≥–∫–∏–µ | –ë–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–µ |
| **Volatility —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è** | –ë–æ–ª–µ–µ –º—è–≥–∫–∏–µ | –ë–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–µ |
| **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–≥–Ω–∞–ª–æ–≤** | –ë–æ–ª—å—à–µ | –ú–µ–Ω—å—à–µ |
| **–ö–∞—á–µ—Å—Ç–≤–æ —Å–∏–≥–Ω–∞–ª–æ–≤** | –°—Ä–µ–¥–Ω–µ–µ | –í—ã—Å–æ–∫–æ–µ |

## üéØ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SOFT:
- –í–æ–ª–∞—Ç–∏–ª—å–Ω—ã–π —Ä—ã–Ω–æ–∫
- –ù—É–∂–Ω–æ –±–æ–ª—å—à–µ —Å–∏–≥–Ω–∞–ª–æ–≤
- –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–æ–º—É —Ä–∏—Å–∫—É
- –ò–Ω—Ç—Ä–∞–¥–µ–π —Ç–æ—Ä–≥–æ–≤–ª—è

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å STRICT:
- –ë–æ–∫–æ–≤–æ–π —Ä—ã–Ω–æ–∫
- –ù—É–∂–Ω—ã —Ç–æ–ª—å–∫–æ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã
- –ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥
- –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏

## ‚úÖ –í—ã–≤–æ–¥—ã

1. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞** –≤ –æ–±–∞ —Ä–µ–∂–∏–º–∞
2. **–û–¥–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** `ENHANCED_STRATEGY_CONFIG` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±–æ–∏—Ö —Ä–µ–∂–∏–º–æ–≤
3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –æ–±—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
4. **–†–∞–∑–Ω–∏—Ü–∞ –≤ —Ä–µ–∂–∏–º–∞—Ö** - —Ç–æ–ª—å–∫–æ –≤ —Å—Ç—Ä–æ–≥–æ—Å—Ç–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–µ —Å–∏–≥–Ω–∞–ª–æ–≤
5. **SOFT —Ä–µ–∂–∏–º** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–æ–ª—å—à–µ enhanced —Ñ—É–Ω–∫—Ü–∏–π
6. **STRICT —Ä–µ–∂–∏–º** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç—É—é –ª–æ–≥–∏–∫—É —Å —Å—Ç—Ä–æ–≥–∏–º–∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à–µ–Ω - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤ –æ–±–∞ —Ä–µ–∂–∏–º–∞
