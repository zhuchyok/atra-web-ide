# üîÑ –û–ë–ù–û–í–õ–ï–ù–ò–ï –°–¢–†–£–ö–¢–£–†–´ –§–ò–õ–¨–¢–†–û–í –í –†–ê–ë–û–ß–ï–ú –ë–û–¢–ï

**–î–∞—Ç–∞:** 2024-12-XX  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û**  
**–¶–µ–ª—å:** –ü—Ä–∏–º–µ–Ω–∏—Ç—å –ø—Ä–∏–±—ã–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∏–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤ —Ä–∞–±–æ—á–∏–π –±–æ—Ç

---

## üéØ –ò–ó–ú–ï–ù–ï–ù–ò–Ø

### ‚úÖ **1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ soft_entry_signal –∏–∑–º–µ–Ω–µ–Ω–∞ –Ω–∞ –ø—Ä–∏–±—ã–ª—å–Ω—É—é:**

**–ë–´–õ–û (—Å—Ç–∞—Ä–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞):**
```
1. Baseline –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º (100% —É—Å–ª–æ–≤–∏–π)
2. –ï—Å–ª–∏ baseline –ø—Ä–æ—à–µ–ª ‚Üí –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è VP/VWAP
3. –ï—Å–ª–∏ VP/VWAP –ø—Ä–æ—à–ª–∏ ‚Üí –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã
```

**–°–¢–ê–õ–û (–ø—Ä–∏–±—ã–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞):**
```
1. VP/VWAP –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –ü–ï–†–ï–î baseline (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã)
   - –ï—Å–ª–∏ VP/VWAP –ù–ï –ø—Ä–æ—à–ª–∏ ‚Üí —Å–∏–≥–Ω–∞–ª —Å—Ä–∞–∑—É –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è
   
2. –ï—Å–ª–∏ VP/VWAP –ø—Ä–æ—à–ª–∏ ‚Üí –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –û–°–õ–ê–ë–õ–ï–ù–ù–´–ô baseline (70% —É—Å–ª–æ–≤–∏–π)
   - –ù—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å 70% —É—Å–ª–æ–≤–∏–π –≤–º–µ—Å—Ç–æ 100%
   
3. –ï—Å–ª–∏ baseline –ø—Ä–æ—à–µ–ª ‚Üí –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã –ü–û–°–õ–ï baseline
   - Order Flow, Microstructure, Momentum, Trend Strength, AMT, Market Profile, Institutional Patterns
```

### ‚úÖ **2. –î–æ–±–∞–≤–ª–µ–Ω Institutional Patterns —Ñ–∏–ª—å—Ç—Ä:**

**–ë–´–õ–û:**
- Institutional Patterns —Ñ–∏–ª—å—Ç—Ä –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª –≤ —Ä–∞–±–æ—á–µ–º –±–æ—Ç–µ

**–°–¢–ê–õ–û:**
- Institutional Patterns —Ñ–∏–ª—å—Ç—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –æ–±–∞ —Ä–µ–∂–∏–º–∞ (strict –∏ soft)
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ü–û–°–õ–ï baseline –≤–º–µ—Å—Ç–µ —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: `min_quality_score = 0.6`

### ‚úÖ **3. –ü—Ä–∏–º–µ–Ω–µ–Ω—ã –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**

–í—Å–µ —Ñ–∏–ª—å—Ç—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

1. **Volume Profile:** `volume_profile_threshold = 0.6`
2. **VWAP:** `vwap_threshold = 0.6`
3. **Order Flow:** `required_confirmations = 0`, `pr_threshold = 0.5`
4. **Microstructure:** `tolerance_pct = 2.5`, `min_strength = 0.1`, `lookback = 30`
5. **Momentum:** –≤—Å–µ –ø–æ—Ä–æ–≥–∏ = 50
6. **Trend Strength:** `adx_threshold = 15`, `require_direction = false`
7. **AMT:** `lookback = 20`, `balance_threshold = 0.3`, `imbalance_threshold = 0.5`
8. **Market Profile:** `tolerance_pct = 1.5`
9. **Institutional Patterns:** `min_quality_score = 0.6`

---

## üìä –ü–û–†–Ø–î–û–ö –ü–†–ò–ú–ï–ù–ï–ù–ò–Ø –§–ò–õ–¨–¢–†–û–í

### **–í soft_entry_signal (–ø—Ä–∏–±—ã–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞):**

1. **VP/VWAP (–ü–ï–†–ï–î baseline, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ)**
   - Volume Profile —Ñ–∏–ª—å—Ç—Ä
   - VWAP —Ñ–∏–ª—å—Ç—Ä
   - –ï—Å–ª–∏ –ª—é–±–æ–π –Ω–µ –ø—Ä–æ—à–µ–ª ‚Üí —Å–∏–≥–Ω–∞–ª –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è

2. **Baseline (–æ—Å–ª–∞–±–ª–µ–Ω–Ω—ã–π, 70% —É—Å–ª–æ–≤–∏–π)**
   - –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ VP/VWAP –ø—Ä–æ—à–ª–∏
   - –ù—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å 70% —É—Å–ª–æ–≤–∏–π –≤–º–µ—Å—Ç–æ 100%

3. **–û—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã (–ü–û–°–õ–ï baseline)**
   - Market Profile
   - Order Flow
   - Microstructure
   - Momentum
   - Trend Strength
   - AMT
   - Institutional Patterns

### **–í strict_entry_signal (—Å—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º):**

1. **Baseline (—Å—Ç—Ä–æ–≥–∏–π, 100% —É—Å–ª–æ–≤–∏–π)**
   - –í—Å–µ —É—Å–ª–æ–≤–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω—ã

2. **VP/VWAP (–ü–û–°–õ–ï baseline)**
   - Volume Profile —Ñ–∏–ª—å—Ç—Ä
   - VWAP —Ñ–∏–ª—å—Ç—Ä

3. **–û—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã (–ü–û–°–õ–ï baseline)**
   - Market Profile
   - Order Flow
   - Microstructure
   - Momentum
   - Trend Strength
   - AMT
   - Institutional Patterns

---

## üîß –ò–ó–ú–ï–ù–ï–ù–ò–Ø –í –ö–û–î–ï

### **src/signals/core.py:**

1. **–î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç Institutional Patterns —Ñ–∏–ª—å—Ç—Ä–∞:**
```python
from src.filters.institutional_patterns_filter import check_institutional_patterns_filter
INSTITUTIONAL_PATTERNS_FILTER_AVAILABLE = True
```

2. **–î–æ–±–∞–≤–ª–µ–Ω —Ñ–ª–∞–≥ USE_INSTITUTIONAL_PATTERNS_FILTER –≤ –∏–º–ø–æ—Ä—Ç:**
```python
from config import (
    ...,
    USE_INSTITUTIONAL_PATTERNS_FILTER,
    ...
)
```

3. **–ò–∑–º–µ–Ω–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ soft_entry_signal:**
   - VP/VWAP –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –ü–ï–†–ï–î baseline
   - Baseline –æ—Å–ª–∞–±–ª–µ–Ω –¥–æ 70% —É—Å–ª–æ–≤–∏–π
   - Institutional Patterns —Ñ–∏–ª—å—Ç—Ä –¥–æ–±–∞–≤–ª–µ–Ω –ü–û–°–õ–ï baseline

4. **–î–æ–±–∞–≤–ª–µ–Ω Institutional Patterns —Ñ–∏–ª—å—Ç—Ä –≤ strict_entry_signal:**
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ü–û–°–õ–ï baseline –≤–º–µ—Å—Ç–µ —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏

---

## üìà –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

### **–ú–µ—Ç—Ä–∏–∫–∏ –∏–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (30 –¥–Ω–µ–π, 5 –º–æ–Ω–µ—Ç):**
- –°–∏–≥–Ω–∞–ª–æ–≤: 76
- –°–¥–µ–ª–æ–∫: 76
- Win Rate: **100.0%** ‚úÖ
- Profit Factor: **‚àû** ‚úÖ
- Return/—Å–∏–≥–Ω–∞–ª: **32.60%** ‚úÖ
- –û–±—â–∏–π return: **2,477.88%** ‚úÖ

### **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:**
- ‚úÖ VP/VWAP –æ—Ç—Å–µ–∫–∞—é—Ç –ø–ª–æ—Ö–∏–µ —Å–∏–≥–Ω–∞–ª—ã –î–û –ø—Ä–æ–≤–µ—Ä–∫–∏ baseline
- ‚úÖ –û—Å–ª–∞–±–ª–µ–Ω–Ω—ã–π baseline (70%) –¥–æ–±–∞–≤–ª—è–µ—Ç –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã
- ‚úÖ –í—Å–µ —Ñ–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤–º–µ—Å—Ç–µ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞
- ‚úÖ Institutional Patterns —Ñ–∏–ª—å—Ç—Ä –¥–æ–±–∞–≤–ª—è–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∑–∞—â–∏—Ç—É

---

## ‚úÖ –°–¢–ê–¢–£–°

**–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –≤ —Ä–∞–±–æ—á–∏–π –±–æ—Ç!**

- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ soft_entry_signal –∏–∑–º–µ–Ω–µ–Ω–∞ –Ω–∞ –ø—Ä–∏–±—ã–ª—å–Ω—É—é
- ‚úÖ Institutional Patterns —Ñ–∏–ª—å—Ç—Ä –¥–æ–±–∞–≤–ª–µ–Ω
- ‚úÖ –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
- ‚úÖ –ö–æ–¥ –ø—Ä–æ–≤–µ—Ä–µ–Ω –Ω–∞ –æ—à–∏–±–∫–∏ (linter: OK)

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å –ø—Ä–∏–±—ã–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π —Ñ–∏–ª—å—Ç—Ä–æ–≤!** üöÄ

