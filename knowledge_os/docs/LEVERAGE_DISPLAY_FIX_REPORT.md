# –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–ª–µ—á–∞ –≤ –ø–æ–∑–∏—Ü–∏—è—Ö

## –ü—Ä–æ–±–ª–µ–º–∞
–î–ª—è –ø–æ–∑–∏—Ü–∏–π –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –ø–ª–µ—á–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–æ—Å—å "–ü–ª–µ—á–æ: xNone" –≤–º–µ—Å—Ç–æ –ª–æ–≥–∏—á–Ω–æ–≥–æ "–ü–ª–µ—á–æ: x1", —á—Ç–æ –º–æ–≥–ª–æ –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ –ø—É—Ç–∞–Ω–∏—Ü–µ –≤ —Ä–∞—Å—á–µ—Ç–∞—Ö.

## –ü—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã
–í –∫–æ–¥–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å –ø—Ä–æ–≤–µ—Ä–∫–∞ `if pos_leverage:` –∏–ª–∏ `pos.get('leverage', 1)`, –Ω–æ –µ—Å–ª–∏ –≤ –¥–∞–Ω–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–∏ —É–∂–µ –±—ã–ª–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ `None`, —Ç–æ:
1. `pos.get('leverage', 1)` –Ω–µ –∑–∞–º–µ–Ω—è–ª–æ `None` –Ω–∞ 1, —Ç–∞–∫ –∫–∞–∫ `None` —É–∂–µ –±—ã–ª–æ –≤ –¥–∞–Ω–Ω—ã—Ö
2. `if pos_leverage:` –Ω–µ –≤—ã–ø–æ–ª–Ω—è–ª–æ—Å—å –¥–ª—è `None`, –ø–æ—ç—Ç–æ–º—É –ø–ª–µ—á–æ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–æ—Å—å –≤–æ–æ–±—â–µ

## –í–Ω–µ—Å–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –≤ `positions_cmd`

**–ë—ã–ª–æ:**
```python
if user_data.get('trade_mode') == 'futures':
    leverage = pos.get('leverage', 1)  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–ª–µ—á–æ = 1
    msg += f"\n–ü–ª–µ—á–æ: x{leverage}"
```

**–°—Ç–∞–ª–æ:**
```python
if user_data.get('trade_mode') == 'futures':
    leverage = pos.get('leverage')
    if leverage is None:
        leverage = 1  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–ª–µ—á–æ = 1
    msg += f"\n–ü–ª–µ—á–æ: x{leverage}"
```

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –≤ `myreport_cmd`

**–ë—ã–ª–æ:**
```python
if pos_leverage:
    pos_str += f" | –ü–ª–µ—á–æ: x<code>{pos_leverage}</code>"
```

**–°—Ç–∞–ª–æ:**
```python
if trade_mode == "futures":
    pos_leverage = pos.get("leverage")
    if pos_leverage is None:
        pos_leverage = 1  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–ª–µ—á–æ = 1
    pos_str += f" | –ü–ª–µ—á–æ: x<code>{pos_leverage}</code>"
```

### 3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –≤ `signal_stats_cmd`

**–ë—ã–ª–æ:**
```python
if pos_leverage:
    pos_str += f" | –ü–ª–µ—á–æ: x<code>{pos_leverage}</code>"
```

**–°—Ç–∞–ª–æ:**
```python
if user_data.get('trade_mode') == 'futures':
    pos_leverage = pos.get("leverage")
    if pos_leverage is None:
        pos_leverage = 1  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–ª–µ—á–æ = 1
    pos_str += f" | –ü–ª–µ—á–æ: x<code>{pos_leverage}</code>"
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç

### –ü—Ä–∏–º–µ—Ä –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–ª–µ—á–∞:

**–ü–æ–∑–∏—Ü–∏—è —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º –ø–ª–µ—á–æ–º:**
```
üü¢ BTCUSDT (LONG)
...
–ü–ª–µ—á–æ: x1.5
```

**–ü–æ–∑–∏—Ü–∏—è –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –ø–ª–µ—á–∞ (–±—ã–ª–æ):**
```
üî¥ ETHUSDT (SHORT)
...
–ü–ª–µ—á–æ: xNone
```

**–ü–æ–∑–∏—Ü–∏—è –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –ø–ª–µ—á–∞ (—Å—Ç–∞–ª–æ):**
```
üî¥ ETHUSDT (SHORT)
...
–ü–ª–µ—á–æ: x1
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1. **–õ–æ–≥–∏—á–Ω–æ—Å—Ç—å** - –ø–ª–µ—á–æ = 1 —è–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º –¥–ª—è —Ñ—å—é—á–µ—Ä—Å–æ–≤ –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –ø–ª–µ—á–∞
2. **–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ** - –≤–æ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥–∞—Ö –ø–ª–µ—á–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ
3. **–ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Ä–∞—Å—á–µ—Ç–æ–≤** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–ª–µ—á–∞ = 1 –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã P&L –∏ —Ä–∏—Å–∫–æ–≤
4. **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –ø–æ–Ω—è—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤–º–µ—Å—Ç–æ "xNone"

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–§—É–Ω–∫—Ü–∏–∏ –±—ã–ª–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏:
- –ü–æ–∑–∏—Ü–∏–∏ —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º –ø–ª–µ—á–æ–º (1.5, 2.0)
- –ü–æ–∑–∏—Ü–∏–∏ –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –ø–ª–µ—á–∞ (None)
- –ü–æ–∑–∏—Ü–∏–∏ —Å –ø–ª–µ—á–æ–º = 1

–í—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ª–æ–≥–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–ª–µ—á–∞.

## –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫–æ –≤—Å–µ–º –∫–æ–º–∞–Ω–¥–∞–º

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–æ –∫–æ –≤—Å–µ–º –∫–æ–º–∞–Ω–¥–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏:
- `/positions` - –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–æ–∑–∏—Ü–∏–π
- `/myreport` - –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç
- `/signal_stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤

–¢–µ–ø–µ—Ä—å –≤–æ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥–∞—Ö –ø–ª–µ—á–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ –∏ –ª–æ–≥–∏—á–Ω–æ.