# ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ –∞–≥–µ–Ω—Ç–æ–≤ - –∑–∞–≤–µ—Ä—à–µ–Ω–∞

**–î–∞—Ç–∞:** 2025-11-13  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ì–û–¢–û–í–û**

---

## üéØ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–º–ø—Ç–æ–≤

**–§–∞–π–ª—ã:**
- `observability/prompt_manager.py` - –º–µ–Ω–µ–¥–∂–µ—Ä –ø—Ä–æ–º–ø—Ç–æ–≤
- `configs/agents/signal_live.yaml` - –ø—Ä–æ–º–ø—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ —Å–∏–≥–Ω–∞–ª–æ–≤
- `configs/agents/auto_execution.yaml` - –ø—Ä–æ–º–ø—Ç –¥–ª—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Ä–¥–µ—Ä–æ–≤
- `configs/agents/risk_monitor.yaml` - –ø—Ä–æ–º–ø—Ç –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ä–∏—Å–∫–æ–≤

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–º–ø—Ç–æ–≤ –∏–∑ YAML —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ–ª–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
- ‚úÖ –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤

### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –∞–≥–µ–Ω—Ç—ã

**signal_live:**
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–º–ø—Ç–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∏–≥–Ω–∞–ª–∞
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ trace (`prompt_loaded`)
- ‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç –≤–∫–ª—é—á–∞–µ—Ç: symbol, signal_type, signal_price, user_id, trade_mode

**auto_execution:**
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–º–ø—Ç–∞ –ø—Ä–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–∏ –æ—Ä–¥–µ—Ä–∞
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ trace (`prompt_loaded`)
- ‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç –≤–∫–ª—é—á–∞–µ—Ç: symbol, direction, entry_price, user_id, trade_mode, quantity_usdt, leverage

**risk_monitor:**
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–º–ø—Ç–∞ –ø—Ä–∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ä–∏—Å–∫–æ–≤
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ trace (`prompt_loaded`)
- ‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç –≤–∫–ª—é—á–∞–µ—Ç: db, check_bitget_stoploss, hours

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–º–ø—Ç–∞

–ö–∞–∂–¥—ã–π –ø—Ä–æ–º–ø—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç:

```yaml
agent: signal_live
version: "1.0"
description: "–û–ø–∏—Å–∞–Ω–∏–µ –∞–≥–µ–Ω—Ç–∞"

system_prompt: |
  –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏

instructions:
  - "–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è 1"
  - "–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è 2"

context_sources:
  - "trading.db:signals_log"
  - "ai_learning_data:trading_patterns.json"

tools:
  - "data_sources_manager"
  - "ai_integration"

examples:
  - input: "–ü—Ä–∏–º–µ—Ä –≤—Ö–æ–¥–∞"
    output: "–ü—Ä–∏–º–µ—Ä –≤—ã—Ö–æ–¥–∞"

metadata:
  owner: "–í–ª–∞–¥–µ–ª–µ—Ü"
  update_frequency: "—á–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è"
```

---

## üîÑ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –º–∏—Å—Å–∏–∏ –∞–≥–µ–Ω—Ç–∞:**
   ```python
   prompt_manager = get_prompt_manager()
   agent_prompt = prompt_manager.load_prompt("signal_live")
   ```

2. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ–ª–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞:**
   ```python
   context = {"symbol": "BTCUSDT", "signal_type": "LONG", ...}
   full_prompt = agent_prompt.get_full_prompt(context)
   ```

3. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   ```python
   trace.record(
       step="think",
       name="prompt_loaded",
       metadata={"version": agent_prompt.version, "prompt_length": len(full_prompt)}
   )
   ```

---

## üìà –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è:** –í—Å–µ –ø—Ä–æ–º–ø—Ç—ã –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
2. **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:** –õ–µ–≥–∫–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
3. **–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–æ–≥–∞—â–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
4. **–ê—É–¥–∏—Ç:** –í—Å–µ –∑–∞–≥—Ä—É–∑–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ trace
5. **–ì–∏–±–∫–æ—Å—Ç—å:** –õ–µ–≥–∫–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –ø—Ä–æ–º–ø—Ç—ã –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **Context Engineering** - —É–º–Ω—ã–π –≤—ã–±–æ—Ä —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
2. **Agent Ops** - Prometheus –º–µ—Ç—Ä–∏–∫–∏ –∏ Grafana –¥–∞—à–±–æ—Ä–¥—ã
3. **Self-Evolving System** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤

---

**–°–º. —Ç–∞–∫–∂–µ:**
- [AGENT_DEVELOPMENT_ROADMAP.md](./AGENT_DEVELOPMENT_ROADMAP.md) - –ø–æ–ª–Ω—ã–π –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è
- [agents_inventory.md](./agents_inventory.md) - —Ä–µ–µ—Å—Ç—Ä –∞–≥–µ–Ω—Ç–æ–≤

