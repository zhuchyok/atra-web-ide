# –û—Ç—á–µ—Ç: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–æ—Ä–æ–Ω—ã —Å–¥–µ–ª–∫–∏ –≤ –∫–æ–º–∞–Ω–¥–µ /positions

## üéØ **–ü—Ä–æ–±–ª–µ–º–∞**

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–æ–±—â–∏–ª: **"–ø–æ –∫–æ–º–∞–Ω–¥–µ /positions –ø—Ä–∏—à–ª–∞ —Å–¥–µ–ª–∫–∞ –Ω–æ –ø–æ–∑–∏—Ü–∏—è –±—ã–ª–∞ —à–æ—Ä—Ç –∞ –Ω–µ –ª–æ–Ω–≥ –∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª–æ–Ω–≥"**

## üîç **–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã**

### **–ß—Ç–æ –±—ã–ª–æ –Ω–∞–π–¥–µ–Ω–æ:**

1. **–ü—Ä–æ–±–ª–µ–º–∞ –≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Å—Ç–æ—Ä–æ–Ω—ã —Å–¥–µ–ª–∫–∏** ‚ùå
   - –í —Ñ—É–Ω–∫—Ü–∏–∏ `button` –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–π –ø–æ–∑–∏—Ü–∏–∏ **–ù–ï —Å–æ—Ö—Ä–∞–Ω—è–ª–∞—Å—å —Å—Ç–æ—Ä–æ–Ω–∞ —Å–¥–µ–ª–∫–∏**
   - –í —Å—Ç—Ä–æ–∫–µ 1030 –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–æ –ø–æ–ª–µ `"side": side`

2. **–õ–æ–≥–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞–ª–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ** ‚úÖ
   - –í `positions_cmd` —Å—Ç–æ—Ä–æ–Ω–∞ –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∫–∞–∫ `side = pos.get("side", "long")`
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–∫ `{side.upper()}` –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏

3. **–§—É–Ω–∫—Ü–∏—è `accept_signal_cmd` —Ä–∞–±–æ—Ç–∞–ª–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ** ‚úÖ
   - –°—Ç–æ—Ä–æ–Ω–∞ —Å–æ—Ö—Ä–∞–Ω—è–ª–∞—Å—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ: `"side": side`

### **–ö–æ—Ä–µ–Ω—å –ø—Ä–æ–±–ª–µ–º—ã:**
```python
# –í —Ñ—É–Ω–∫—Ü–∏–∏ button (—Å—Ç—Ä–æ–∫–∞ 1030) - –ë–´–õ–û:
user_data["open_positions"].append({
    "symbol": symbol,
    "entry_price": None,
    "tp1": None,
    "tp2": None,
    "stage": "open",
    "risk_amount": risk_amount,
    "risk_pct": risk_pct,
    "leverage": leverage if trade_mode == "futures" else None,
    # –û–¢–°–£–¢–°–¢–í–û–í–ê–õ–û: "side": side
})

# –í positions_cmd (—Å—Ç—Ä–æ–∫–∞ 730):
side = pos.get("side", "long")  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é "long"
```

## ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**

### **1. –î–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω—ã —Å–¥–µ–ª–∫–∏ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `button`:**

```python
# –°—Ç–∞–ª–æ:
user_data["open_positions"].append({
    "symbol": symbol,
    "entry_price": None,
    "tp1": None,
    "tp2": None,
    "stage": "open",
    "risk_amount": risk_amount,
    "risk_pct": risk_pct,
    "leverage": leverage if trade_mode == "futures" else None,
    "side": side,  # ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω—ã —Å–¥–µ–ª–∫–∏
})
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–µ–ø–µ—Ä—å —Å—Ç–æ—Ä–æ–Ω–∞ —Å–¥–µ–ª–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –ø—Ä–∏–Ω—è—Ç–∏–∏ —Å–∏–≥–Ω–∞–ª–∞ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É

## üìä **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

### **–ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:**
```
–ü–æ–∑–∏—Ü–∏—è 1: BTCUSDT
  - –°—Ç–æ—Ä–æ–Ω–∞ –≤ –¥–∞–Ω–Ω—ã—Ö: short
  - –ò–∑–≤–ª–µ—á–µ–Ω–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞: short
  - –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–∞—è —Å—Ç–æ—Ä–æ–Ω–∞: SHORT
  ‚úÖ BTCUSDT: SHORT - –ø—Ä–∞–≤–∏–ª—å–Ω–æ

–ü–æ–∑–∏—Ü–∏—è 2: ETHUSDT
  - –°—Ç–æ—Ä–æ–Ω–∞ –≤ –¥–∞–Ω–Ω—ã—Ö: long
  - –ò–∑–≤–ª–µ—á–µ–Ω–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞: long
  - –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–∞—è —Å—Ç–æ—Ä–æ–Ω–∞: LONG
  ‚úÖ ETHUSDT: LONG - –ø—Ä–∞–≤–∏–ª—å–Ω–æ

–ü–æ–∑–∏—Ü–∏—è 3: ADAUSDT
  - –°—Ç–æ—Ä–æ–Ω–∞ –≤ –¥–∞–Ω–Ω—ã—Ö: –ù–ï –£–ö–ê–ó–ê–ù–ê
  - –ò–∑–≤–ª–µ—á–µ–Ω–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞: long (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
  - –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–∞—è —Å—Ç–æ—Ä–æ–Ω–∞: LONG
  ‚úÖ ADAUSDT: LONG (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) - –ø—Ä–∞–≤–∏–ª—å–Ω–æ
```

### **–ü—Ä–∏–º–µ—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:**

**SHORT –ø–æ–∑–∏—Ü–∏—è:**
```
üìä <b>BTCUSDT</b> (SHORT)

–¶–µ–Ω–∞ –≤—Ö–æ–¥–∞: <code>50000.000000</code>
–û–±—ä—ë–º: <code>0.1000</code>
TP1: <code>50500.000000</code>
TP2: <code>51000.000000</code>
```

**LONG –ø–æ–∑–∏—Ü–∏—è:**
```
üìä <b>ETHUSDT</b> (LONG)

–¶–µ–Ω–∞ –≤—Ö–æ–¥–∞: <code>3000.000000</code>
–û–±—ä—ë–º: <code>1.0000</code>
TP1: <code>3030.000000</code>
TP2: <code>3060.000000</code>
```

## üîß **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏**

### **–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `telegram_bot.py` (—Å—Ç—Ä–æ–∫–∞ 1030)

### **–§—É–Ω–∫—Ü–∏–∏ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã:**
- `button()` - –¥–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω—ã —Å–¥–µ–ª–∫–∏
- `positions_cmd()` - –ª–æ–≥–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —É–∂–µ —Ä–∞–±–æ—Ç–∞–ª–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**
- `side` - —Å—Ç–æ—Ä–æ–Ω–∞ —Å–¥–µ–ª–∫–∏ (long/short)
- `pos.get("side", "long")` - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω—ã —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º

## üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç**

### **‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
1. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω—ã —Å–¥–µ–ª–∫–∏:** –¢–µ–ø–µ—Ä—å —Å—Ç–æ—Ä–æ–Ω–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –ø—Ä–∏–Ω—è—Ç–∏–∏ —Å–∏–≥–Ω–∞–ª–∞
2. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω—ã:** SHORT –ø–æ–∑–∏—Ü–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç SHORT, LONG –ø–æ–∑–∏—Ü–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç LONG
3. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** –ü–æ–∑–∏—Ü–∏–∏ –±–µ–∑ —É–∫–∞–∑–∞–Ω–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç LONG –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

### **üì± –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã:**

**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```
üìä <b>BTCUSDT</b> (LONG)  ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–ª—è SHORT –ø–æ–∑–∏—Ü–∏–∏
```

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```
üìä <b>BTCUSDT</b> (SHORT) ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –¥–ª—è SHORT –ø–æ–∑–∏—Ü–∏–∏
```

## üéâ **–ó–∞–∫–ª—é—á–µ–Ω–∏–µ**

**–ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞!**

- ‚úÖ –°—Ç–æ—Ä–æ–Ω–∞ —Å–¥–µ–ª–∫–∏ —Ç–µ–ø–µ—Ä—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –ø—Ä–∏–Ω—è—Ç–∏–∏ —Å–∏–≥–Ω–∞–ª–∞
- ‚úÖ –ö–æ–º–∞–Ω–¥–∞ `/positions` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Ç–æ—Ä–æ–Ω—É —Å–¥–µ–ª–∫–∏
- ‚úÖ SHORT –ø–æ–∑–∏—Ü–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ SHORT
- ‚úÖ LONG –ø–æ–∑–∏—Ü–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ LONG
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞

**–¢–µ–ø–µ—Ä—å –∫–æ–º–∞–Ω–¥–∞ `/positions` –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Ç–æ—Ä–æ–Ω—É —Å–¥–µ–ª–∫–∏!** üöÄ