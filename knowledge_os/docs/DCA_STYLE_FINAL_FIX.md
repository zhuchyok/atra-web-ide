# –ò—Ç–æ–≥–æ–≤–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∏–ª—è DCA —Å–∏–≥–Ω–∞–ª–æ–≤

## üéØ –ü—Ä–æ–±–ª–µ–º–∞
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–º–µ—Ç–∏–ª, —á—Ç–æ —Å—Ç–∏–ª—å DCA —Å–∏–≥–Ω–∞–ª–æ–≤ –Ω–µ –±—ã–ª –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω. DCA —Å–∏–≥–Ω–∞–ª—ã –≤—Å–µ –µ—â–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —Å—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç callback_data –∏ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ –Ω–æ–≤–æ–º—É —Å—Ç–∏–ª—é.

## ‚ùå –ß—Ç–æ –±—ã–ª–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:
- **–°—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç callback_data**: `accept|{symbol}|{df.index[-1]}|{last["close"]}|{new_qty}|long|{risk_pct}|{leverage}`
- **–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–æ–≤–æ–º—É —Å—Ç–∏–ª—é** —Å–∏–≥–Ω–∞–ª–æ–≤
- **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è** –≤ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –û–±–Ω–æ–≤–ª–µ–Ω —Ñ–æ—Ä–º–∞—Ç callback_data –¥–ª—è DCA LONG
**–ë—ã–ª–æ:**
```python
callback_data=f'accept|{symbol}|{df.index[-1]}|{last["close"]}|{new_qty}|long|{risk_pct}|{leverage}'
```

**–°—Ç–∞–ª–æ:**
```python
# –°–æ–∑–¥–∞–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –Ω–æ–≤—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º callback_data
short_time = now.strftime("%m%d%H%M")
short_price = f"{last['close']:.4f}"
short_risk = f"{risk_pct:.1f}"
short_leverage = f"{leverage:.1f}"

callback_data = f'accept|{symbol}|{short_time}|{short_price}|long|{short_risk}|{short_leverage}'
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω —Ñ–æ—Ä–º–∞—Ç callback_data –¥–ª—è DCA SHORT
**–ë—ã–ª–æ:**
```python
callback_data=f'accept|{symbol}|{df.index[-1]}|{last["close"]}|{new_qty}|short|{risk_pct}|{leverage}'
```

**–°—Ç–∞–ª–æ:**
```python
# –°–æ–∑–¥–∞–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –Ω–æ–≤—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º callback_data
short_time = now.strftime("%m%d%H%M")
short_price = f"{last['close']:.4f}"
short_risk = f"{risk_pct:.1f}"
short_leverage = f"{leverage:.1f}"

callback_data = f'accept|{symbol}|{short_time}|{short_price}|short|{short_risk}|{short_leverage}'
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç callback_data
- **–í—Ä–µ–º—è**: `MMddHHmm` –≤–º–µ—Å—Ç–æ `df.index[-1]`
- **–¶–µ–Ω–∞**: `{price:.4f}` –≤–º–µ—Å—Ç–æ `{last["close"]}`
- **–†–∏—Å–∫**: `{risk:.1f}` –≤–º–µ—Å—Ç–æ `{risk_pct}`
- **–ü–ª–µ—á–æ**: `{leverage:.1f}` –≤–º–µ—Å—Ç–æ `{leverage}`
- **–£–±—Ä–∞–Ω–æ**: `{new_qty}` (–Ω–µ –Ω—É–∂–Ω–æ –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Å–∏–≥–Ω–∞–ª–∞)

### 2. –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ —Å –Ω–æ–≤—ã–º–∏ —Å–∏–≥–Ω–∞–ª–∞–º–∏
- –¢–æ—Ç –∂–µ —Ñ–æ—Ä–º–∞—Ç callback_data, —á—Ç–æ –∏ —É –Ω–æ–≤—ã—Ö —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º –≤ `telegram_bot.py`

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
- ‚úÖ –ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è DCA LONG
- ‚úÖ –ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç —Ü–µ–Ω—ã –¥–ª—è DCA LONG
- ‚úÖ –ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç callback_data –¥–ª—è DCA LONG
- ‚úÖ –ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç callback_data –¥–ª—è DCA SHORT
- ‚úÖ –°—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç callback_data –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–µ–Ω
- ‚úÖ HTML –∑–∞–≥–æ–ª–æ–≤–æ–∫ DCA —Å–∏–≥–Ω–∞–ª–æ–≤
- ‚úÖ HTML —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Å–∏–º–≤–æ–ª–∞
- ‚úÖ HTML —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è DCA –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã –≤ DCA —Å–∏–≥–Ω–∞–ª–∞—Ö
- ‚úÖ HTML —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è TP –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

## üéâ –ò—Ç–æ–≥
–¢–µ–ø–µ—Ä—å –≤—Å–µ DCA —Å–∏–≥–Ω–∞–ª—ã –∏–º–µ—é—Ç:
- **–ï–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å** —Å –Ω–æ–≤—ã–º–∏ —Ç–æ—Ä–≥–æ–≤—ã–º–∏ —Å–∏–≥–Ω–∞–ª–∞–º–∏
- **–ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç callback_data** –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∫–Ω–æ–ø–æ–∫
- **HTML —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –∫—Ä–∞—Å–∏–≤–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é** –≤ –ª–æ–≥–∏—á–µ—Å–∫–æ–º –ø–æ—Ä—è–¥–∫–µ
- **–ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã** –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**DCA —Å–∏–≥–Ω–∞–ª—ã —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –Ω–æ–≤–æ–º—É —Å—Ç–∏–ª—é!** üéØ
