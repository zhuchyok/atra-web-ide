# ‚úÖ –ï–ñ–ï–î–ù–ï–í–ù–û–ï –û–ë–£–ß–ï–ù–ò–ï –í–°–ï–• –≠–ö–°–ü–ï–†–¢–û–í

**–î–∞—Ç–∞:** 2025-12-14  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û –ò –ù–ê–°–¢–†–û–ï–ù–û**

---

## üéØ –ü–†–û–ë–õ–ï–ú–ê

**–†–∞–Ω–µ–µ:** –û–±—É—á–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ 5 —Å–ª—É—á–∞–π–Ω—ã—Ö —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å (`LIMIT 5`)  
**–¢–µ–ø–µ—Ä—å:** –û–±—É—á–∞—é—Ç—Å—è **–í–°–ï –∞–∫—Ç–∏–≤–Ω—ã–µ —ç–∫—Å–ø–µ—Ä—Ç—ã** –∫–∞–∂–¥—ã–π –¥–µ–Ω—å

---

## ‚úÖ –†–ï–®–ï–ù–ò–ï

### **–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `nightly_learner.py`:**

1. **–£–±—Ä–∞–Ω LIMIT 5** ‚Äî —Ç–µ–ø–µ—Ä—å –ø–æ–ª—É—á–∞–µ–º –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–∫—Å–ø–µ—Ä—Ç–æ–≤
2. **–î–æ–±–∞–≤–ª–µ–Ω–∞ —É–º–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è** ‚Äî –ø—Ä–æ–ø—É—Å–∫–∞–µ–º —ç–∫—Å–ø–µ—Ä—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—É—á–∞–ª–∏—Å—å –º–µ–Ω–µ–µ 24 —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥
3. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ–±—É—á–µ–Ω–∏—è** ‚Äî —Å–Ω–∞—á–∞–ª–∞ –æ–±—É—á–∞—é—Ç—Å—è —Ç–µ, –∫—Ç–æ –Ω–µ –æ–±—É—á–∞–ª—Å—è –¥–∞–≤–Ω–æ –∏–ª–∏ –Ω–∏–∫–æ–≥–¥–∞
4. **–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ** ‚Äî –∫–∞–∂–¥—ã–π —ç–∫—Å–ø–µ—Ä—Ç –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–≤–æ–π `last_learned_at`

### **–õ–æ–≥–∏–∫–∞ –æ–±—É—á–µ–Ω–∏—è:**

```sql
SELECT id, name, role, department, system_prompt, last_learned_at
FROM experts
WHERE is_active = TRUE OR is_active IS NULL
ORDER BY 
    CASE 
        WHEN last_learned_at IS NULL THEN 0        -- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 0: –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –æ–±—É—á–∞–ª–∏—Å—å
        WHEN last_learned_at < NOW() - INTERVAL '24 hours' THEN 1  -- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –æ–±—É—á–∞–ª–∏—Å—å > 24—á –Ω–∞–∑–∞–¥
        ELSE 2                                     -- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –æ–±—É—á–∞–ª–∏—Å—å < 24—á –Ω–∞–∑–∞–¥ (–ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è)
    END,
    RANDOM()  -- –°–ª—É—á–∞–π–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –≤–Ω—É—Ç—Ä–∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤
```

---

## üìä –ö–ê–ö –†–ê–ë–û–¢–ê–ï–¢

### **1. –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –∑–∞–ø—É—Å–∫ (3:00 UTC):**

- `nightly_learner.py` –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ cron
- –ü–æ–ª—É—á–∞–µ—Ç –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –∏–∑ –ë–î
- –§–∏–ª—å—Ç—Ä—É–µ—Ç —Ç–µ—Ö, –∫—Ç–æ –æ–±—É—á–∞–ª—Å—è –º–µ–Ω–µ–µ 24 —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥

### **2. –ü—Ä–æ—Ü–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–∫—Å–ø–µ—Ä—Ç–∞:**

1. **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ–±–µ–ª–∞:**
   - –≠–∫—Å–ø–µ—Ä—Ç –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —á—Ç–æ –µ–º—É –Ω—É–∂–Ω–æ –∏–∑—É—á–∏—Ç—å
   - –§–æ–∫—É—Å –Ω–∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö –∏ —Ç—Ä–µ–Ω–¥–∞—Ö 2025 –≥–æ–¥–∞

2. **–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:**
   - –ü–æ–∏—Å–∫ –∏ –∞–Ω–∞–ª–∏–∑ –Ω–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
   - –§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ 1-2 –≥–ª—É–±–æ–∫–∏—Ö –∏–Ω—Å–∞–π—Ç–æ–≤

3. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–Ω–∞–Ω–∏–π:**
   - –ò–Ω—Å–∞–π—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î –∫–∞–∫ `knowledge_nodes`
   - –ü—Ä–∏–≤—è–∑—ã–≤–∞—é—Ç—Å—è –∫ –¥–æ–º–µ–Ω—É —ç–∫—Å–ø–µ—Ä—Ç–∞
   - –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: –∏–º—è —ç–∫—Å–ø–µ—Ä—Ç–∞, —Ü–∏–∫–ª –æ–±—É—á–µ–Ω–∏—è

4. **–°–æ–≤–µ—Ç –≠–∫—Å–ø–µ—Ä—Ç–æ–≤ (–µ—Å–ª–∏ confidence ‚â• 0.9):**
   - –í–∞–∂–Ω—ã–µ –∑–Ω–∞–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –¥—Ä—É–≥–∏–º–∏ —ç–∫—Å–ø–µ—Ä—Ç–∞–º–∏
   - –û–±—Å—É–∂–¥–µ–Ω–∏–µ –∏ –∫–æ–Ω—Å–µ–Ω—Å—É—Å
   - –ü–æ–≤—ã—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –∑–Ω–∞–Ω–∏–π

5. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫:**
   - `last_learned_at` –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —ç–∫—Å–ø–µ—Ä—Ç–∞
   - –ó–∞–ø–∏—Å—å –≤ `expert_learning_logs`
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±—É—á–µ–Ω–∏—è

### **3. –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–µ–π:**

- –≠–∫—Å–ø–µ—Ä—Ç –Ω–µ –æ–±—É—á–∞–µ—Ç—Å—è –¥–≤–∞–∂–¥—ã –∑–∞ 24 —á–∞—Å–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±—É—á–µ–Ω–∏—è
- –ü—Ä–æ–ø—É—Å–∫ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –æ–±—É—á–∞–ª–∏—Å—å —Å–µ–≥–æ–¥–Ω—è

---

## üìà –°–¢–ê–¢–ò–°–¢–ò–ö–ê –û–ë–£–ß–ï–ù–ò–Ø

**–í –∫–æ–Ω—Ü–µ –∫–∞–∂–¥–æ–≥–æ —Ü–∏–∫–ª–∞ –≤—ã–≤–æ–¥–∏—Ç—Å—è:**

```
====================================================================
üìä –ò–¢–û–ì–ò –û–ë–£–ß–ï–ù–ò–Ø:
   –í—Å–µ–≥–æ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤: 22
   –û–±—É—á–∏–ª–æ—Å—å —Å–µ–≥–æ–¥–Ω—è: 18
   –ü—Ä–æ–ø—É—â–µ–Ω–æ (—É–∂–µ –æ–±—É—á–∞–ª–∏—Å—å < 24—á): 4
   –ù–æ–≤—ã—Ö –∑–Ω–∞–Ω–∏–π –¥–æ–±–∞–≤–ª–µ–Ω–æ: 36
====================================================================
```

---

## ‚öôÔ∏è –ù–ê–°–¢–†–û–ô–ö–ê

### **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ cron:**

```bash
# –ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 3:00 UTC
0 3 * * * cd /root/knowledge_os && python3 app/nightly_learner.py >> logs/nightly_learner.log 2>&1
```

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞:**

```bash
bash knowledge_os/scripts/setup_nightly_learner_cron.sh
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:

```bash
ssh root@185.177.216.15
crontab -e

# –î–æ–±–∞–≤–∏—Ç—å:
0 3 * * * cd /root/knowledge_os && python3 app/nightly_learner.py >> logs/nightly_learner.log 2>&1
```

---

## üß™ –¢–ï–°–¢–û–í–´–ô –ó–ê–ü–£–°–ö

### **–†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫:**

```bash
ssh root@185.177.216.15
cd /root/knowledge_os
python3 app/nightly_learner.py
```

### **–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**

```
[2025-12-14 03:00:00] Total Nightly Learning Cycle (Council Phase enabled) starting...
üìö –ù–∞–π–¥–µ–Ω–æ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è: 22

>>> Learning session for: –í–∏–∫—Ç–æ—Ä–∏—è (Team Lead)
   –ü–µ—Ä–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ
[–ü—Ä–æ—Ü–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è...]

>>> Learning session for: –î–º–∏—Ç—Ä–∏–π (ML Engineer)
   –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±—É—á–µ–Ω–∏–µ: 25.3 —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥
[–ü—Ä–æ—Ü–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è...]

‚è≠Ô∏è  –ü—Ä–æ–ø—É—Å–∫ –ò–≥–æ—Ä—å - —É–∂–µ –æ–±—É—á–∞–ª—Å—è 12.5 —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥

...

====================================================================
üìä –ò–¢–û–ì–ò –û–ë–£–ß–ï–ù–ò–Ø:
   –í—Å–µ–≥–æ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤: 22
   –û–±—É—á–∏–ª–æ—Å—å —Å–µ–≥–æ–¥–Ω—è: 18
   –ü—Ä–æ–ø—É—â–µ–Ω–æ (—É–∂–µ –æ–±—É—á–∞–ª–∏—Å—å < 24—á): 4
   –ù–æ–≤—ã—Ö –∑–Ω–∞–Ω–∏–π –¥–æ–±–∞–≤–ª–µ–Ω–æ: 36
====================================================================
```

---

## üìù –õ–û–ì–ò

**–õ–æ–≥ –æ–±—É—á–µ–Ω–∏—è:** `/root/knowledge_os/logs/nightly_learner.log`

**–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:**

```bash
ssh root@185.177.216.15
tail -f /root/knowledge_os/logs/nightly_learner.log
```

---

## ‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢

**–¢–µ–ø–µ—Ä—å –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ —ç–∫—Å–ø–µ—Ä—Ç—ã –æ–±—É—á–∞—é—Ç—Å—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ:**

- ‚úÖ **–í—Å–µ —ç–∫—Å–ø–µ—Ä—Ç—ã** (–Ω–µ —Ç–æ–ª—å–∫–æ 5 —Å–ª—É—á–∞–π–Ω—ã—Ö)
- ‚úÖ **–ï–∂–µ–¥–Ω–µ–≤–Ω–æ** (–∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 3:00 UTC)
- ‚úÖ **–£–º–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è** (–ø—Ä–æ–ø—É—Å–∫ —Ç–µ—Ö, –∫—Ç–æ —É–∂–µ –æ–±—É—á–∞–ª—Å—è < 24—á)
- ‚úÖ **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç** (—Å–Ω–∞—á–∞–ª–∞ —Ç–µ, –∫—Ç–æ –Ω–µ –æ–±—É—á–∞–ª—Å—è –¥–∞–≤–Ω–æ)
- ‚úÖ **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** (—Å–∫–æ–ª—å–∫–æ –æ–±—É—á–∏–ª–æ—Å—å, —Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–ø—É—â–µ–Ω–æ)
- ‚úÖ **–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ** (–∫–∞–∂–¥—ã–π —ç–∫—Å–ø–µ—Ä—Ç –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–≤–æ–π last_learned_at)

---

**–ê–≤—Ç–æ—Ä:** –í–∏–∫—Ç–æ—Ä–∏—è (Team Lead)  
**–î–∞—Ç–∞:** 2025-12-14

