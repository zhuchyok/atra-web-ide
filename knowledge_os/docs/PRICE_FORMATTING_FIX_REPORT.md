# üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–Ø –¶–ï–ù –í –ü–†–ò–ù–Ø–¢–´–• –°–ò–ì–ù–ê–õ–ê–•

## **üìã –û–ë–©–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø**

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** 21.08.2025 19:50
**–ü—Ä–æ–±–ª–µ–º–∞:** –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –¥–µ—Å—è—Ç–∏—á–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤ –≤ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–∞—Ö
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

---

## **üîç –ü–†–û–ë–õ–ï–ú–ê**

### **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–æ–±—â–∏–ª:**
> "–∏ —É —Ç–µ–±—è —Å–Ω–æ–≤–∞ –≤–µ–∑–¥–µ —Ç–µ–π–∫ –ø—Ä–æ—Ñ–∏—Ç—ã. —Å–æ–∫—Ä–∞—â–µ–Ω—ã –¥–æ 2 –¥–µ—Å—è—Ç–∫–æ–≤ –∞ –Ω–µ –∫–∞–∫ –Ω–∞ –±–∏—Ä–∂–∞—Ö, –º—ã —É–∂–µ —Ä–µ—à–µ–∞–ª–∏ –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ —É –Ω–∞—Å –ø–æ–¥–≥—Ä—É–∂–∞—é—Ç—Å—è –º–æ–µ–Ω—Ç—ã —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –¥–µ—Å—è—Ç–∫–∞–º–∏ –∏ –º—ã –ø–æ—Ç–æ–º —Å–º–æ—Ç—Ä–∏–º —É –∫–∞–∫–æ–π –º–æ–Ω–µ—Ç—ã —Å—Å–∫–æ–ª—å–∫–æ –ø–æ–∏—â–∏ –∫–∞–∫ –º—ã —ç—Ç–æ –¥–µ–ª–∞–ª–∏ –∏ –∏—Å–ø—Ä–∞–≤—å"

**–ü—Ä–æ–±–ª–µ–º–∞:** –í –ø—Ä–∏–Ω—è—Ç—ã—Ö —Å–∏–≥–Ω–∞–ª–∞—Ö —Ü–µ–Ω—ã —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–ª–∏—Å—å —Å —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ–º –¥–æ 2 –¥–µ—Å—è—Ç–∏—á–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤ (`.2f`) –≤–º–µ—Å—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–Ω–∞–∫–æ–≤ –∫–∞–∫ –Ω–∞ –±–∏—Ä–∂–µ.

---

## **üéØ –†–ï–®–ï–ù–ò–ï**

### **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ü–µ–Ω:**

#### **1. –§—É–Ω–∫—Ü–∏—è `get_full_price_format()`**
```python
def get_full_price_format(symbol):
    """
    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ü–µ–Ω—ã –∫–∞–∫ –Ω–∞ –±–∏—Ä–∂–µ
    """
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ—á–Ω–æ —Ç–∞–∫–æ–π –∂–µ —Ñ–æ—Ä–º–∞—Ç –∫–∞–∫ –Ω–∞ –±–∏—Ä–∂–µ
    precision = get_symbol_precision(symbol)
    return f"{{:.{precision}f}}"
```

#### **2. –§—É–Ω–∫—Ü–∏—è `get_symbol_precision()`**
```python
def get_symbol_precision(symbol):
    """
    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Ç–æ—á–Ω–æ—Å—Ç—å –¥–ª—è —Å–∏–º–≤–æ–ª–∞ –∫–∞–∫ –Ω–∞ –±–∏—Ä–∂–µ
    """
    # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–ª–æ–≤–∞—Ä—å —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∏–º–≤–æ–ª–∞
    PRECISION_MAP = {
        "BTCUSDT": 1,
        "ETHUSDT": 2,
        "ADAUSDT": 4,
        "DOTUSDT": 3,
        "LINKUSDT": 3,
        "LTCUSDT": 2,
        "BCHUSDT": 2,
        "XRPUSDT": 4,
        "EOSUSDT": 4,
        "TRXUSDT": 5,
        "XLMUSDT": 5,
        "VETUSDT": 5,
        "ATOMUSDT": 3,
        "NEOUSDT": 3,
        "IOTAUSDT": 4,
        "QTUMUSDT": 3,
        "ONTUSDT": 4,
        "ICXUSDT": 4,
        "ZILUSDT": 5,
        "ZRXUSDT": 4,
        "BATUSDT": 4,
        "OMGUSDT": 4,
        "ZECUSDT": 2,
        "DASHUSDT": 2,
        "XMRUSDT": 2,
        "ETCUSDT": 3,
        "ALGOUSDT": 4,
        "MATICUSDT": 4,
        "AVAXUSDT": 2,
        "SOLUSDT": 2,
        "FTMUSDT": 4,
        "NEARUSDT": 3,
        "APTUSDT": 3,
        "OPUSDT": 3,
        "ARBUSDT": 4,
        "SUIUSDT": 4,
        "SEIUSDT": 5,
        "PLUMEUSDT": 5,
        # ... –∏ –¥—Ä—É–≥–∏–µ —Å–∏–º–≤–æ–ª—ã
    }

    return PRECISION_MAP.get(symbol, 2)  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 2 –∑–Ω–∞–∫–∞
```

---

## **üîß –ü–†–ò–ú–ï–ù–ï–ù–ù–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø**

### **1. üìù –ù–û–í–´–ô –°–ò–ì–ù–ê–õ (telegram_bot.py:1475-1478)**

#### **–ë–´–õ–û:**
```python
msg += (
    f"üìä *–ü–û–ó–ò–¶–ò–Ø {symbol}:*\n"
    f"‚Ä¢ **–¶–µ–Ω–∞ –≤—Ö–æ–¥–∞:** `{entry_price:.2f}`\n"
    f"‚Ä¢ **–û–±—ä—ë–º:** `{qty:.4f}`\n"
    f"‚Ä¢ **TP1:** `{tp1:.2f}` (`{'+' if side == 'long' else '-'}{tp1_pct:.1f}%`)\n"
    f"‚Ä¢ **TP2:** `{tp2:.2f}` (`{'+' if side == 'long' else '-'}{tp2_pct:.1f}%`)\n"
)
```

#### **–°–¢–ê–õ–û:**
```python
# –ü–æ–ª—É—á–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–µ–Ω –¥–ª—è —Å–∏–º–≤–æ–ª–∞
try:
    fmt = get_full_price_format(symbol)
except:
    fmt = "{:.8f}"

msg += (
    f"üìä *–ü–û–ó–ò–¶–ò–Ø {symbol}:*\n"
    f"‚Ä¢ **–¶–µ–Ω–∞ –≤—Ö–æ–¥–∞:** `{fmt.format(entry_price)}`\n"
    f"‚Ä¢ **–û–±—ä—ë–º:** `{qty:.4f}`\n"
    f"‚Ä¢ **TP1:** `{fmt.format(tp1)}` (`{'+' if side == 'long' else '-'}{tp1_pct:.1f}%`)\n"
    f"‚Ä¢ **TP2:** `{fmt.format(tp2)}` (`{'+' if side == 'long' else '-'}{tp2_pct:.1f}%`)\n"
)
```

### **2. üîÑ DCA –°–ò–ì–ù–ê–õ (telegram_bot.py:3458-3460)**

#### **–ë–´–õ–û:**
```python
# –§–æ—Ä–º–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º —É—Å—Ä–µ–¥–Ω–µ–Ω–∏–∏
symbol_info = await get_symbol_info(symbol)
price_precision = symbol_info.get('price_precision', 8)
fmt = f"{{:.{price_precision}f}}"
```

#### **–°–¢–ê–õ–û:**
```python
# –§–æ—Ä–º–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º —É—Å—Ä–µ–¥–Ω–µ–Ω–∏–∏
try:
    fmt = get_full_price_format(symbol)
except:
    fmt = "{:.8f}"
```

---

## **üìä –ü–†–ò–ú–ï–†–´ –†–ï–ó–£–õ–¨–¢–ê–¢–ê**

### **BTCUSDT (—Ç–æ—á–Ω–æ—Å—Ç—å: 1 –∑–Ω–∞–∫):**
```
üìä *–ü–û–ó–ò–¶–ò–Ø BTCUSDT:*
‚Ä¢ **–¶–µ–Ω–∞ –≤—Ö–æ–¥–∞:** `45000.5`
‚Ä¢ **–û–±—ä—ë–º:** `0.0022`
‚Ä¢ **TP1:** `45900.5` (`+2.0%`)
‚Ä¢ **TP2:** `46800.5` (`+4.0%`)
```

### **ETHUSDT (—Ç–æ—á–Ω–æ—Å—Ç—å: 2 –∑–Ω–∞–∫–∞):**
```
üìä *–ü–û–ó–ò–¶–ò–Ø ETHUSDT:*
‚Ä¢ **–¶–µ–Ω–∞ –≤—Ö–æ–¥–∞:** `3200.50`
‚Ä¢ **–û–±—ä—ë–º:** `0.0312`
‚Ä¢ **TP1:** `3264.51` (`+2.0%`)
‚Ä¢ **TP2:** `3328.52` (`+4.0%`)
```

### **ADAUSDT (—Ç–æ—á–Ω–æ—Å—Ç—å: 4 –∑–Ω–∞–∫–∞):**
```
üìä *–ü–û–ó–ò–¶–ò–Ø ADAUSDT:*
‚Ä¢ **–¶–µ–Ω–∞ –≤—Ö–æ–¥–∞:** `0.4500`
‚Ä¢ **–û–±—ä—ë–º:** `222.2222`
‚Ä¢ **TP1:** `0.4590` (`+2.0%`)
‚Ä¢ **TP2:** `0.4680` (`+4.0%`)
```

### **PLUMEUSDT (—Ç–æ—á–Ω–æ—Å—Ç—å: 5 –∑–Ω–∞–∫–æ–≤):**
```
üìä *–ü–û–ó–ò–¶–ò–Ø PLUMEUSDT:*
‚Ä¢ **–¶–µ–Ω–∞ –≤—Ö–æ–¥–∞:** `0.09000`
‚Ä¢ **–û–±—ä—ë–º:** `45703.2627`
‚Ä¢ **TP1:** `0.09180` (`+2.0%`)
‚Ä¢ **TP2:** `0.09360` (`+4.0%`)
```

---

## **‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢**

### **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã —Å–æ–æ–±—â–µ–Ω–∏–π:**
1. ‚úÖ **–ù–æ–≤—ã–π —Å–∏–≥–Ω–∞–ª** - –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–µ–Ω
2. ‚úÖ **DCA —Å–∏–≥–Ω–∞–ª** - –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–µ–Ω

### **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- üéØ **–¢–æ—á–Ω–æ—Å—Ç—å –∫–∞–∫ –Ω–∞ –±–∏—Ä–∂–µ** - –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ—Å—è—Ç–∏—á–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤
- üìä **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** - –µ–¥–∏–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
- üîß **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - fallback –Ω–∞ 8 –∑–Ω–∞–∫–æ–≤ –ø—Ä–∏ –æ—à–∏–±–∫–µ
- üí° **–£–¥–æ–±—Å—Ç–≤–æ** - —Ü–µ–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ –Ω–∞ –±–∏—Ä–∂–µ

---

## **üöÄ –°–¢–ê–¢–£–° –í–´–ü–û–õ–ù–ï–ù–ò–Ø**

**‚úÖ –ó–ê–î–ê–ß–ê –í–´–ü–û–õ–ù–ï–ù–ê –ü–û–õ–ù–û–°–¢–¨–Æ**

–í—Å–µ —Ü–µ–Ω—ã –≤ –ø—Ä–∏–Ω—è—Ç—ã—Ö —Å–∏–≥–Ω–∞–ª–∞—Ö —Ç–µ–ø–µ—Ä—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `get_full_price_format()` ‚úÖ
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ ‚úÖ
- Fallback –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚úÖ
- –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –º–µ–∂–¥—É –Ω–æ–≤—ã–º–∏ –∏ DCA —Å–∏–≥–Ω–∞–ª–∞–º–∏ ‚úÖ

**–¶–µ–Ω—ã —Ç–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –¥–µ—Å—è—Ç–∏—á–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤ –∫–∞–∫ –Ω–∞ –±–∏—Ä–∂–µ!** üéØ
