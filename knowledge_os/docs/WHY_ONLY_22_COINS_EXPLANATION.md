# üîç –ü–û–ß–ï–ú–£ –ë–´–õ–û –¢–û–õ–¨–ö–û 22 –ú–û–ù–ï–¢–´ - –û–ë–™–Ø–°–ù–ï–ù–ò–ï

**–î–∞—Ç–∞:** 2025-12-13  
**–í–æ–ø—Ä–æ—Å:** –ü–æ—á–µ–º—É —Å–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞ —Ç–æ–ª—å–∫–æ 22 –º–æ–Ω–µ—Ç—ã, –∞ –Ω–µ –≤—Å–µ 143 –∏–∑ intelligent_filter_system?

---

## üîç –ü–†–ò–ß–ò–ù–´

### **1. –õ–æ–≥–∏–∫–∞ `get_symbols()` –Ω–µ –∑–Ω–∞–ª–∞ –æ intelligent_filter_system**

**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```python
async def get_symbols() -> List[str]:
    # –ü–†–ò–û–†–ò–¢–ï–¢ 1: –ò—Å–ø–æ–ª—å–∑—É–µ–º COINS –∏–∑ config.py
    if not AUTO_FETCH_COINS and COINS and len(COINS) > 0:
        # –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ COINS (22 –º–æ–Ω–µ—Ç—ã)
        return ready_symbols
    
    # –ü–†–ò–û–†–ò–¢–ï–¢ 2: –ê–≤—Ç–æ-–ø–æ–¥–±–æ—Ä —á–µ—Ä–µ–∑ API
    if AUTO_FETCH_COINS:
        symbols = await get_filtered_top_usdt_pairs_fast(...)
        return ready_symbols
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- ‚ùå –ù–µ –±—ã–ª–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ `intelligent_filter_system`
- ‚ùå –ù–µ –±—ã–ª–æ —Ñ—É–Ω–∫—Ü–∏–∏ `get_all_optimized_symbols()`
- ‚ùå –°–∏—Å—Ç–µ–º–∞ –Ω–µ –∑–Ω–∞–ª–∞ –æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–∏ 143 –º–æ–Ω–µ—Ç —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

---

### **2. AUTO_FETCH_COINS –±—ã–ª –≤–∫–ª—é—á–µ–Ω**

**–í config.py:**
```python
AUTO_FETCH_COINS = os.getenv("AUTO_FETCH_COINS", "true")  # –ë–´–õ–û: "true"
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- –ö–æ–≥–¥–∞ `AUTO_FETCH_COINS = true`, —Å–∏—Å—Ç–µ–º–∞ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–ª–∞ `COINS`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –∞–≤—Ç–æ-–ø–æ–¥–±–æ—Ä —á–µ—Ä–µ–∑ `get_filtered_top_usdt_pairs_fast`
- –ù–æ —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–ª–∞ —Ç–æ–ª—å–∫–æ –≥–æ—Ç–æ–≤—ã–µ –º–æ–Ω–µ—Ç—ã (2-6 –º–æ–Ω–µ—Ç)

---

### **3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –º–æ–Ω–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∞ –Ω–æ–≤—ã–µ**

**–õ–æ–≥–∏–∫–∞ –¥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```python
_, is_ready = await params_manager.ensure_symbol_optimized(symbol)
if is_ready:
    ready_symbols.append(symbol)
else:
    # ‚ùå –ú–æ–Ω–µ—Ç–∞ –ù–ï –¥–æ–±–∞–≤–ª—è–ª–∞—Å—å, –µ—Å–ª–∏ –Ω–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
    logger.info("‚è≥ [%s] –ú–æ–Ω–µ—Ç–∞ –Ω–µ –≥–æ—Ç–æ–≤–∞ (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ)", symbol)
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–æ–≤—ã–µ –º–æ–Ω–µ—Ç—ã —Å –±–∞–∑–æ–≤—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –Ω–µ —Å—á–∏—Ç–∞–ª–∏—Å—å –≥–æ—Ç–æ–≤—ã–º–∏
- –¢–æ–ª—å–∫–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–Ω–µ—Ç—ã –¥–æ–±–∞–≤–ª—è–ª–∏—Å—å –≤ —Å–ø–∏—Å–æ–∫
- –ò–∑ 143 –º–æ–Ω–µ—Ç —Ç–æ–ª—å–∫–æ 2-22 –±—ã–ª–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã

---

## ‚úÖ –ß–¢–û –ë–´–õ–û –ò–°–ü–†–ê–í–õ–ï–ù–û

### **1. –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `get_all_optimized_symbols()`**

```python
def get_all_optimized_symbols() -> list:
    """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –º–æ–Ω–µ—Ç –∏–∑ intelligent_filter_system"""
    # –ò–∑–≤–ª–µ–∫–∞–µ–º –≤—Å–µ –∫–ª—é—á–∏ –∏–∑ symbol_profiles
    symbols = re.findall(r"'([A-Z]+USDT)':\s*{", content)
    return sorted(list(set(symbols)))
```

### **2. –î–æ–±–∞–≤–ª–µ–Ω –ü–†–ò–û–†–ò–¢–ï–¢ 0 –¥–ª—è intelligent_filter_system**

```python
# –ü–†–ò–û–†–ò–¢–ï–¢ 0: –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤—Å–µ –º–æ–Ω–µ—Ç—ã –∏–∑ intelligent_filter_system (143 –º–æ–Ω–µ—Ç—ã)
try:
    from src.ai.intelligent_filter_system import get_all_optimized_symbols
    intelligent_coins = get_all_optimized_symbols()
    if intelligent_coins and len(intelligent_coins) > 0:
        # –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤—Å–µ 143 –º–æ–Ω–µ—Ç—ã
        return ready_symbols
except Exception as e:
    logger.warning("‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–Ω–µ—Ç—ã –∏–∑ intelligent_filter_system: %s", e)
```

### **3. –†–∞–∑—Ä–µ—à–µ–Ω—ã –º–æ–Ω–µ—Ç—ã —Å –±–∞–∑–æ–≤—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏**

```python
_, is_ready = await params_manager.ensure_symbol_optimized(symbol)
if is_ready:
    ready_symbols.append(symbol)
else:
    # ‚úÖ –¢–ï–ü–ï–†–¨: –†–∞–∑—Ä–µ—à–∞–µ–º –º–æ–Ω–µ—Ç—ã —Å –±–∞–∑–æ–≤—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
    ready_symbols.append(symbol)
    logger.info("‚úÖ [%s] –ú–æ–Ω–µ—Ç–∞ –≥–æ—Ç–æ–≤–∞ (–±–∞–∑–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)", symbol)
```

### **4. AUTO_FETCH_COINS –æ—Ç–∫–ª—é—á–µ–Ω**

```python
AUTO_FETCH_COINS = os.getenv("AUTO_FETCH_COINS", "false")  # –ò–°–ü–†–ê–í–õ–ï–ù–û: "false"
```

---

## üìä –°–†–ê–í–ù–ï–ù–ò–ï

### **–î–û –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:**

| –ò—Å—Ç–æ—á–Ω–∏–∫ | –ú–æ–Ω–µ—Ç | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–æ—Å—å |
|----------|-------|----------------|
| `intelligent_filter_system.py` | 143 | ‚ùå 0 (–Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è) |
| `COINS` –≤ `config.py` | 22 | ‚úÖ 22 (–µ—Å–ª–∏ AUTO_FETCH_COINS=false) |
| –ê–≤—Ç–æ-–ø–æ–¥–±–æ—Ä —á–µ—Ä–µ–∑ API | ~200 | ‚ö†Ô∏è 2-6 (—Ç–æ–ª—å–∫–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ) |

**–ò—Ç–æ–≥–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª–æ—Å—å:** 2-22 –º–æ–Ω–µ—Ç—ã

---

### **–ü–û–°–õ–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:**

| –ò—Å—Ç–æ—á–Ω–∏–∫ | –ú–æ–Ω–µ—Ç | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è |
|----------|-------|--------------|
| `intelligent_filter_system.py` | 143 | ‚úÖ 141 (–ø–æ—Å–ª–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏) |
| `COINS` –≤ `config.py` | 22 | ‚ö†Ô∏è Fallback (–µ—Å–ª–∏ intelligent_filter_system –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω) |
| –ê–≤—Ç–æ-–ø–æ–¥–±–æ—Ä —á–µ—Ä–µ–∑ API | ~200 | ‚ö†Ô∏è Fallback (–µ—Å–ª–∏ COINS –ø—É—Å—Ç–æ–π) |

**–ò—Ç–æ–≥–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è:** 141 –º–æ–Ω–µ—Ç–∞

---

## üéØ –í–´–í–û–î

**–ü–æ—á–µ–º—É –±—ã–ª–æ —Ç–æ–ª—å–∫–æ 22 –º–æ–Ω–µ—Ç—ã:**

1. ‚ùå `intelligent_filter_system` –Ω–µ –±—ã–ª –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ `get_symbols()`
2. ‚ùå –ù–µ –±—ã–ª–æ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö –º–æ–Ω–µ—Ç –∏–∑ `intelligent_filter_system`
3. ‚ùå –ú–æ–Ω–µ—Ç—ã —Å –±–∞–∑–æ–≤—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∏—Å—å
4. ‚ö†Ô∏è `AUTO_FETCH_COINS = true` –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–ª `COINS`

**–¢–µ–ø–µ—Ä—å:**
- ‚úÖ –í—Å–µ 143 –º–æ–Ω–µ—Ç—ã –∏–∑ `intelligent_filter_system` –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
- ‚úÖ –ú–æ–Ω–µ—Ç—ã —Å –±–∞–∑–æ–≤—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω—ã
- ‚úÖ `AUTO_FETCH_COINS = false` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `COINS` –∫–∞–∫ fallback

---

## üìù –ò–¢–û–ì

**–ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤ —Ç–æ–º, —á—Ç–æ:**
- –°–∏—Å—Ç–µ–º–∞ –Ω–µ –∑–Ω–∞–ª–∞ –æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–∏ 143 –º–æ–Ω–µ—Ç –≤ `intelligent_filter_system.py`
- –õ–æ–≥–∏–∫–∞ `get_symbols()` –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–ª–∞ `intelligent_filter_system`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –º–æ–Ω–µ—Ç—ã –∏–∑ `COINS` (22) –∏–ª–∏ –∞–≤—Ç–æ-–ø–æ–¥–±–æ—Ä (2-6)

**–¢–µ–ø–µ—Ä—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `intelligent_filter_system`
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤—Å–µ 143 –º–æ–Ω–µ—Ç—ã
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç 141 –º–æ–Ω–µ—Ç—É (–ø–æ—Å–ª–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Å—Ç–µ–π–±–ª–∫–æ–∏–Ω–æ–≤)

