# –û—Ç—á–µ—Ç: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–æ—Ä–æ–Ω—ã –ø–æ–∑–∏—Ü–∏–∏ –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ —Å–∏–≥–Ω–∞–ª–æ–≤

## üéØ **–ü—Ä–æ–±–ª–µ–º–∞**

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–æ–±—â–∏–ª: **"–≤ —Å—Ç–∞—Ç–∏—Å–∫—Ç–∏–∫–µ —Å–∏–≥–Ω–∞–ª–æ–≤–∞ –º–æ–Ω–µ—Ç—ã –≤—Å–µ –±—ã–ª–∏ –≤ —à–æ—Ç—Ç –∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª–æ–Ω–≥"**

## üîç **–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã**

### **–ß—Ç–æ –±—ã–ª–æ –Ω–∞–π–¥–µ–Ω–æ:**

1. **–ü—Ä–æ–±–ª–µ–º–∞ —Å –∑–∞–≥—Ä—É–∑–∫–æ–π –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `signal_stats_cmd`** ‚ùå
   - –§—É–Ω–∫—Ü–∏—è `signal_stats_cmd` –Ω–µ –∑–∞–≥—Ä—É–∂–∞–ª–∞ –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–∞–π–ª–∞ `user_data.json`
   - –†–∞–±–æ—Ç–∞–ª–∞ —Ç–æ–ª—å–∫–æ —Å –¥–∞–Ω–Ω—ã–º–∏ –≤ –ø–∞–º—è—Ç–∏ (`context.application.user_data`)
   - –î–∞–Ω–Ω—ã–µ –≤ –ø–∞–º—è—Ç–∏ –º–æ–≥–ª–∏ –±—ã—Ç—å –ø—É—Å—Ç—ã–º–∏ –∏–ª–∏ —É—Å—Ç–∞—Ä–µ–≤—à–∏–º–∏

2. **–õ–æ–≥–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–æ—Ä–æ–Ω—ã —Ä–∞–±–æ—Ç–∞–ª–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ** ‚úÖ
   - –ö–æ–¥ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–ª —Å—Ç–æ—Ä–æ–Ω—É –ø–æ–∑–∏—Ü–∏–∏: `side = pos.get("side", "long")`
   - –ü—Ä–∞–≤–∏–ª—å–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª —ç–º–æ–¥–∑–∏: `side_emoji = "üü¢" if side == "long" else "üî¥"`
   - –ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–ª —Å—Ç–æ—Ä–æ–Ω—É: `{side.upper()}`

3. **–ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–∞–Ω–Ω—ã—Ö** ‚ùå
   - –ë–µ–∑ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–∞–π–ª–∞ —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ –º–æ–≥–ª–∞ –Ω–∞–π—Ç–∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏
   - –ü–æ–∫–∞–∑—ã–≤–∞–ª–∞ –ø—É—Å—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ –¥–∞–Ω–Ω—ã–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

### **–ö–æ—Ä–µ–Ω—å –ø—Ä–æ–±–ª–µ–º—ã:**
```python
# –í —Ñ—É–Ω–∫—Ü–∏–∏ signal_stats_cmd - –ë–´–õ–û:
async def signal_stats_cmd(update: Update, context: ContextTypes.DEFAULT_TYPE):
    user_id = update.effective_user.id
    if user_id not in context.application.user_data:
        context.application.user_data[user_id] = {}
    user_data = context.application.user_data[user_id]
    # ‚ùå –ù–ï –∑–∞–≥—Ä—É–∂–∞–ª–∏—Å—å –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–∞–π–ª–∞
```

## ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**

### **1. –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ—É–Ω–∫—Ü–∏—é `signal_stats_cmd`:**

```python
# –°—Ç–∞–ª–æ:
async def signal_stats_cmd(update: Update, context: ContextTypes.DEFAULT_TYPE):
    user_id = update.effective_user.id

    # –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ —Ñ–∞–π–ª–∞
    load_user_data(context)

    if user_id not in context.application.user_data:
        context.application.user_data[user_id] = {}
    user_data = context.application.user_data[user_id]
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–µ–ø–µ—Ä—å –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ —Ñ–∞–π–ª–∞ –ø–µ—Ä–µ–¥ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

## üìä **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–æ—Ä–æ–Ω—ã –ø–æ–∑–∏—Ü–∏–∏:**
```
=== –¢–µ—Å—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–æ—Ä–æ–Ω—ã –ø–æ–∑–∏—Ü–∏–∏ –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ —Å–∏–≥–Ω–∞–ª–æ–≤ ===
‚úÖ –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ–∑–¥–∞–Ω—ã
üìä –û—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π: 3

üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ—Ä–æ–Ω—ã –ø–æ–∑–∏—Ü–∏–π:

  –ü–æ–∑–∏—Ü–∏—è 1: BTCUSDT
    –°—Ç–æ—Ä–æ–Ω–∞ –≤ –¥–∞–Ω–Ω—ã—Ö: short
    ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ: SHORT –ø–æ–∑–∏—Ü–∏—è
    –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ: üî¥ <code>BTCUSDT</code> SHORT

  –ü–æ–∑–∏—Ü–∏—è 2: ETHUSDT
    –°—Ç–æ—Ä–æ–Ω–∞ –≤ –¥–∞–Ω–Ω—ã—Ö: short
    ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ: SHORT –ø–æ–∑–∏—Ü–∏—è
    –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ: üî¥ <code>ETHUSDT</code> SHORT

  –ü–æ–∑–∏—Ü–∏—è 3: ADAUSDT
    –°—Ç–æ—Ä–æ–Ω–∞ –≤ –¥–∞–Ω–Ω—ã—Ö: short
    ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ: SHORT –ø–æ–∑–∏—Ü–∏—è
    –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ: üî¥ <code>ADAUSDT</code> SHORT

üéâ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ—Ä–æ–Ω—ã –ø–æ–∑–∏—Ü–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω–∞!
```

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:**
```
=== –¢–µ—Å—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ ===
‚úÖ –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ–∑–¥–∞–Ω—ã
üü¢ –û–¢–ö–†–´–¢–´–ï –ü–û–ó–ò–¶–ò–ò:

üî¥ <code>BTCUSDT</code> SHORT
üí∞ –í—Ö–æ–¥: <code>50000.000000</code>
üéØ TP1: <code>50500.000000</code> | üöÄ TP2: <code>51000.000000</code>
üìä –û–±—ä—ë–º: <code>0.1000</code> | –°—Ç–∞–¥–∏—è: <code>open</code>

üéâ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ!
```

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å—Ç–æ—Ä–æ–Ω—ã:**
```
=== –¢–µ—Å—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å—Ç–æ—Ä–æ–Ω—ã –ø–æ–∑–∏—Ü–∏–∏ ===
üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Å—Ç–æ—Ä–æ–Ω—ã:
  1. –°—Ç–æ—Ä–æ–Ω–∞: 'short'
     –û–∂–∏–¥–∞–ª–æ—Å—å: üî¥ SHORT
     –ü–æ–ª—É—á–µ–Ω–æ: üî¥ SHORT
     ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
  2. –°—Ç–æ—Ä–æ–Ω–∞: 'long'
     –û–∂–∏–¥–∞–ª–æ—Å—å: üü¢ LONG
     –ü–æ–ª—É—á–µ–Ω–æ: üü¢ LONG
     ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
  3. –°—Ç–æ—Ä–æ–Ω–∞: 'SHORT'
     –û–∂–∏–¥–∞–ª–æ—Å—å: üî¥ SHORT
     –ü–æ–ª—É—á–µ–Ω–æ: üî¥ SHORT
     ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
  4. –°—Ç–æ—Ä–æ–Ω–∞: 'LONG'
     –û–∂–∏–¥–∞–ª–æ—Å—å: üü¢ LONG
     –ü–æ–ª—É—á–µ–Ω–æ: üü¢ LONG
     ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
  5. –°—Ç–æ—Ä–æ–Ω–∞: 'Short'
     –û–∂–∏–¥–∞–ª–æ—Å—å: üî¥ SHORT
     –ü–æ–ª—É—á–µ–Ω–æ: üî¥ SHORT
     ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
  6. –°—Ç–æ—Ä–æ–Ω–∞: 'Long'
     –û–∂–∏–¥–∞–ª–æ—Å—å: üü¢ LONG
     –ü–æ–ª—É—á–µ–Ω–æ: üü¢ LONG
     ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
  7. –°—Ç–æ—Ä–æ–Ω–∞: 'long' (None -> –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
     –û–∂–∏–¥–∞–ª–æ—Å—å: üü¢ LONG
     –ü–æ–ª—É—á–µ–Ω–æ: üü¢ LONG
     ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
  8. –°—Ç–æ—Ä–æ–Ω–∞: 'long' ("" -> –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
     –û–∂–∏–¥–∞–ª–æ—Å—å: üü¢ LONG
     –ü–æ–ª—É—á–µ–Ω–æ: üü¢ LONG
     ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ

üéâ –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç–æ—Ä–æ–Ω—ã –ø–æ–∑–∏—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ!
```

## üîß **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏**

### **–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `telegram_bot.py` (—Å—Ç—Ä–æ–∫–∞ 5041) - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ—É–Ω–∫—Ü–∏—é `signal_stats_cmd`

### **–§—É–Ω–∫—Ü–∏–∏ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã:**
- `signal_stats_cmd()` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–∞–π–ª–∞
- `load_user_data()` - —É–∂–µ —Ä–∞–±–æ—Ç–∞–ª–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### **–õ–æ–≥–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–æ—Ä–æ–Ω—ã –ø–æ–∑–∏—Ü–∏–∏:**

```python
# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω—ã –ø–æ–∑–∏—Ü–∏–∏
side = pos.get("side", "long")  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é "long"

# –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —ç–º–æ–¥–∑–∏
side_emoji = "üü¢" if side == "long" else "üî¥"

# –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –ø–æ–∑–∏—Ü–∏–∏
pos_str = f"{side_emoji} <code>{symbol}</code> {side.upper()}\n"
```

### **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**
- `"short"` ‚Üí üî¥ SHORT
- `"long"` ‚Üí üü¢ LONG
- `None` –∏–ª–∏ `""` ‚Üí üü¢ LONG (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

## üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç**

### **‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
1. **–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö:** –¢–µ–ø–µ—Ä—å `signal_stats_cmd` –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–∞–π–ª–∞ –ø–µ—Ä–µ–¥ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
2. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω—ã:** SHORT –ø–æ–∑–∏—Ü–∏–∏ —Ç–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ üî¥ SHORT
3. **–ê–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö:** –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–∞–π–ª–∞ `user_data.json`

### **üì± –ü—Ä–∏–º–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:**

**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```
üü¢ –û–¢–ö–†–´–¢–´–ï –ü–û–ó–ò–¶–ò–ò:
üü¢ <code>BTCUSDT</code> LONG  # ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–ª—è SHORT –ø–æ–∑–∏—Ü–∏–∏
```

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```
üü¢ –û–¢–ö–†–´–¢–´–ï –ü–û–ó–ò–¶–ò–ò:
üî¥ <code>BTCUSDT</code> SHORT  # ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –¥–ª—è SHORT –ø–æ–∑–∏—Ü–∏–∏
üí∞ –í—Ö–æ–¥: <code>50000.000000</code>
üéØ TP1: <code>50500.000000</code> | üöÄ TP2: <code>51000.000000</code>
üìä –û–±—ä—ë–º: <code>0.1000</code> | –°—Ç–∞–¥–∏—è: <code>open</code>
```

## üéâ **–ó–∞–∫–ª—é—á–µ–Ω–∏–µ**

**–ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞!**

- ‚úÖ –§—É–Ω–∫—Ü–∏—è `signal_stats_cmd` —Ç–µ–ø–µ—Ä—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–∞–π–ª–∞
- ‚úÖ SHORT –ø–æ–∑–∏—Ü–∏–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ üî¥ SHORT
- ‚úÖ LONG –ø–æ–∑–∏—Ü–∏–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ üü¢ LONG
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞

**–¢–µ–ø–µ—Ä—å –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ —Å–∏–≥–Ω–∞–ª–æ–≤ —Å—Ç–æ—Ä–æ–Ω—ã –ø–æ–∑–∏—Ü–∏–π –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ!** üöÄ