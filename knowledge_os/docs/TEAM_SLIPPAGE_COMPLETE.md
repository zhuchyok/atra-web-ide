# ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û: –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è

## üìä –ò–¢–û–ì–û–í–´–ô –°–¢–ê–¢–£–°

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 2025-01-27  
**–≠—Ç–∞–ø—ã:** 1-2 –∑–∞–≤–µ—Ä—à–µ–Ω—ã  
**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:** ‚úÖ

## ‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û

### –≠—Ç–∞–ø 1: –ë–∞–∑–æ–≤–∞—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è

1. **SlippageManager** (`slippage_manager.py`)
   - ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ (H1.1)
   - ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞–∑–º–µ—Ä–∞ –æ—Ä–¥–µ—Ä–∞
   - ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
   - ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö `slippage_records` (H3.1)
   - ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è
   - ‚úÖ –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è —á–µ—Ä–µ–∑ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫—É —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏ (H2.1)

2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ OrderManager**
   - ‚úÖ `create_market_order()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ
   - ‚úÖ `_fill_order()` –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ

3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ signal_live.py**
   - ‚úÖ –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ `entry_amount_usdt`
   - ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `get_adjusted_position_size()`

### –≠—Ç–∞–ø 2: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è

1. **–í—ã–±–æ—Ä –º–µ–∂–¥—É market –∏ limit –æ—Ä–¥–µ—Ä–∞–º–∏ (H4.1)**
   - ‚úÖ –ú–µ—Ç–æ–¥ `should_use_limit_order()`
   - ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –≤ `create_market_order()`
   - ‚úÖ –ü–æ—Ä–æ–≥: 0.15% –æ–∂–∏–¥–∞–µ–º–æ–≥–æ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è
   - ‚úÖ Limit —Ü–µ–Ω–∞: ¬±0.05% –æ—Ç —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã

2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è (H4.4)**
   - ‚úÖ –ú–µ—Ç–æ–¥ `should_wait_for_better_liquidity()`
   - ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ–º

## üìà –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã:
- ‚úÖ –ë–æ–ª–µ–µ —Ç–æ—á–Ω–æ–µ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ —Ç–∏–ø–∞ –æ—Ä–¥–µ—Ä–∞

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã (1-2 –Ω–µ–¥–µ–ª–∏):
- üìä –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ–≥–æ –≤–ª–∏—è–Ω–∏—è –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è –Ω–∞ 30-40%
- üìä –£–ª—É—á—à–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–π —Ü–µ–Ω—ã –≤—Ö–æ–¥–∞ –Ω–∞ 0.1-0.3%
- üìä –≠–∫–æ–Ω–æ–º–∏—è –Ω–∞ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–∏ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ limit –æ—Ä–¥–µ—Ä–æ–≤

## üîß –ù–ê–°–¢–†–û–ô–ö–ò

### –ü–æ—Ä–æ–≥–∏ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏:
```python
high_liquidity_threshold: 100_000_000 USD  # >100M
medium_liquidity_threshold: 10_000_000 USD  # 10-100M
```

### –ü—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ:
```python
high_liquidity_slippage: 0.0005      # 0.05%
medium_liquidity_slippage: 0.001     # 0.1%
low_liquidity_slippage: 0.002        # 0.2%
very_low_liquidity_slippage: 0.005   # 0.5%
```

### –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è:
```python
compensation_threshold: 0.0015  # 0.15% - –ø–æ—Ä–æ–≥ –¥–ª—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏
max_compensation_pct: 0.1        # –ú–∞–∫—Å–∏–º—É–º 10% —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏
```

### Limit –æ—Ä–¥–µ—Ä–∞:
```python
limit_order_threshold: 0.0015  # 0.15% - –ø–æ—Ä–æ–≥ –¥–ª—è limit
limit_price_offset: 0.0005     # ¬±0.05% –æ—Ç —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã
```

## üìä –ú–ï–¢–†–ò–ö–ò –î–õ–Ø –ú–û–ù–ò–¢–û–†–ò–ù–ì–ê

1. **–°—Ä–µ–¥–Ω–µ–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ –ø–æ —Å–∏–º–≤–æ–ª–∞–º**
   ```python
   slippage_manager.get_symbol_statistics('SOLUSDT')
   ```

2. **–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**
   ```python
   slippage_manager.get_statistics()
   ```

3. **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å limit vs market**
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ limit –æ—Ä–¥–µ—Ä–æ–≤
   - –°—Ä–µ–¥–Ω—è—è —ç–∫–æ–Ω–æ–º–∏—è –Ω–∞ limit –æ—Ä–¥–µ—Ä–∞—Ö
   - –ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—à–Ω—ã—Ö limit –æ—Ä–¥–µ—Ä–æ–≤

## üöÄ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—é –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è:
- –ü—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏ –≤ `signal_live.py`
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ—Ä–¥–µ—Ä–æ–≤ –≤ `order_manager.py`
- –ü—Ä–∏ –∑–∞–ø–∏—Å–∏ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è

### –†—É—á–Ω–æ–π –∫–æ–Ω—Ç—Ä–æ–ª—å:
```python
from slippage_manager import get_slippage_manager

slippage_manager = get_slippage_manager()

# –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
stats = slippage_manager.get_symbol_statistics('SOLUSDT')

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω—É–∂–µ–Ω –ª–∏ limit –æ—Ä–¥–µ—Ä
decision = slippage_manager.should_use_limit_order(
    symbol='SOLUSDT',
    side='buy',
    current_price=141.00,
    volume_24h=500_000_000,
    order_size_usd=1000
)
```

## üìù –ó–ê–ú–ï–¢–ö–ò

- –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –î–∞–Ω–Ω—ã–µ –æ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–∏ –Ω–∞–∫–∞–ø–ª–∏–≤–∞—é—Ç—Å—è –≤ –ë–î –¥–ª—è –±—É–¥—É—â–µ–π –∞–¥–∞–ø—Ç–∞—Ü–∏–∏
- Limit –æ—Ä–¥–µ—Ä–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–º –æ–∂–∏–¥–∞–µ–º–æ–º –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–∏ (>0.15%)
- –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–∏ >0.15%

## ‚úÖ –ì–û–¢–û–í–û –ö –ü–†–û–î–ê–ö–®–ï–ù–£

–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã, –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

