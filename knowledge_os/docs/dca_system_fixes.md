# üõ†Ô∏è –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø DCA –°–ò–°–¢–ï–ú–´

## ‚ùå **–ü–†–û–ë–õ–ï–ú–´ –í –°–¢–ê–†–û–ô –í–ï–†–°–ò–ò:**

### **1. DCA –°–ò–ì–ù–ê–õ–´ –ù–ï –ó–ê–ö–†–´–í–ê–õ–ò–°–¨:**
- ‚úÖ DCA —Å–∏–≥–Ω–∞–ª—ã —Å–æ–∑–¥–∞–≤–∞–ª–∏—Å—å
- ‚ùå **–ù–ï –∑–∞–∫—Ä—ã–≤–∞–ª–∏—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ TP1/TP2
- ‚ùå **–ù–ï –º–æ–Ω–∏—Ç–æ—Ä–∏–ª–∏—Å—å —Ü–µ–Ω—ã** –¥–ª—è DCA
- ‚ùå **–ù–ï –±—ã–ª–æ —Å–∏—Å—Ç–µ–º—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π** –æ –∑–∞–∫—Ä—ã—Ç–∏–∏ DCA

### **2. –û–¢–°–£–¢–°–¢–í–û–í–ê–õ–ê –°–ò–°–¢–ï–ú–ê –ú–û–ù–ò–¢–û–†–ò–ù–ì–ê DCA:**
- ‚ùå –ù–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ü–µ–Ω –¥–ª—è DCA —Å–∏–≥–Ω–∞–ª–æ–≤
- ‚ùå –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è DCA –ø–æ TP1/TP2
- ‚ùå –ù–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –∑–∞–∫—Ä—ã—Ç–∏–∏ DCA –ø–æ–∑–∏—Ü–∏–π

## ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –í –ù–û–í–û–ô –í–ï–†–°–ò–ò:**

### **1. –°–ò–°–¢–ï–ú–ê –ú–û–ù–ò–¢–û–†–ò–ù–ì–ê DCA** (`dca_monitor_system.py`)

#### **–§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–°–¢–¨:**
- ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ü–µ–Ω** –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É –¥–ª—è DCA —Å–∏–≥–Ω–∞–ª–æ–≤
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ 50%** –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ TP1
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ 100%** –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ TP2
- ‚úÖ **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–∫—Ä—ã—Ç–∏–∏** DCA –ø–æ–∑–∏—Ü–∏–π
- ‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** DCA –æ–ø–µ—Ä–∞—Ü–∏–π

#### **–ê–õ–ì–û–†–ò–¢–ú –†–ê–ë–û–¢–´:**
```python
async def check_all_dca_signals(self):
    """–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö DCA —Å–∏–≥–Ω–∞–ª–æ–≤ –Ω–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ TP1/TP2"""
    # 1. –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ DCA —Å–∏–≥–Ω–∞–ª—ã –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ
    # 2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∏–≥–Ω–∞–ª–∞ –ø–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â—É—é —Ü–µ–Ω—É
    # 3. –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ TP1 (50% –∑–∞–∫—Ä—ã—Ç–∏–µ)
    # 4. –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ TP2 (100% –∑–∞–∫—Ä—ã—Ç–∏–µ)
    # 5. –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
    # 6. –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
```

### **2. –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –í –û–°–ù–û–í–ù–û–ô –¶–ò–ö–õ**

#### **–î–û–ë–ê–í–õ–ï–ù–û –í `main.py`:**
```python
# –ò–º–ø–æ—Ä—Ç —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ DCA
from dca_monitor_system import run_dca_monitoring

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ DCA
logger.info("üß† –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ DCA...")
dca_monitor_task_local = asyncio.create_task(run_dca_monitoring())

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á
tasks = [
    # ... –¥—Ä—É–≥–∏–µ –∑–∞–¥–∞—á–∏
    dca_monitor_task_local,
]
```

### **3. –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ï –ó–ê–ö–†–´–¢–ò–ï DCA**

#### **TP1 (50% –ó–ê–ö–†–´–¢–ò–ï):**
```python
async def close_dca_signal_at_tp1(self, symbol, entry_time, current_price, tp1, created_at):
    """–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ 50% DCA –ø–æ–∑–∏—Ü–∏–∏ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ TP1"""
    # 1. –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –ø—Ä–∏–±—ã–ª—å (50% –æ—Ç —Ä–∞–∑–Ω–æ—Å—Ç–∏ —Ü–µ–Ω)
    profit_50pct = (current_price - tp1) * 0.5

    # 2. –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
    # 3. –õ–æ–≥–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    # 4. –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
```

#### **TP2 (100% –ó–ê–ö–†–´–¢–ò–ï):**
```python
async def close_dca_signal_at_tp2(self, symbol, entry_time, current_price, tp2, created_at):
    """–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ 100% DCA –ø–æ–∑–∏—Ü–∏–∏ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ TP2"""
    # 1. –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –ø—Ä–∏–±—ã–ª—å (100% –æ—Ç —Ä–∞–∑–Ω–æ—Å—Ç–∏ —Ü–µ–Ω)
    profit_100pct = (current_price - tp2) * 1.0

    # 2. –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
    # 3. –õ–æ–≥–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    # 4. –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
```

### **4. –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø DCA**

#### **TP1 –£–í–ï–î–û–ú–õ–ï–ù–ò–ï:**
```
üß† DCA TP1 –¥–æ—Å—Ç–∏–≥–Ω—É—Ç!
{symbol} @ {current_price}
TP1: {tp1}
‚úÖ 50% DCA –ø–æ–∑–∏—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã—Ç–æ!
üí∞ –ü—Ä–∏–±—ã–ª—å: {profit:.4f} USDT
```

#### **TP2 –£–í–ï–î–û–ú–õ–ï–ù–ò–ï:**
```
üèÜ DCA TP2 –¥–æ—Å—Ç–∏–≥–Ω—É—Ç!
{symbol} @ {current_price}
TP2: {tp2}
‚úÖ DCA –ø–æ–∑–∏—Ü–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã—Ç–∞!
üí∞ –ü—Ä–∏–±—ã–ª—å: {profit:.4f} USDT
```

## üéØ **–†–ï–ó–£–õ–¨–¢–ê–¢ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô:**

### **–î–û –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô:**
- ‚ùå DCA —Å–∏–≥–Ω–∞–ª—ã —Å–æ–∑–¥–∞–≤–∞–ª–∏—Å—å, –Ω–æ –ù–ï –∑–∞–∫—Ä—ã–≤–∞–ª–∏—Å—å
- ‚ùå 35 DCA —Å–∏–≥–Ω–∞–ª–æ–≤ "–≤–∏—Å–µ–ª–∏" –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ
- ‚ùå 0% —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ DCA
- ‚ùå –ù–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ü–µ–Ω –¥–ª—è DCA

### **–ü–û–°–õ–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô:**
- ‚úÖ DCA —Å–∏–≥–Ω–∞–ª—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è –ø–æ TP1/TP2
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ü–µ–Ω –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ 50% –ø—Ä–∏ TP1
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ 100% –ø—Ä–∏ TP2
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–∫—Ä—ã—Ç–∏–∏ DCA –ø–æ–∑–∏—Ü–∏–π
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ DCA –æ–ø–µ—Ä–∞—Ü–∏–π

## ‚úÖ **–°–ò–°–¢–ï–ú–ê –ì–û–¢–û–í–ê –ö –†–ê–ë–û–¢–ï!**

**–ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è —Å–∏—Å—Ç–µ–º—ã:**
1. **–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç —Ü–µ–Ω—ã** –¥–ª—è DCA —Å–∏–≥–Ω–∞–ª–æ–≤ ‚úÖ
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç** DCA –ø–æ TP1/TP2 ‚úÖ
3. **–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –æ –∑–∞–∫—Ä—ã—Ç–∏–∏ ‚úÖ
4. **–õ–æ–≥–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** DCA –æ–ø–µ—Ä–∞—Ü–∏–π ‚úÖ
5. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞** –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª ‚úÖ

**DCA —Å–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –∑–∞–¥—É–º–∞–Ω–æ! üß†**
