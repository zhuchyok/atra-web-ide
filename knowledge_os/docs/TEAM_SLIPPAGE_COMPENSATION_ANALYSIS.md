# üë• –ê–ù–ê–õ–ò–ó –ö–û–ú–ê–ù–î–´: –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è

## üìä –¢–ï–ö–£–©–ê–Ø –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø

### 1. **–°—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è**

**–í `order_manager.py`:**
```python
# –°—Ç—Ä–æ–∫–∞ 75
'slippage_tolerance': 0.001,  # 0.1% —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

# –°—Ç—Ä–æ–∫–∏ 114-118
if side == 'buy':
    price = current_price * (1 + self.order_settings['slippage_tolerance'])
else:
    price = current_price * (1 - self.order_settings['slippage_tolerance'])
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ 0.1% –¥–ª—è –≤—Å–µ—Ö –º–æ–Ω–µ—Ç
- ‚ùå –ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å —Å–∏–º–≤–æ–ª–∞
- ‚ùå –ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –æ—Ä–¥–µ—Ä–∞
- ‚ùå –ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å —Ä—ã–Ω–∫–∞
- ‚ùå –ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –≤—Ä–µ–º—è —Å—É—Ç–æ–∫
- ‚ùå –ù–µ—Ç –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è

**–í –±–µ–∫—Ç–µ—Å—Ç–∞—Ö:**
```python
# backtests/backtest.py, —Å—Ç—Ä–æ–∫–∞ 3258
entry = row["close"] * (1 + slippage)  # –î–ª—è LONG
exit_price = tp * (1 - slippage)      # –ü—Ä–∏ –≤—ã—Ö–æ–¥–µ
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå –ü—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –º–æ–¥–µ–ª–∏—Ä—É–µ—Ç—Å—è, –Ω–µ –∫–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ—Ç—Å—è
- ‚ùå –ù–µ—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –æ–∂–∏–¥–∞–µ–º–æ–π –∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–π —Ü–µ–Ω—ã
- ‚ùå –ù–µ—Ç –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### 2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏**

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- ‚úÖ –ü—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ —Ü–µ–Ω—ã –≤—Ö–æ–¥–∞
- ‚ùå –ù–µ—Ç –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ –ø–æ—Å–ª–µ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è
- ‚ùå –ù–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è
- ‚ùå –ù–µ—Ç –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö

## üîç –ì–ò–ü–û–¢–ï–ó–´ –î–õ–Ø –ö–û–ú–ü–ï–ù–°–ê–¶–ò–ò –ü–†–û–°–ö–ê–õ–¨–ó–´–í–ê–ù–ò–Ø

### **–ì–ò–ü–û–¢–ï–ó–ê 1: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ**

**–ü—Ä–æ–±–ª–µ–º–∞:** –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ 0.1% –Ω–µ –æ—Ç—Ä–∞–∂–∞–µ—Ç —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å

**–ì–∏–ø–æ—Ç–µ–∑—ã:**
1. **H1.1: –ü—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏**
   ```python
   # –í—ã—Å–æ–∫–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å (volume_24h > 100M) ‚Üí 0.05%
   # –°—Ä–µ–¥–Ω—è—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å (10M-100M) ‚Üí 0.1%
   # –ù–∏–∑–∫–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å (<10M) ‚Üí 0.2-0.5%
   slippage = calculate_slippage_by_liquidity(symbol, volume_24h)
   ```
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ë–æ–ª–µ–µ —Ç–æ—á–Ω–æ–µ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è

2. **H1.2: –ü—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞–∑–º–µ—Ä–∞ –æ—Ä–¥–µ—Ä–∞**
   ```python
   # –ú–∞–ª–µ–Ω—å–∫–∏–π –æ—Ä–¥–µ—Ä (<0.1% –æ—Ç –æ–±—ä–µ–º–∞) ‚Üí 0.05%
   # –°—Ä–µ–¥–Ω–∏–π –æ—Ä–¥–µ—Ä (0.1-1%) ‚Üí 0.1%
   # –ë–æ–ª—å—à–æ–π –æ—Ä–¥–µ—Ä (>1%) ‚Üí 0.2-0.5%
   slippage = calculate_slippage_by_order_size(order_size, market_volume)
   ```
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –£—á–µ—Ç –≤–ª–∏—è–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –æ—Ä–¥–µ—Ä–∞

3. **H1.3: –ü—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏**
   ```python
   # –ù–∏–∑–∫–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å (<2%) ‚Üí 0.05%
   # –°—Ä–µ–¥–Ω—è—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å (2-5%) ‚Üí 0.1%
   # –í—ã—Å–æ–∫–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å (>5%) ‚Üí 0.2-0.4%
   slippage = calculate_slippage_by_volatility(symbol, volatility)
   ```
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫ —Ä—ã–Ω–æ—á–Ω—ã–º —É—Å–ª–æ–≤–∏—è–º

4. **H1.4: –ü—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—Ä–µ–º–µ–Ω–∏ —Å—É—Ç–æ–∫**
   ```python
   # –ê–∑–∏–∞—Ç—Å–∫–∞—è —Å–µ—Å—Å–∏—è (–Ω–∏–∑–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å) ‚Üí +0.05%
   # –ï–≤—Ä–æ–ø–µ–π—Å–∫–∞—è —Å–µ—Å—Å–∏—è (—Å—Ä–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å) ‚Üí –±–∞–∑–æ–≤–æ–µ
   # –ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∞—è —Å–µ—Å—Å–∏—è (–≤—ã—Å–æ–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å) ‚Üí -0.02%
   slippage = calculate_slippage_by_time(hour, timezone)
   ```
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –£—á–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ —Ç–æ—Ä–≥–æ–≤–ª–∏

### **–ì–ò–ü–û–¢–ï–ó–ê 2: –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è**

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ —Ä–∞–∑–Ω–∏—Ü—ã –º–µ–∂–¥—É –æ–∂–∏–¥–∞–µ–º–æ–π –∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–π —Ü–µ–Ω–æ–π

**–ì–∏–ø–æ—Ç–µ–∑—ã:**
1. **H2.1: –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è —á–µ—Ä–µ–∑ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫—É —Ä–∞–∑–º–µ—Ä–∞ —Å–ª–µ–¥—É—é—â–µ–π –ø–æ–∑–∏—Ü–∏–∏**
   ```python
   # –ï—Å–ª–∏ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ >0.15% ‚Üí —É–º–µ–Ω—å—à–∞–µ–º —Ä–∞–∑–º–µ—Ä —Å–ª–µ–¥—É—é—â–µ–π –ø–æ–∑–∏—Ü–∏–∏
   if actual_slippage > 0.0015:
       next_position_size *= (1 - (actual_slippage - 0.001) * 2)
   ```
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è —á–µ—Ä–µ–∑ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–º

2. **H2.2: –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è —á–µ—Ä–µ–∑ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫—É TP/SL**
   ```python
   # –ï—Å–ª–∏ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ –Ω–µ–±–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω–æ–µ ‚Üí –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ–º TP/SL
   if actual_slippage > expected_slippage:
       # –î–ª—è LONG: —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º TP –Ω–∞ —Ä–∞–∑–Ω–∏—Ü—É –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è
       tp1_adjusted = tp1 * (1 + (actual_slippage - expected_slippage))
   ```
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Ü–µ–ª–µ–≤—ã–µ —É—Ä–æ–≤–Ω–∏

3. **H2.3: –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Ä–µ–∑–µ—Ä–≤–Ω—ã–π —Ñ–æ–Ω–¥**
   ```python
   # –°–æ–∑–¥–∞–µ–º —Ä–µ–∑–µ—Ä–≤–Ω—ã–π —Ñ–æ–Ω–¥ –¥–ª—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è
   slippage_reserve = balance * 0.01  # 1% —Ä–µ–∑–µ—Ä–≤
   # –ü—Ä–∏ –Ω–µ–±–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω–æ–º –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–∏ –∫–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ–º –∏–∑ —Ä–µ–∑–µ—Ä–≤–∞
   if actual_slippage > expected_slippage:
       compensation = (actual_slippage - expected_slippage) * position_value
       slippage_reserve -= compensation
   ```
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ü—Ä—è–º–∞—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è —É–±—ã—Ç–∫–æ–≤

4. **H2.4: –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è —á–µ—Ä–µ–∑ –∞–¥–∞–ø—Ç–∞—Ü–∏—é –ª–∏–º–∏—Ç–æ–≤**
   ```python
   # –ï—Å–ª–∏ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ –≤—ã—Å–æ–∫–æ–µ ‚Üí —É–º–µ–Ω—å—à–∞–µ–º –ª–∏–º–∏—Ç—ã –ø–æ–∑–∏—Ü–∏–π
   if avg_slippage_last_10_trades > 0.002:
       max_position_size *= 0.9  # –£–º–µ–Ω—å—à–∞–µ–º –Ω–∞ 10%
   ```
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫ —É—Å–ª–æ–≤–∏—è–º —Ä—ã–Ω–∫–∞

### **–ì–ò–ü–û–¢–ï–ó–ê 3: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏ –æ–±—É—á–µ–Ω–∏–µ**

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–∏

**–ì–∏–ø–æ—Ç–µ–∑—ã:**
1. **H3.1: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è**
   ```python
   # –°–æ—Ö—Ä–∞–Ω—è–µ–º –∫–∞–∂–¥–æ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ:
   {
       'symbol': 'SOLUSDT',
       'side': 'buy',
       'expected_price': 141.00,
       'actual_price': 141.15,
       'slippage_pct': 0.106,
       'volume_24h': 500000000,
       'order_size_usd': 1000,
       'volatility': 0.035,
       'timestamp': '2024-11-14 12:00:00'
   }
   ```
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è ML-–º–æ–¥–µ–ª–∏

2. **H3.2: ML-–º–æ–¥–µ–ª—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è**
   ```python
   # –û–±—É—á–∞–µ–º –º–æ–¥–µ–ª—å –Ω–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
   predicted_slippage = ml_model.predict({
       'symbol': symbol,
       'volume_24h': volume,
       'order_size': size,
       'volatility': vol,
       'time_of_day': hour
   })
   ```
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–æ—á–Ω–æ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è

3. **H3.3: –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –ø–æ—Ä–æ–≥–∏ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è**
   ```python
   # –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ—Ä–æ–≥–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 100 —Å–¥–µ–ª–æ–∫
   avg_slippage = calculate_avg_slippage_last_100_trades(symbol)
   if avg_slippage > current_threshold * 1.5:
       increase_slippage_threshold(symbol, avg_slippage * 1.2)
   ```
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è

### **–ì–ò–ü–û–¢–ï–ó–ê 4: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è**

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Å–ø–æ—Å–æ–±–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è

**–ì–∏–ø–æ—Ç–µ–∑—ã:**
1. **H4.1: –í—ã–±–æ—Ä –º–µ–∂–¥—É market –∏ limit –æ—Ä–¥–µ—Ä–∞–º–∏**
   ```python
   # –ï—Å–ª–∏ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ –æ–∂–∏–¥–∞–µ—Ç—Å—è –≤—ã—Å–æ–∫–∏–º ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ–º limit
   if predicted_slippage > 0.0015:
       use_limit_order = True
       limit_price = current_price * (1 - 0.0005)  # –ù–∞ 0.05% –ª—É—á—à–µ
   else:
       use_market_order = True
   ```
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°–Ω–∏–∂–µ–Ω–∏–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è –Ω–∞ 30-50%

2. **H4.2: –†–∞–∑–±–∏–≤–∫–∞ –±–æ–ª—å—à–∏—Ö –æ—Ä–¥–µ—Ä–æ–≤ (TWAP)**
   ```python
   # –î–ª—è –±–æ–ª—å—à–∏—Ö –æ—Ä–¥–µ—Ä–æ–≤ (>1% –æ—Ç –æ–±—ä–µ–º–∞) ‚Üí —Ä–∞–∑–±–∏–≤–∞–µ–º –Ω–∞ —á–∞—Å—Ç–∏
   if order_size > market_volume * 0.01:
       execute_twap_order(order, time_window=300)  # 5 –º–∏–Ω—É—Ç
   ```
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°–Ω–∏–∂–µ–Ω–∏–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è –Ω–∞ 40-60%

3. **H4.3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ order book –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**
   ```python
   # –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Å—Ç–∞–∫–∞–Ω –∑–∞—è–≤–æ–∫
   available_liquidity = calculate_available_liquidity(order_book, order_size)
   if available_liquidity < order_size * 0.8:
       # –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ–º limit –∏–ª–∏ —Ä–∞–∑–±–∏–≤–∞–µ–º
       use_limit_order = True
   ```
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –£–º–Ω–æ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏

4. **H4.4: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è**
   ```python
   # –ò–∑–±–µ–≥–∞–µ–º –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –≤ –ø–µ—Ä–∏–æ–¥—ã –Ω–∏–∑–∫–æ–π –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏
   if current_volume_5min < avg_volume_5min * 0.5:
       wait_for_better_liquidity(max_wait=60)  # –ñ–¥–µ–º –¥–æ 1 –º–∏–Ω—É—Ç—ã
   ```
   - **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°–Ω–∏–∂–µ–Ω–∏–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è –Ω–∞ 30-50%

## üìä –ü–†–ò–û–†–ò–¢–ò–ó–ê–¶–ò–Ø –ì–ò–ü–û–¢–ï–ó

### **–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–±—ã—Å—Ç—Ä–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è, –±–æ–ª—å—à–æ–π —ç—Ñ—Ñ–µ–∫—Ç):**

1. **H1.1: –ü—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏** ‚≠ê‚≠ê‚≠ê
   - –õ–µ–≥–∫–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å
   - –ë–æ–ª—å—à–æ–π —ç—Ñ—Ñ–µ–∫—Ç –Ω–∞ —Ç–æ—á–Ω–æ—Å—Ç—å
   - –ù–µ —Ç—Ä–µ–±—É–µ—Ç ML

2. **H2.1: –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è —á–µ—Ä–µ–∑ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫—É —Ä–∞–∑–º–µ—Ä–∞** ‚≠ê‚≠ê‚≠ê
   - –ü—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞
   - –ü—Ä—è–º–∞—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è
   - –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç

3. **H4.1: –í—ã–±–æ—Ä –º–µ–∂–¥—É market –∏ limit** ‚≠ê‚≠ê‚≠ê
   - –ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ —Å–Ω–∏–∂–µ–Ω–∏–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è
   - –†–µ–∞–ª–∏–∑—É–µ–º–æ –±—ã—Å—Ç—Ä–æ
   - –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö –º–æ–Ω–µ—Ç

### **–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (—Ç—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ —Ä–∞–±–æ—Ç—ã):**

4. **H1.3: –ü—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏** ‚≠ê‚≠ê
   - –¢—Ä–µ–±—É–µ—Ç —Ä–∞—Å—á–µ—Ç–∞ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
   - –°—Ä–µ–¥–Ω–∏–π —ç—Ñ—Ñ–µ–∫—Ç

5. **H3.1: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è** ‚≠ê‚≠ê
   - –û—Å–Ω–æ–≤–∞ –¥–ª—è –±—É–¥—É—â–∏—Ö —É–ª—É—á—à–µ–Ω–∏–π
   - –¢—Ä–µ–±—É–µ—Ç –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

6. **H2.2: –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è —á–µ—Ä–µ–∑ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫—É TP/SL** ‚≠ê‚≠ê
   - –¢—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏ TP/SL
   - –°—Ä–µ–¥–Ω–∏–π —ç—Ñ—Ñ–µ–∫—Ç

### **–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è):**

7. **H3.2: ML-–º–æ–¥–µ–ª—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è** ‚≠ê
   - –¢—Ä–µ–±—É–µ—Ç –º–Ω–æ–≥–æ –¥–∞–Ω–Ω—ã—Ö
   - –°–ª–æ–∂–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
   - –í—ã—Å–æ–∫–∏–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –≤ –±—É–¥—É—â–µ–º

8. **H4.2: TWAP –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ—Ä–¥–µ—Ä–æ–≤** ‚≠ê
   - –¢—Ä–µ–±—É–µ—Ç —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏
   - –ü—Ä–∏–º–µ–Ω–∏–º–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ—Ä–¥–µ—Ä–æ–≤

## üéØ –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### **–≠–¢–ê–ü 1: –ë–∞–∑–æ–≤–∞—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è (1-2 –¥–Ω—è)**

1. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å H1.1: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏
2. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å H2.1: –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è —á–µ—Ä–µ–∑ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫—É —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏
3. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ–≥–æ –≤–ª–∏—è–Ω–∏—è –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è –Ω–∞ 30-40%
- –ë–æ–ª–µ–µ —Ç–æ—á–Ω–æ–µ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±–µ–∫—Ç–µ—Å—Ç–∞—Ö

### **–≠–¢–ê–ü 2: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è (3-5 –¥–Ω–µ–π)**

1. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å H4.1: –í—ã–±–æ—Ä –º–µ–∂–¥—É market –∏ limit –æ—Ä–¥–µ—Ä–∞–º–∏
2. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å H1.3: –ü—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
3. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å H4.4: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –°–Ω–∏–∂–µ–Ω–∏–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è –Ω–∞ 50-70%
- –£–ª—É—á—à–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–π —Ü–µ–Ω—ã –≤—Ö–æ–¥–∞ –Ω–∞ 0.1-0.3%

### **–≠–¢–ê–ü 3: –ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ –æ–±—É—á–µ–Ω–∏–µ (1-2 –Ω–µ–¥–µ–ª–∏)**

1. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å H3.1: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è
2. ‚úÖ –°–æ–±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∑–∞ 1-2 –Ω–µ–¥–µ–ª–∏
3. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å H3.3: –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –ø–æ—Ä–æ–≥–∏

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è ML
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –∫ —É—Å–ª–æ–≤–∏—è–º —Ä—ã–Ω–∫–∞

### **–≠–¢–ê–ü 4: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –º–µ—Ç–æ–¥—ã (2-4 –Ω–µ–¥–µ–ª–∏)**

1. ‚è≥ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å H3.2: ML-–º–æ–¥–µ–ª—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è
2. ‚è≥ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å H4.2: TWAP –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ—Ä–¥–µ—Ä–æ–≤
3. ‚è≥ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å H4.3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ order book

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö —É—Å–ª–æ–≤–∏–π
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ

## üìà –ú–ï–¢–†–ò–ö–ò –î–õ–Ø –û–¶–ï–ù–ö–ò

### **–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏:**
- –°—Ä–µ–¥–Ω–µ–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ (–¥–æ/–ø–æ—Å–ª–µ)
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ
- –ü—Ä–æ—Ü–µ–Ω—Ç —Å–¥–µ–ª–æ–∫ —Å –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ–º >0.2%
- –í–ª–∏—è–Ω–∏–µ –Ω–∞ –æ–±—â–∏–π PnL
- –¢–æ—á–Ω–æ—Å—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è (–¥–ª—è ML)

### **–¶–µ–ª–µ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:**
- –°—Ä–µ–¥–Ω–µ–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ: <0.1% (—Å–µ–π—á–∞—Å ~0.1-0.15%)
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ: <0.5% (—Å–µ–π—á–∞—Å –º–æ–∂–µ—Ç –±—ã—Ç—å >1%)
- –ü—Ä–æ—Ü–µ–Ω—Ç –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö —Å–¥–µ–ª–æ–∫: <5% (—Å–µ–π—á–∞—Å ~10-15%)

## üöÄ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ö–û–ú–ê–ù–î–´

### **–ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:**
1. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ (H1.1)
2. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—é —á–µ—Ä–µ–∑ —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ (H2.1)
3. ‚úÖ –ù–∞—á–∞—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è

### **–°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:**
1. ‚è≥ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è (H4.1, H4.4)
2. ‚è≥ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è (H3.1)
3. ‚è≥ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –ø–æ—Ä–æ–≥–∏ (H3.3)

### **–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —Ü–µ–ª–∏:**
1. üìä ML-–º–æ–¥–µ–ª—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è (H3.2)
2. üìä TWAP –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ—Ä–¥–µ—Ä–æ–≤ (H4.2)
3. üìä –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å order book (H4.3)

## ‚úÖ –°–¢–ê–¢–£–°

**–ê–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à–µ–Ω –∫–æ–º–∞–Ω–¥–æ–π:**
- ‚úÖ –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
- ‚úÖ –ü—Ä–æ–±–ª–µ–º—ã –≤—ã—è–≤–ª–µ–Ω—ã
- ‚úÖ –ì–∏–ø–æ—Ç–µ–∑—ã —Å—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã
- ‚úÖ –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≥–æ—Ç–æ–≤

**–ì–æ—Ç–æ–≤–æ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏!** üöÄ

