# üöÄ –ü–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è –∞–≥–µ–Ω—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ Day_1_v4

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-11-13  
**–°—Ç–∞—Ç—É—Å:** üü° –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ  
**–û—Å–Ω–æ–≤–∞:** –î–æ–∫—É–º–µ–Ω—Ç `Day_1_v4 ru (1).pdf`

---

## üìã –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

### ‚úÖ –ß—Ç–æ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

1. **Think/Act/Observe —Ü–∏–∫–ª**
   - ‚úÖ –ï–¥–∏–Ω—ã–π —Ç—Ä–µ–π—Å-–ª–æ–≥ `logs/agent_traces.log`
   - ‚úÖ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã: `signal_live`, `auto_execution`, `risk_monitor`
   - ‚úÖ –ú–æ–¥—É–ª—å `observability.tracing`

2. **Guidance System (Lessons Learned)**
   - ‚úÖ `configs/guidance/<agent>.json` - —Ö—Ä–∞–Ω–µ–Ω–∏–µ —É—Ä–æ–∫–æ–≤
   - ‚úÖ `configs/prompts/<agent>.yaml` - —ç–∫—Å–ø–æ—Ä—Ç –≤ YAML
   - ‚úÖ `docs/guidance/<agent>.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
   - ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `scripts/process_feedback.py`

3. **LM-Judge**
   - ‚úÖ Rule-based judge –≤ `observability/lm_judge.py`
   - ‚úÖ –í–µ—Ä–¥–∏–∫—Ç—ã –¥–ª—è —Å–∏–≥–Ω–∞–ª–æ–≤, –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è, –∑–∞—â–∏—Ç—ã
   - ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ Telegram —Å–æ–æ–±—â–µ–Ω–∏—è

4. **Agent Identity**
   - ‚úÖ `configs/agent_identity.json` - –º–∞—Ç—Ä–∏—Ü–∞ –ø—Ä–∞–≤
   - ‚úÖ `observability.agent_identity` - –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞
   - ‚úÖ `docs/agent_identity_matrix.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

5. **Agent Gym**
   - ‚úÖ –°–∏–º—É–ª—è—Ü–∏–∏ –≤ `agent_gym/scenarios.py`
   - ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ JSON
   - ‚úÖ Nightly runs —Å baseline —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ–º

6. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Å–¥–µ–ª–æ–∫**
   - ‚úÖ `observability.auto_analyzer` - –∞–Ω–∞–ª–∏–∑ –∑–∞–∫—Ä—ã—Ç—ã—Ö —Å–¥–µ–ª–æ–∫
   - ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è lessons –∏–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ —É—Å–ø–µ—Ö–∞/–Ω–µ—É–¥–∞—á–∏

---

## üéØ –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å (–∏–∑ Day_1_v4)

### 1. –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–º–ø—Ç–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–æ–º–ø—Ç—ã —Ä–∞–∑–±—Ä–æ—Å–∞–Ω—ã –ø–æ –∫–æ–¥—É, —Å–ª–æ–∂–Ω–æ –∞—É–¥–∏—Ä–æ–≤–∞—Ç—å –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å.

**–†–µ—à–µ–Ω–∏–µ:**
- [ ] –°–æ–∑–¥–∞—Ç—å `configs/agents/<agent>.yaml` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–≥–µ–Ω—Ç–∞
- [ ] –í—ã–Ω–µ—Å—Ç–∏ –≤—Å–µ –ø—Ä–æ–º–ø—Ç—ã –∏–∑ –∫–æ–¥–∞ –≤ YAML —Ñ–∞–π–ª—ã
- [ ] –°–æ–∑–¥–∞—Ç—å `observability/prompt_manager.py` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–º–ø—Ç–æ–≤
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –ø—Ä–æ–º–ø—Ç–æ–≤ –≤ –∞–≥–µ–Ω—Ç—ã

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ YAML:**
```yaml
agent: signal_live
version: 1.0
description: "–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤"

system_prompt: |
  –¢—ã - —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–æ–π —Ç–æ—Ä–≥–æ–≤–ª–µ –Ω–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω–æ–º —Ä—ã–Ω–∫–µ.
  –¢–≤–æ—è –∑–∞–¥–∞—á–∞ - –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä—ã–Ω–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–æ—á–Ω—ã–µ —Ç–æ—Ä–≥–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã.

instructions:
  - "–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã: RSI, MACD, EMA, Bollinger Bands"
  - "–ü—Ä–æ–≤–µ—Ä—è–π BTC —Ç—Ä–µ–Ω–¥ –ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π —Å–∏–≥–Ω–∞–ª–∞"
  - "–ò—Å–ø–æ–ª—å–∑—É–π AI –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ TP/SL"

context_sources:
  - "trading.db:signals_log"
  - "trading.db:accepted_signals"
  - "ai_learning_data:trading_patterns.json"

tools:
  - "data_sources_manager"
  - "ai_integration"
  - "correlation_manager"

examples:
  - input: "RSI=45, MACD=–±—ã—á–∏–π, BTC=–±—ã—á–∏–π"
    output: "LONG —Å–∏–≥–Ω–∞–ª —Å confidence=75%"
```

**–§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è:**
- `configs/agents/signal_live.yaml`
- `configs/agents/auto_execution.yaml`
- `configs/agents/risk_monitor.yaml`
- `observability/prompt_manager.py`

---

### 2. Context Engineering (—É–ª—É—á—à–µ–Ω–∏–µ) ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**

**–ü—Ä–æ–±–ª–µ–º–∞:** –ê–≥–µ–Ω—Ç—ã –Ω–µ –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç.

**–†–µ—à–µ–Ω–∏–µ:**
- [x] –°–æ–∑–¥–∞—Ç—å `observability/context_engine.py` ‚úÖ
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —É–º–Ω—ã–π –≤—ã–±–æ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ:
  - –¢–µ–∫—É—â–µ–π –º–∏—Å—Å–∏–∏ –∞–≥–µ–Ω—Ç–∞ ‚úÖ
  - –ò—Å—Ç–æ—Ä–∏–∏ –¥–µ–π—Å—Ç–≤–∏–π ‚úÖ
  - –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö ‚úÖ
- [x] –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ ‚úÖ
- [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∞–≥–µ–Ω—Ç—ã ‚úÖ

**–§—É–Ω–∫—Ü–∏–∏:**
```python
class ContextEngine:
    def select_context(self, agent: str, mission: str, history: List[Trace]) -> Dict:
        """–í—ã–±–∏—Ä–∞–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –∞–≥–µ–Ω—Ç–∞"""
        
    def enrich_context(self, base_context: Dict, additional_sources: List[str]) -> Dict:
        """–û–±–æ–≥–∞—â–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏"""
        
    def cache_context(self, key: str, context: Dict, ttl: int = 3600):
        """–ö—ç—à–∏—Ä—É–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è"""
```

---

### 3. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ Agent Ops ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–µ—Ç—Ä–∏–∫ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –¥–ª—è –∞–≥–µ–Ω—Ç–æ–≤.

**–†–µ—à–µ–Ω–∏–µ:**
- [x] –°–æ–∑–¥–∞—Ç—å Prometheus –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–≥–µ–Ω—Ç–∞ ‚úÖ
  - `agent_missions_total` - –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∏—Å—Å–∏–π ‚úÖ
  - `agent_missions_success_total` - —É—Å–ø–µ—à–Ω—ã–µ –º–∏—Å—Å–∏–∏ ‚úÖ
  - `agent_missions_failed_total` - –Ω–µ—É–¥–∞—á–Ω—ã–µ –º–∏—Å—Å–∏–∏ ‚úÖ
  - `agent_think_duration_seconds` - –≤—Ä–µ–º—è –Ω–∞ —ç—Ç–∞–ø Think ‚úÖ
  - `agent_act_duration_seconds` - –≤—Ä–µ–º—è –Ω–∞ —ç—Ç–∞–ø Act ‚úÖ
  - `agent_observe_duration_seconds` - –≤—Ä–µ–º—è –Ω–∞ —ç—Ç–∞–ø Observe ‚úÖ
  - `agent_mission_duration_seconds` - –æ–±—â–µ–µ –≤—Ä–µ–º—è –º–∏—Å—Å–∏–∏ ‚úÖ
  - `agent_guidance_applied` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–Ω—ã—Ö —É—Ä–æ–∫–æ–≤ ‚úÖ
  - `agent_prompt_loaded_total` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≥—Ä—É–∑–æ–∫ –ø—Ä–æ–º–ø—Ç–æ–≤ ‚úÖ
  - `agent_context_selected_total` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–±–æ—Ä–æ–≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ ‚úÖ
- [ ] –°–æ–∑–¥–∞—Ç—å Grafana –¥–∞—à–±–æ—Ä–¥ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ (—Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∞–ª–µ—Ä—Ç—ã –Ω–∞ –∞–Ω–æ–º–∞–ª–∏–∏ –≤ –ø–æ–≤–µ–¥–µ–Ω–∏–∏ –∞–≥–µ–Ω—Ç–æ–≤ (—Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥)
- [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ `risk_monitor` ‚úÖ

**–ú–µ—Ç—Ä–∏–∫–∏:**
```python
# observability/metrics.py
from prometheus_client import Counter, Histogram, Gauge

agent_missions_total = Counter(
    'agent_missions_total',
    'Total number of agent missions',
    ['agent', 'mission', 'status']
)

agent_step_duration = Histogram(
    'agent_step_duration_seconds',
    'Duration of agent steps',
    ['agent', 'step']
)

agent_guidance_applied = Gauge(
    'agent_guidance_applied',
    'Number of guidance lessons applied',
    ['agent', 'issue']
)
```

---

### 4. –£–ª—É—á—à–µ–Ω–∏–µ HITL (Human-in-the-Loop) ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**

**–ü—Ä–æ–±–ª–µ–º–∞:** HITL feedback —É–±—Ä–∞–Ω –∏–∑ Telegram, –Ω–æ –Ω—É–∂–µ–Ω –¥–ª—è –æ–±—É—á–µ–Ω–∏—è.

**–†–µ—à–µ–Ω–∏–µ:**
- [x] –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä feedback —á–µ—Ä–µ–∑ –∞–Ω–∞–ª–∏–∑ —Å–¥–µ–ª–æ–∫ ‚úÖ
- [x] –î–æ–±–∞–≤–∏—Ç—å –Ω–µ—è–≤–Ω—ã–π feedback (—á–µ—Ä–µ–∑ –∞–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤) ‚úÖ
  - –ï—Å–ª–∏ —Å–¥–µ–ª–∫–∞ –ø—Ä–∏–±—ã–ª—å–Ω–∞—è ‚Üí –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–π feedback ‚úÖ
  - –ï—Å–ª–∏ —Å–¥–µ–ª–∫–∞ —É–±—ã—Ç–æ—á–Ω–∞—è ‚Üí –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–π feedback ‚úÖ
- [x] –°–æ–∑–¥–∞—Ç—å `observability/implicit_feedback.py` ‚úÖ
- [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ `FeedbackAggregator` –∏ `process_feedback.py` ‚úÖ

**–õ–æ–≥–∏–∫–∞:**
```python
class ImplicitFeedbackCollector:
    def collect_from_trade(self, trade: TradeResult) -> Feedback:
        """–°–æ–±–∏—Ä–∞–µ—Ç –Ω–µ—è–≤–Ω—ã–π feedback –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Å–¥–µ–ª–∫–∏"""
        if trade.pnl > 0:
            return Feedback(
                type="positive",
                signal_key=trade.signal_key,
                reason="profitable_trade"
            )
        else:
            return Feedback(
                type="negative",
                signal_key=trade.signal_key,
                reason="unprofitable_trade"
            )
```

---

### 5. –ú–Ω–æ–≥–æ–∞–≥–µ–Ω—Ç–Ω–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è (L3-L4) ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**

**–ü—Ä–æ–±–ª–µ–º–∞:** –ê–≥–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ, –Ω–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏.

**–†–µ—à–µ–Ω–∏–µ:**
- [x] –°–æ–∑–¥–∞—Ç—å `observability/agent_coordinator.py` ‚úÖ
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±–º–µ–Ω –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –º–µ–∂–¥—É –∞–≥–µ–Ω—Ç–∞–º–∏ ‚úÖ
  - `signal_live` ‚Üí `auto_execution` (—Å–∏–≥–Ω–∞–ª—ã) ‚úÖ
  - `auto_execution` ‚Üí `risk_monitor` (—Å—Ç–∞—Ç—É—Å –ø–æ–∑–∏—Ü–∏–π) ‚úÖ
  - `risk_monitor` ‚Üí `signal_live` (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏) ‚úÖ
- [x] –î–æ–±–∞–≤–∏—Ç—å shared memory –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏ ‚úÖ
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å event-driven –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É ‚úÖ

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```python
class AgentCoordinator:
    def __init__(self):
        self.shared_memory = SharedMemory()
        self.event_bus = EventBus()
        
    def register_agent(self, agent: str, capabilities: List[str]):
        """–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –∞–≥–µ–Ω—Ç–∞ –∏ –µ–≥–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏"""
        
    def coordinate(self, event: Event) -> List[Action]:
        """–ö–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è –∞–≥–µ–Ω—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–æ–±—ã—Ç–∏—è"""
```

---

### 6. Self-Evolving System (L4) ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**

**–ü—Ä–æ–±–ª–µ–º–∞:** –°–∏—Å—Ç–µ–º–∞ –Ω–µ –º–æ–∂–µ—Ç —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —ç–≤–æ–ª—é—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å.

**–†–µ—à–µ–Ω–∏–µ:**
- [x] –°–æ–∑–¥–∞—Ç—å `observability/evolution_engine.py` ‚úÖ
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤ ‚úÖ
  - –ê–Ω–∞–ª–∏–∑ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ç–µ–∫—É—â–∏—Ö –ø—Ä–æ–º–ø—Ç–æ–≤ ‚úÖ
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —É–ª—É—á—à–µ–Ω–∏–π ‚úÖ
  - –û—Ü–µ–Ω–∫–∞ –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ ‚úÖ
  - –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ª—É—á—à–∏—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ ‚úÖ
- [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å Guidance System ‚úÖ
- [ ] A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤ (–≥–æ—Ç–æ–≤–æ –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é)

**–ü—Ä–æ—Ü–µ—Å—Å:**
```python
class EvolutionEngine:
    def evolve_prompt(self, agent: str, current_prompt: str) -> str:
        """–≠–≤–æ–ª—é—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç –ø—Ä–æ–º–ø—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ lessons learned"""
        lessons = get_guidance(agent)
        improved = self.generate_variants(current_prompt, lessons)
        best = self.test_variants(improved)
        return best
```

---

## üìÖ –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –§–∞–∑–∞ 1: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ (1-2 –¥–Ω—è)
1. –°–æ–∑–¥–∞—Ç—å `configs/agents/` —Å—Ç—Ä—É–∫—Ç—É—Ä—É
2. –í—ã–Ω–µ—Å—Ç–∏ –ø—Ä–æ–º–ø—Ç—ã –∏–∑ –∫–æ–¥–∞ –≤ YAML
3. –°–æ–∑–¥–∞—Ç—å `prompt_manager.py`
4. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ –∞–≥–µ–Ω—Ç—ã

### –§–∞–∑–∞ 2: Context Engineering (2-3 –¥–Ω—è)
1. –°–æ–∑–¥–∞—Ç—å `context_engine.py`
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —É–º–Ω—ã–π –≤—ã–±–æ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
3. –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
4. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ –∞–≥–µ–Ω—Ç—ã

### –§–∞–∑–∞ 3: Agent Ops —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ (2-3 –¥–Ω—è)
1. –°–æ–∑–¥–∞—Ç—å Prometheus –º–µ—Ç—Ä–∏–∫–∏
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Grafana –¥–∞—à–±–æ—Ä–¥
3. –î–æ–±–∞–≤–∏—Ç—å –∞–ª–µ—Ä—Ç—ã
4. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –§–∞–∑–∞ 4: HITL —É–ª—É—á—à–µ–Ω–∏–µ (1-2 –¥–Ω—è)
1. –°–æ–∑–¥–∞—Ç—å `implicit_feedback.py`
2. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ `auto_analyzer.py`
3. –û–±–Ω–æ–≤–∏—Ç—å `feedback.py` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–µ—è–≤–Ω–æ–≥–æ feedback

### –§–∞–∑–∞ 5: –ú–Ω–æ–≥–æ–∞–≥–µ–Ω—Ç–Ω–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è (3-4 –¥–Ω—è)
1. –°–æ–∑–¥–∞—Ç—å `agent_coordinator.py`
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å shared memory
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å event bus
4. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—é

### –§–∞–∑–∞ 6: Self-Evolving System (4-5 –¥–Ω–µ–π)
1. –°–æ–∑–¥–∞—Ç—å `evolution_engine.py`
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –ø—Ä–æ–º–ø—Ç–æ–≤
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
4. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å Guidance System

---

## üéØ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

### –§–∞–∑–∞ 1:
- ‚úÖ –í—Å–µ –ø—Ä–æ–º–ø—Ç—ã –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ YAML
- ‚úÖ –ê–≥–µ–Ω—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç –ø—Ä–æ–º–ø—Ç—ã —á–µ—Ä–µ–∑ `prompt_manager`
- ‚úÖ –ù–µ—Ç hardcoded –ø—Ä–æ–º–ø—Ç–æ–≤ –≤ –∫–æ–¥–µ

### –§–∞–∑–∞ 2:
- ‚úÖ –ê–≥–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ —Ä–µ—à–µ–Ω–∏–π –Ω–∞ 10%+

### –§–∞–∑–∞ 3:
- ‚úÖ –í—Å–µ –º–µ—Ç—Ä–∏–∫–∏ –≤ Prometheus
- ‚úÖ –î–∞—à–±–æ—Ä–¥ –≤ Grafana
- ‚úÖ –ê–ª–µ—Ä—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç

### –§–∞–∑–∞ 4:
- ‚úÖ –ù–µ—è–≤–Ω—ã–π feedback —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ Lessons –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∏–∑ feedback
- ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ accuracy –Ω–∞ 5%+

### –§–∞–∑–∞ 5:
- ‚úÖ –ê–≥–µ–Ω—Ç—ã –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É—é—Ç—Å—è
- ‚úÖ Shared memory —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Event bus —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç

### –§–∞–∑–∞ 6:
- ‚úÖ –ü—Ä–æ–º–ø—Ç—ã —ç–≤–æ–ª—é—Ü–∏–æ–Ω–∏—Ä—É—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞ 15%+

---

## üìö –°—Å—ã–ª–∫–∏

- [Day_1_v4 ru (1).pdf](../docs/Day_1_v4%20ru%20(1).pdf) - –∏—Å—Ö–æ–¥–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç
- [agents_inventory.md](./agents_inventory.md) - —Ç–µ–∫—É—â–∏–π —Ä–µ–µ—Å—Ç—Ä –∞–≥–µ–Ω—Ç–æ–≤
- [agent_identity_matrix.md](./agent_identity_matrix.md) - –º–∞—Ç—Ä–∏—Ü–∞ –ø—Ä–∞–≤
- [AGENT_GYM_GUIDE.md](./AGENT_GYM_GUIDE.md) - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–∏–º—É–ª—è—Ü–∏—è–º

---

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ù–∞—á–∞—Ç—å —Å –§–∞–∑—ã 1 - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤.

