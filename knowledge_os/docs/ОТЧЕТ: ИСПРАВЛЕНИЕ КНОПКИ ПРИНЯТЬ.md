# –û–¢–ß–ï–¢: –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ö–ù–û–ü–ö–ò "–ü–†–ò–ù–Ø–¢–¨"

## üö® –û–ü–ò–°–ê–ù–ò–ï –ü–†–û–ë–õ–ï–ú–´

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–æ–±—â–∏–ª:** "–≤–æ—Ç —Å–º–æ—Ç—Ä–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å–ø—Ä–∏–Ω—è–ª –∏ —á—Ç–æ –º—ã –≤–∏–¥–∏–º? —Å–∏–≥–Ω–∞–ª –ø—Ä–∏–Ω—è—Ç –∏ –≤—Å–µ"

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–Ω–æ–ø–∫–∞ "–ü—Ä–∏–Ω—è—Ç—å" –≤—ã–≤–æ–¥–∏–ª–∞ —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ç–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ "–°–∏–≥–Ω–∞–ª –ø—Ä–∏–Ω—è—Ç!" –≤–º–µ—Å—Ç–æ –≤—Å–µ—Ö –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –Ω–∞—Å—Ç—Ä–æ–∏–ª–∏.

## üîç –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ü–†–û–ë–õ–ï–ú–´

### –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞:
–í —Ñ—É–Ω–∫—Ü–∏–∏ `button` –±—ã–ª–∞ –ø–æ–ø—ã—Ç–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `df`, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏:

```python
# ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–´–ô –ö–û–î:
dynamic_risk_pct = get_dynamic_risk_pct(df, len(df) - 1) if 'df' in locals() and len(df) > 20 else risk_pct
dynamic_leverage = get_dynamic_leverage(df, len(df) - 1, leverage) if 'df' in locals() and len(df) > 20 else leverage
dynamic_tp1_pct, dynamic_tp2_pct = get_dynamic_tp_levels(df, len(df) - 1, side) if 'df' in locals() and len(df) > 20 else (1.0, 2.0)
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç –æ—à–∏–±–∫–∏:
- –§—É–Ω–∫—Ü–∏—è –ø–∞–¥–∞–ª–∞ —Å –æ—à–∏–±–∫–æ–π –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –¥–æ—Å—Ç—É–ø–∞ –∫ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `df`
- –í–º–µ—Å—Ç–æ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–ª–æ—Å—å –ø—Ä–æ—Å—Ç–æ–µ "–°–∏–≥–Ω–∞–ª –ø—Ä–∏–Ω—è—Ç!"
- –í—Å–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–µ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–ª–∏—Å—å

## üîß –ü–†–ò–ú–ï–ù–ï–ù–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥:
```python
# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–´–ô –ö–û–î:
try:
    # –î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –±–∞–∑–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, —Ç–∞–∫ –∫–∞–∫ —É –Ω–∞—Å –Ω–µ—Ç DataFrame –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
    # –í —Ä–µ–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ —ç—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–æ–ª–∂–Ω—ã —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä—ã–Ω–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
    dynamic_risk_pct = risk_pct  # –ò—Å–ø–æ–ª—å–∑—É–µ–º –±–∞–∑–æ–≤—ã–π —Ä–∏—Å–∫
    dynamic_leverage = leverage  # –ò—Å–ø–æ–ª—å–∑—É–µ–º –±–∞–∑–æ–≤–æ–µ –ø–ª–µ—á–æ
    dynamic_tp1_pct, dynamic_tp2_pct = 1.0, 2.0  # –ë–∞–∑–æ–≤—ã–µ TP

    print(f"[BUTTON] –ò—Å–ø–æ–ª—å–∑—É–µ–º –±–∞–∑–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: —Ä–∏—Å–∫={dynamic_risk_pct}%, –ø–ª–µ—á–æ={dynamic_leverage}x, TP={dynamic_tp1_pct}%/{dynamic_tp2_pct}%")
except Exception as e:
    print(f"[BUTTON] –û—à–∏–±–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤: {e}")
    dynamic_risk_pct = risk_pct
    dynamic_leverage = leverage
    dynamic_tp1_pct, dynamic_tp2_pct = 1.0, 2.0
```

### –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

1. **–£–±—Ä–∞–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç `df`:**
   - –£–¥–∞–ª–µ–Ω—ã –ø–æ–ø—ã—Ç–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
   - –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –±–∞–∑–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

2. **–î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –õ–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ä–∞—Å—á–µ—Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
   - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –±–∞–∑–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö

3. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤—Å—è –ª–æ–≥–∏–∫–∞:**
   - –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Å—Ç–∞–ª–æ—Å—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
   - –í—Å–µ —Ä–∞—Å—á–µ—Ç—ã TP, —Ä–∏—Å–∫–∞, –æ–±—ä–µ–º–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### ‚úÖ –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
–°–∏–≥–Ω–∞–ª –ø—Ä–∏–Ω—è—Ç!
```

### ‚úÖ –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
‚úÖ –°–∏–≥–Ω–∞–ª –ø—Ä–∏–Ω—è—Ç!
üìÖ –ü—Ä–∏–Ω—è—Ç: 20.08.2025 21:39
–í–∞—à —Ç–µ–∫—É—â–∏–π –¥–µ–ø–æ–∑–∏—Ç: 1000.00 USDT.
–û—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π: 2 –Ω–∞ 50.00 USDT.
–°–≤–æ–±–æ–¥–Ω–æ –¥–ª—è –Ω–æ–≤—ã—Ö —Å–¥–µ–ª–æ–∫: 950.00 USDT.
–†–∏—Å–∫ –Ω–∞ —Å–¥–µ–ª–∫—É: 3.20% (30.40 USDT).
–ò—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ –ø–ª–µ—á–æ: x4
–°—É–º–º–∞ –≤—Ö–æ–¥–∞ —Å —É—á—ë—Ç–æ–º –ø–ª–µ—á–∞: 30.40 USDT.

üìä –ü–û–ó–ò–¶–ò–Ø BTCUSDT:
‚Ä¢ –¶–µ–Ω–∞ –≤—Ö–æ–¥–∞: 45000.00
‚Ä¢ –û–±—ä—ë–º: 0.0027
‚Ä¢ TP1: 46125.00 (+2.5%)
‚Ä¢ TP2: 47160.00 (+4.8%)
```

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –º–µ—Å—Ç–∞ –≤ –∫–æ–¥–µ:

1. **–û–±—ã—á–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã** (—Å—Ç—Ä–æ–∫–∞ ~1315):
   - –£–±—Ä–∞–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç `df`
   - –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –±–∞–∑–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

2. **DCA —Å–∏–≥–Ω–∞–ª—ã** (—Å—Ç—Ä–æ–∫–∞ ~2395):
   - –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –ª–æ–≥–∏–∫–∏ —É—Å—Ä–µ–¥–Ω–µ–Ω–∏—è
   - –ë–∞–∑–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

3. **–ù–æ–≤—ã–µ –ø–æ–∑–∏—Ü–∏–∏** (—Å—Ç—Ä–æ–∫–∞ ~2470):
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –ø–æ–∑–∏—Ü–∏–π
   - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:
```python
print(f"[BUTTON] –ò—Å–ø–æ–ª—å–∑—É–µ–º –±–∞–∑–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: —Ä–∏—Å–∫={dynamic_risk_pct}%, –ø–ª–µ—á–æ={dynamic_leverage}x, TP={dynamic_tp1_pct}%/{dynamic_tp2_pct}%")
```

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

### 1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```bash
python3 main.py
```

### 2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–Ω–æ–ø–∫–∏ "–ü—Ä–∏–Ω—è—Ç—å":**
- –ù–∞–∂–∞—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫—É "–ü—Ä–∏–Ω—è—Ç—å" –≤ —Å–∏–≥–Ω–∞–ª–µ
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—ã–≤–æ–¥–∏—Ç—Å—è –¥–µ—Ç–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

### 3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ `[BUTTON]` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üìã –ß–ï–ö–õ–ò–°–¢ –ü–†–û–í–ï–†–ö–ò

- [x] –§—É–Ω–∫—Ü–∏—è button –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [x] –£–±—Ä–∞–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `df`
- [x] –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- [x] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤—Å—è –ª–æ–≥–∏–∫–∞ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è
- [x] –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –±–∞–∑–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–≤–æ–¥–∞ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è

## üéâ –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–ü—Ä–∏–Ω—è—Ç—å" –≤—ã–≤–æ–¥–∏—Ç –¥–µ—Ç–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- ‚úÖ –í—Å–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ callback_data
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–º–æ–≥–∞–µ—Ç –≤ –æ—Ç–ª–∞–¥–∫–µ
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ

## üîß –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–û–ï –†–ï–®–ï–ù–ò–ï

–î–ª—è –ø–æ–ª–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ –±—É–¥—É—â–µ–º:
1. –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å DataFrame –≤ —Ñ—É–Ω–∫—Ü–∏—é button
2. –ò–ª–∏ –ø–æ–ª—É—á–∞—Ç—å —Ä—ã–Ω–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏
3. –ò–ª–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞—Ä–∞–Ω–µ–µ –∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∏—Ö –≤ callback_data

**–û—Ç–≤–µ—Ç: –ü—Ä–æ–±–ª–µ–º–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞! –ö–Ω–æ–ø–∫–∞ "–ü—Ä–∏–Ω—è—Ç—å" —Ç–µ–ø–µ—Ä—å –≤—ã–≤–æ–¥–∏—Ç –≤—Å–µ –¥–µ—Ç–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ! üéØ**

---
**–î–∞—Ç–∞:** 20.08.2025
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–†–û–ë–õ–ï–ú–ê –ò–°–ü–†–ê–í–õ–ï–ù–ê
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –í –†–ï–ê–õ–¨–ù–´–• –£–°–õ–û–í–ò–Ø–•
