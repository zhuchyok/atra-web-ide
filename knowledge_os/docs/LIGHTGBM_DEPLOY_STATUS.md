# üìä –°–¢–ê–¢–£–° –î–ï–ü–õ–û–Ø LIGHTGBM

## ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û –õ–û–ö–ê–õ–¨–ù–û

### 1. –°–æ–∑–¥–∞–Ω—ã —Ñ–∞–π–ª—ã:
- ‚úÖ `lightgbm_predictor.py` - –æ—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å LightGBM
- ‚úÖ `lightgbm_auto_retrain.py` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ
- ‚úÖ `train_lightgbm_models.py` - —Å–∫—Ä–∏–ø—Ç –æ–±—É—á–µ–Ω–∏—è
- ‚úÖ `deploy_lightgbm.sh` - —Å–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è

### 2. –ò–∑–º–µ–Ω–µ–Ω—ã —Ñ–∞–π–ª—ã:
- ‚úÖ `signal_live.py` - –¥–æ–±–∞–≤–ª–µ–Ω ML —Ñ–∏–ª—å—Ç—Ä (—Å—Ç—Ä–æ–∫–∏ 1289-1303, 4479-4624, 2519-2550)
- ‚úÖ `main.py` - –¥–æ–±–∞–≤–ª–µ–Ω –∑–∞–ø—É—Å–∫ –∞–≤—Ç–æ-–ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è (—Å—Ç—Ä–æ–∫–∏ 1929-1937)

### 3. –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- ‚úÖ `docs/ML_LIGHTGBM_IMPLEMENTATION_PLAN.md`
- ‚úÖ `docs/ML_LIGHTGBM_STATUS_REPORT.md`
- ‚úÖ `docs/ML_LIGHTGBM_INTEGRATION_COMPLETE.md`
- ‚úÖ `docs/ML_AUTO_RETRAIN_GUIDE.md`
- ‚úÖ `docs/DEPLOY_LIGHTGBM_SERVER.md`

### 4. Git:
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –ª–æ–∫–∞–ª—å–Ω–æ
- ‚è≥ –û–∂–∏–¥–∞–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä (git push)

---

## üöÄ –ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨ –ù–ê –°–ï–†–í–ï–†–ï

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π

```bash
# –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ:
./deploy_lightgbm.sh
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:
1. –ü–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
2. –û–±–Ω–æ–≤–∏—Ç –∫–æ–¥ (git pull)
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (libomp, lightgbm)
4. –û–±—É—á–∏—Ç –º–æ–¥–µ–ª–∏
5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç —Å–∏—Å—Ç–µ–º—É

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π

```bash
# 1. –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@185.177.216.15

# 2. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥
cd /root/atra
git fetch origin
git checkout insight
git pull origin insight

# 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
apt-get update && apt-get install -y libomp-dev
python3 -m pip install lightgbm scikit-learn

# 4. –û–±—É—á–∏—Ç—å –º–æ–¥–µ–ª–∏
export LDFLAGS="-L/opt/homebrew/opt/libomp/lib" 2>/dev/null || true
export CPPFLAGS="-I/opt/homebrew/opt/libomp/include" 2>/dev/null || true
python3 train_lightgbm_models.py

# 5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏—Å—Ç–µ–º—É
pkill -f "python.*main.py"
nohup python3 main.py > main.log 2>&1 &
```

---

## ‚úÖ –ü–†–û–í–ï–†–ö–ê –ü–û–°–õ–ï –î–ï–ü–õ–û–Ø

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏:
```bash
tail -50 main.log | grep -i lightgbm
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
‚úÖ LightGBM –ø—Ä–µ–¥—Å–∫–∞–∑–∞—Ç–µ–ª—å –¥–æ—Å—Ç—É–ø–µ–Ω –∏ –º–æ–¥–µ–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ LightGBM –∑–∞–ø—É—â–µ–Ω–æ
```

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–¥–µ–ª–∏:
```bash
ls -lh ai_learning_data/lightgbm_models/
```

**–î–æ–ª–∂–Ω—ã –±—ã—Ç—å:**
- `classifier.txt`
- `regressor.txt`
- `metadata.json`

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É ML —Ñ–∏–ª—å—Ç—Ä–∞:
```bash
tail -100 main.log | grep "ML PREDICTION\|ML PASS\|ML BLOCK"
```

---

## üìã –¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–°

- ‚úÖ **–õ–æ–∫–∞–ª—å–Ω–æ**: –í—Å–µ –≥–æ—Ç–æ–≤–æ, –∑–∞–∫–æ–º–º–∏—á–µ–Ω–æ
- ‚è≥ **Git**: –û–∂–∏–¥–∞–µ—Ç push (–≤–æ–∑–º–æ–∂–Ω–æ –Ω—É–∂–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
- ‚è≥ **–°–µ—Ä–≤–µ—Ä**: –û–∂–∏–¥–∞–µ—Ç –¥–µ–ø–ª–æ—è

---

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. **–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä:**
   ```bash
   git push origin insight
   ```
   (–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è - –≤–≤–µ—Å—Ç–∏ credentials)

2. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–ø–ª–æ–π:**
   ```bash
   ./deploy_lightgbm.sh
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É:**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –º–æ–¥–µ–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É ML —Ñ–∏–ª—å—Ç—Ä–∞

---

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ –≥–æ—Ç–æ–≤–æ, –æ–∂–∏–¥–∞–µ—Ç –¥–µ–ø–ª–æ—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä
**–î–∞—Ç–∞**: 2025-01-XX

