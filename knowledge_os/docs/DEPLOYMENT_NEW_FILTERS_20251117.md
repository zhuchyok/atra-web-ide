# –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤: Dominance Trend + Interest Zone

**–î–∞—Ç–∞ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è:** 2025-11-17  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–ù–ï–î–†–ï–ù–û –í –ü–†–û–î–ê–ö–®–ù

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—ç–∫—Ç–µ—Å—Ç–∞ MVP

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: Baseline vs –ù–æ–≤—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã (30 –¥–Ω–µ–π, TOP-10 SOL –ø–æ—Ä—Ç—Ñ–µ–ª—å)

| –ú–µ—Ç—Ä–∏–∫–∞ | Baseline | –° —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ | –ò–∑–º–µ–Ω–µ–Ω–∏–µ |
|---------|----------|-------------|-----------|
| **–í—Å–µ–≥–æ —Å–¥–µ–ª–æ–∫** | 54 | 52 | **-2 (-3.7%)** |
| **–û–±—â–∏–π PnL** | 333.89 USDT | 547.30 USDT | **+213.42 USDT (+64%)** ‚úÖ |
| **Win Rate** | 44.4% | 46.2% | **+1.7%** ‚úÖ |
| **Sharpe Ratio** | 3.84 | 3.99 | **+0.15** ‚úÖ |
| **Sortino Ratio** | 24.08 | 25.00 | **+0.92** ‚úÖ |
| **Max Drawdown** | 0.00% | 0.00% | 0% |

### –í—ã–≤–æ–¥—ã

‚úÖ **–ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ PnL: +64%** (+213.42 USDT)  
‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ Win Rate: +1.7%  
‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ —Ä–∏—Å–∫–∞ (Sharpe, Sortino)  
‚úÖ –§–∏–ª—å—Ç—Ä—ã —Å–Ω–∏–∂–∞—é—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–µ–ª–æ–∫ –Ω–∞ 3.7% (–æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤—ã–≤–∞—é—Ç —Å–ª–∞–±—ã–µ —Å–∏–≥–Ω–∞–ª—ã)

---

## üîß –í–Ω–µ–¥—Ä–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. DominanceTrendFilter (`src/filters/dominance_trend.py`)
- **–õ–æ–≥–∏–∫–∞:** –ë–ª–æ–∫–∏—Ä—É–µ—Ç LONG –∞–ª—å—Ç–æ–≤ –ø—Ä–∏ —Ä–æ—Å—Ç–µ BTC.D, —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ (–∞–ª—å—Ç—Å–µ–∑–æ–Ω)
- **–î–∞–Ω–Ω—ã–µ:** CoinGecko API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è BTC –¥–æ–º–∏–Ω–∞—Ü–∏–∏
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** TTL 1 —á–∞—Å

### 2. InterestZoneFilter (`src/filters/interest_zone.py`)
- **–õ–æ–≥–∏–∫–∞:** –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∑–æ–Ω—ã –∏–Ω—Ç–µ—Ä–µ—Å–∞ –ø–æ –∫–ª–∞—Å—Ç–µ—Ä–∞–º –æ–±—ä–µ–º–∞, —Ä–∞–∑—Ä–µ—à–∞–µ—Ç LONG –≤ –∑–æ–Ω–∞—Ö –ø–æ–¥–¥–µ—Ä–∂–∫–∏, SHORT –≤ –∑–æ–Ω–∞—Ö —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è
- **–î–∞–Ω–Ω—ã–µ:** OHLCV –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –æ–±—ä–µ–º–æ–≤

### 3. BTCDominanceAnalyzer (`src/market/dominance.py`)
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:** –ü–æ–ª—É—á–µ–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏–∑ –¥–æ–º–∏–Ω–∞—Ü–∏–∏ BTC
- **API:** CoinGecko
- **Graceful degradation:** –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API —Ñ–∏–ª—å—Ç—Ä—ã –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: –í–ö–õ–Æ–ß–ï–ù–û

```python
# config.py
USE_DOMINANCE_TREND_FILTER = True  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á–µ–Ω
USE_INTEREST_ZONE_FILTER = True    # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á–µ–Ω
```

### –û—Ç–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ environment variables

```bash
# –û—Ç–∫–ª—é—á–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä –¥–æ–º–∏–Ω–∞—Ü–∏–∏ BTC
export USE_DOMINANCE_TREND_FILTER=false

# –û—Ç–∫–ª—é—á–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä –∑–æ–Ω –∏–Ω—Ç–µ—Ä–µ—Å–∞
export USE_INTEREST_ZONE_FILTER=false

# –û—Ç–∫–ª—é—á–∏—Ç—å –æ–±–∞ —Ñ–∏–ª—å—Ç—Ä–∞
export USE_DOMINANCE_TREND_FILTER=false
export USE_INTEREST_ZONE_FILTER=false
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤

```python
# config.py
DOMINANCE_FILTER_CONFIG = {
    "block_long_on_rising": True,      # –ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å LONG –ø—Ä–∏ —Ä–æ—Å—Ç–µ BTC.D
    "block_short_on_falling": True,    # –ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å SHORT –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ BTC.D
    "dominance_threshold_pct": 1.0,    # –ü–æ—Ä–æ–≥ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–º–∏–Ω–∞—Ü–∏–∏ (%)
    "min_days_for_trend": 1,           # –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –¥–ª—è —Ç—Ä–µ–Ω–¥–∞
}

INTEREST_ZONE_FILTER_CONFIG = {
    "lookback_periods": 100,           # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤–µ—á–µ–π –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
    "min_volume_cluster": 1.5,         # –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ–±—ä–µ–º –∫–ª–∞—Å—Ç–µ—Ä–∞ (–∫—Ä–∞—Ç–Ω–æ—Å—Ç—å —Å—Ä–µ–¥–Ω–µ–≥–æ)
    "zone_width_pct": 0.5,             # –®–∏—Ä–∏–Ω–∞ –∑–æ–Ω—ã (% –æ—Ç —Ü–µ–Ω—ã)
    "min_zone_strength": 0.6,          # –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å–∏–ª–∞ –∑–æ–Ω—ã (0-1)
}
```

---

## üîç –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ signal_live.py

–§–∏–ª—å—Ç—Ä—ã –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤–æ –≤—Å–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∏–≥–Ω–∞–ª–æ–≤:
- LONG Classic
- LONG Alternative (–≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã)
- SHORT Classic
- SHORT Alternative (–≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã)

**–§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏:** `check_new_filters(symbol, signal_type, entry_price, df)`

**Graceful degradation:** –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö —Ñ–∏–ª—å—Ç—Ä—ã –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è, —Å–∏–≥–Ω–∞–ª –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è.

---

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ `pipeline_monitor`
- –ü—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ —Å–∏–≥–Ω–∞–ª–∞: `üö´ –ù–æ–≤—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∏ —Å–∏–≥–Ω–∞–ª: <reason>`
- –ü—Ä–∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–∏: `‚úÖ –ù–æ–≤—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã –ø—Ä–æ–π–¥–µ–Ω—ã (<reason>)`

### –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤
- Latency —Ñ–∏–ª—å—Ç—Ä–æ–≤
- –ß–∞—Å—Ç–æ—Ç–∞ –æ—à–∏–±–æ–∫ API (CoinGecko)
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ñ–∏–ª—å—Ç—Ä–æ–≤ (Win Rate, PnL)

---

## üìÅ –§–∞–π–ª—ã

- `src/market/dominance.py` - BTCDominanceAnalyzer
- `src/filters/dominance_trend.py` - DominanceTrendFilter
- `src/filters/interest_zone.py` - InterestZoneFilter
- `signal_live.py` - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤
- `config.py` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `scripts/backtest_mvp_new_filters.py` - –°–∫—Ä–∏–ø—Ç –±—ç–∫—Ç–µ—Å—Ç–∞
- `data/reports/mvp_backtest_new_filters_20251116_211141.json` - –û—Ç—á—ë—Ç –±—ç–∫—Ç–µ—Å—Ç–∞

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–§–∞–∑–∞ 2)

1. **FibonacciZoneFilter** - —É—Ä–æ–≤–Ω–∏ –§–∏–±–æ–Ω–∞—á—á–∏ –∫–∞–∫ —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞/–≤—ã—Ö–æ–¥–∞
2. **VolumeImbalanceFilter** - –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ä–∞–∑—Ä—ã–≤–æ–≤ –≤ –æ–±—ä–µ–º–µ
3. **Order Book –∞–Ω–∞–ª–∏–∑** - —Ç–æ—á–Ω—ã–µ –∑–æ–Ω—ã –∏–Ω—Ç–µ—Ä–µ—Å–∞ –∏–∑ order book
4. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ TP/SL** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∑–æ–Ω –¥–ª—è –∞–¥–∞–ø—Ç–∏–≤–Ω—ã—Ö —É—Ä–æ–≤–Ω–µ–π

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –§–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –∏ –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Å–∏–≥–Ω–∞–ª–æ–≤
- –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ CoinGecko API —Ñ–∏–ª—å—Ç—Ä—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è
- –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —á–µ—Ä–µ–∑ `config.py` –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è hot-reload)

