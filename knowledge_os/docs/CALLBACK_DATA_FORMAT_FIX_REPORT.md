# üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –§–û–†–ú–ê–¢–ê CALLBACK_DATA - –û–¢–ß–ï–¢

## üéØ **–ü–†–û–ë–õ–ï–ú–ê**

–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ "–ü—Ä–∏–Ω—è—Ç—å" –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ. –ü–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–¥–∞ –±—ã–ª–∞ –Ω–∞–π–¥–µ–Ω–∞ –æ—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç callback_data.

## üîç **–ê–ù–ê–õ–ò–ó –ü–†–ò–ß–ò–ù–´**

### **1. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç callback_data –≤ test_signal_cmd**

**–ë—ã–ª–æ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):**
```python
callback_data=f"accept|{symbol}|test|{entry_price}|1|long|{risk_pct}"
```

**–ü—Ä–∏–º–µ—Ä:**
```
accept|TESTLONG|test|100.0|1|long|3.5
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –§—É–Ω–∫—Ü–∏—è button –æ–∂–∏–¥–∞–ª–∞ –¥—Ä—É–≥–æ–π –ø–æ—Ä—è–¥–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.

### **2. –û–∂–∏–¥–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç –≤ —Ñ—É–Ω–∫—Ü–∏–∏ button**

**–§—É–Ω–∫—Ü–∏—è button –æ–∂–∏–¥–∞–µ—Ç:**
```python
# accept|symbol|entry_time|entry_price|side|risk_pct|dynamic_leverage
data = query.data.split("|")
action = data[0]        # accept
symbol = data[1]        # TESTLONG
entry_time = data[2]    # test
entry_price = float(data[3])  # 100.0
side = data[4]          # long
risk_pct = float(data[5])     # 3.5
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –í test_signal_cmd –±—ã–ª –ª–∏—à–Ω–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä `1` –º–µ–∂–¥—É `entry_price` –∏ `side`.

## ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–ù–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø**

### **1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Ñ–æ—Ä–º–∞—Ç callback_data –≤ test_signal_cmd**

**–ë—ã–ª–æ:**
```python
# LONG —Å–∏–≥–Ω–∞–ª
callback_data=f"accept|{symbol}|test|{entry_price}|1|long|{risk_pct}"

# SHORT —Å–∏–≥–Ω–∞–ª
callback_data=f"accept|{symbol}|test|{entry_price}|1|short|{risk_pct}"
```

**–°—Ç–∞–ª–æ:**
```python
# LONG —Å–∏–≥–Ω–∞–ª
callback_data=f"accept|{symbol}|test|{entry_price}|long|{risk_pct}"

# SHORT —Å–∏–≥–Ω–∞–ª
callback_data=f"accept|{symbol}|test|{entry_price}|short|{risk_pct}"
```

### **2. –£–±—Ä–∞–Ω –ª–∏—à–Ω–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä**

**–£–¥–∞–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `1`** –º–µ–∂–¥—É `entry_price` –∏ `side`, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –≤ —Ñ—É–Ω–∫—Ü–∏–∏ button.

## üìä **–†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø**

### **‚úÖ –¢–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω —É—Å–ø–µ—à–Ω–æ:**

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π callback_data:**
```
accept|TESTLONG|test|100.0|long|3.5
```

**–†–∞–∑–±–æ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:**
- ‚úÖ action: accept
- ‚úÖ symbol: TESTLONG
- ‚úÖ entry_time: test
- ‚úÖ entry_price: 100.0 (float)
- ‚úÖ side: long
- ‚úÖ risk_pct: 3.5 (float)

**–†–∞—Å—á–µ—Ç—ã:**
- ‚úÖ deposit: 10,000 USDT
- ‚úÖ trade_mode: spot
- ‚úÖ leverage: 1
- ‚úÖ risk_amount: 350.0 USDT
- ‚úÖ qty: 3.5

**–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:**
```
‚úÖ –°–∏–≥–Ω–∞–ª –ø—Ä–∏–Ω—è—Ç!
üìÖ –ü—Ä–∏–Ω—è—Ç: 18.08.2025 00:25
üéØ –°–∏–º–≤–æ–ª: TESTLONG
üí∞ –¶–µ–Ω–∞ –≤—Ö–æ–¥–∞: 100.0
üìà –°—Ç–æ—Ä–æ–Ω–∞: long
üìä –û–±—ä—ë–º: 3.5000
‚ö†Ô∏è –†–∏—Å–∫: 3.5%
üíµ –°—É–º–º–∞: 350.00 USDT
```

## üöÄ **–û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´**

### **‚úÖ –ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏:**
1. **–ö–Ω–æ–ø–∫–∞ "–ü—Ä–∏–Ω—è—Ç—å" —Ä–∞–±–æ—Ç–∞–µ—Ç** - callback_data —Ä–∞–∑–±–∏—Ä–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
2. **–°–æ–æ–±—â–µ–Ω–∏–µ "‚úÖ –°–∏–≥–Ω–∞–ª –ø—Ä–∏–Ω—è—Ç!"** –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
3. **–ü–æ–∑–∏—Ü–∏—è –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è** –≤ open_positions
4. **–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è** –≤ user_data.json

### **üì± –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
1. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É:** `/test_signal`
2. **–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É:** `–ü—Ä–∏–Ω—è—Ç—å LONG` –∏–ª–∏ `–ü—Ä–∏–Ω—è—Ç—å SHORT`
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:** `‚úÖ –°–∏–≥–Ω–∞–ª –ø—Ä–∏–Ω—è—Ç!`
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–∑–∏—Ü–∏–∏:** `/positions`

## üîß **–¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò**

### **–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `telegram_bot.py` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω —Ñ–æ—Ä–º–∞—Ç callback_data –≤ test_signal_cmd

### **–ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
1. **–£–±—Ä–∞–Ω –ª–∏—à–Ω–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä** `1` –∏–∑ callback_data
2. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–æ—Ä—è–¥–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤** –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ button
3. **–ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** —Å —Ñ—É–Ω–∫—Ü–∏–µ–π button

### **–§–æ—Ä–º–∞—Ç callback_data:**
```
accept|symbol|entry_time|entry_price|side|risk_pct
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `accept` - –¥–µ–π—Å—Ç–≤–∏–µ
- `symbol` - —Ç–æ—Ä–≥–æ–≤—ã–π —Å–∏–º–≤–æ–ª
- `entry_time` - –≤—Ä–µ–º—è –≤—Ö–æ–¥–∞
- `entry_price` - —Ü–µ–Ω–∞ –≤—Ö–æ–¥–∞
- `side` - —Å—Ç–æ—Ä–æ–Ω–∞ —Å–¥–µ–ª–∫–∏ (long/short)
- `risk_pct` - –ø—Ä–æ—Ü–µ–Ω—Ç —Ä–∏—Å–∫–∞

## üìã **–°–¢–ê–¢–£–° –ü–†–û–ï–ö–¢–ê**

- ‚úÖ **–ü—Ä–æ–±–ª–µ–º–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞** - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç callback_data
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–æ** - —É–±—Ä–∞–Ω –ª–∏—à–Ω–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä
- ‚úÖ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ** - –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã
- ‚è≥ **Telegram —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –æ–∂–∏–¥–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

## üéØ **–°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò**

1. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞** –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏** –≤ Telegram
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É** –ø—Ä–∏–Ω—è—Ç–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤
4. **–£–±–µ–¥–∏—Ç–µ—Å—å –≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏** –¥–∞–Ω–Ω—ã—Ö

---

**üìÖ –î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**: 18.08.2025
**üîß –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫**: AI Assistant
**üìã –°—Ç–∞—Ç—É—Å**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ ‚úÖ
