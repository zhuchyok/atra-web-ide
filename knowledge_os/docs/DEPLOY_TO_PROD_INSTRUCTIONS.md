# üöÄ –ò–ù–°–¢–†–£–ö–¶–ò–Ø: –û–ë–ù–û–í–õ–ï–ù–ò–ï –ò –ü–ï–†–ï–ó–ê–ü–£–°–ö –ù–ê PROD –°–ï–†–í–ï–†–ï

**–î–∞—Ç–∞:** 18 –Ω–æ—è–±—Ä—è 2025  
**–ó–∞–¥–∞—á–∞:** –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥, –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã, –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å –≤ PROD —Ä–µ–∂–∏–º–µ

---

## üìã **–ü–û–®–ê–ì–û–í–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø**

### **1. –õ–æ–∫–∞–ª—å–Ω–æ: Commit –∏ Push –∏–∑–º–µ–Ω–µ–Ω–∏–π**

```bash
cd /Users/zhuchyok/Documents/GITHUB/atra/atra

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
git status

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
git add signal_live.py docs/SIGNAL_*.md check_*.py find_*.py deploy_*.sh

# Commit
git commit -m "–î–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤ –≤ –ë–î –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ + –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞"

# Push
git push origin insight
```

### **2. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É**

```bash
ssh root@185.177.216.15
# –ü–∞—Ä–æ–ª—å: u44Ww9NmtQj,XG
```

### **3. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞**

```bash
cd /root/atra

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å git
git fetch origin
git checkout insight
git pull origin insight

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π
git log --oneline -5
```

### **4. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ: –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–∞—Ä—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤**

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ Python —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å atra
pkill -f "python.*signal_live" || true
pkill -f "python.*main.py" || true

# –ñ–¥–µ–º 2 —Å–µ–∫—É–Ω–¥—ã
sleep 2

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å—ã –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
ps aux | grep -E "(python.*signal_live|python.*main\.py)" | grep -v grep

# –ï—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å—ã –µ—â–µ –µ—Å—Ç—å, –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞
ps aux | grep -E "(python.*signal_live|python.*main\.py)" | grep -v grep | awk '{print $2}' | xargs kill -9 2>/dev/null || true

# –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
ps aux | grep -E "(python.*signal_live|python.*main\.py)" | grep -v grep
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—É—Å—Ç–æ
```

### **5. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ: –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è**

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ ATRA_ENV
python3 -c "from config import ATRA_ENV; print(f'ATRA_ENV: {ATRA_ENV}')"

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: prod
# –ï—Å–ª–∏ –Ω–µ prod, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª env:
cat env | grep ATRA_ENV

# –ï—Å–ª–∏ –Ω—É–∂–Ω–æ, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
export ATRA_ENV=prod
# –ò–ª–∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª env
```

### **6. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ: –ó–∞–ø—É—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–∞**

```bash
# –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ —Å –ª–æ–≥–∞–º–∏
nohup python3 main.py > main.log 2>&1 &

# –ñ–¥–µ–º 3 —Å–µ–∫—É–Ω–¥—ã
sleep 3

# –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–ø—É—Å—Ç–∏–ª—Å—è
ps aux | grep -E "python.*main\.py" | grep -v grep

# –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å —Å PID
```

### **7. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤**

```bash
# –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –ª–æ–≥–∞
tail -50 main.log

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
tail -f main.log
```

---

## ‚úÖ **–ü–†–û–í–ï–†–ö–ê –£–°–ü–ï–®–ù–û–°–¢–ò**

### **1. –ü—Ä–æ—Ü–µ—Å—Å –∑–∞–ø—É—â–µ–Ω:**
```bash
ps aux | grep "python.*main.py" | grep -v grep
# –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
```

### **2. –õ–æ–≥–∏ –±–µ–∑ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫:**
```bash
tail -100 main.log | grep -i "error\|exception" | tail -10
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–∏–Ω–∏–º—É–º –æ—à–∏–±–æ–∫
```

### **3. –°–∏–≥–Ω–∞–ª—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–∏–≥–Ω–∞–ª–æ–≤ –≤ –ë–î
python3 -c "
import sqlite3
from datetime import datetime
conn = sqlite3.connect('trading.db')
cursor = conn.cursor()
cursor.execute('SELECT symbol, created_at FROM signals_log ORDER BY created_at DESC LIMIT 5')
signals = cursor.fetchall()
if signals:
    print('–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–∏–≥–Ω–∞–ª—ã:')
    for s in signals:
        print(f'  {s[0]} - {s[1]}')
else:
    print('–°–∏–≥–Ω–∞–ª–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç')
conn.close()
"
```

---

## üîß **–ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–´–ô –°–ü–û–°–û–ë (—á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç)**

–ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç `deploy_to_server_manual.sh` –∑–∞–≥—Ä—É–∂–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä:

```bash
cd /root/atra
chmod +x deploy_to_server_manual.sh
./deploy_to_server_manual.sh
```

---

## ‚ö†Ô∏è **–í–û–ó–ú–û–ñ–ù–´–ï –ü–†–û–ë–õ–ï–ú–´**

### **1. –ü—Ä–æ—Ü–µ—Å—Å –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
tail -50 main.log

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
python3 -c "import sqlite3, pandas, aiohttp; print('OK')"

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
ls -la main.py
```

### **2. –û—à–∏–±–∫–∏ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Python –≤–µ—Ä—Å–∏—é
python3 --version

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
pip3 list | grep -E "(pandas|aiohttp|sqlite3)"
```

### **3. –ü—Ä–æ—Ü–µ—Å—Å –ø–∞–¥–∞–µ—Ç —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:**
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤ foreground –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –æ—à–∏–±–æ–∫
python3 main.py
```

---

## üìù **–ü–û–°–õ–ï –ó–ê–ü–£–°–ö–ê**

1. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç–∞–µ—Ç: `ps aux | grep main.py`
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `tail -f main.log`
3. ‚úÖ –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5-10 –º–∏–Ω—É—Ç –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, –ø–æ—è–≤–∏–ª–∏—Å—å –ª–∏ —Å–∏–≥–Ω–∞–ª—ã
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –Ω–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤

---

**–ì–æ—Ç–æ–≤–æ! –ü—Ä–æ—Ü–µ—Å—Å –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤ PROD —Ä–µ–∂–∏–º–µ.**

