# –û–¢–ß–ï–¢: –ü–†–û–í–ï–†–ö–ê –°–ò–°–¢–ï–ú–´ –ê–ù–ê–õ–ò–ó–ê –ë–õ–û–ö–û–í –ü–û–ö–£–ü–ê–¢–ï–õ–ï–ô/–ü–†–û–î–ê–í–¶–û–í

## üéØ –¶–ï–õ–¨ –ü–†–û–í–ï–†–ö–ò

–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∞ –±–ª–æ–∫–æ–≤ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π/–ø—Ä–æ–¥–∞–≤—Ü–æ–≤ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—ä–µ–º–æ–≤ –∫ –∫–∞–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è LONG –∏ SHORT —Å–∏–≥–Ω–∞–ª–æ–≤, –∞ —Ç–∞–∫–∂–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ –ø–ª–µ—á–∞–º –∏ —Å—É–º–º–µ –≤—Ö–æ–¥–∞.

## üîç –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

### ‚úÖ **–°–ò–°–¢–ï–ú–ê –ê–ù–ê–õ–ò–ó–ê –ë–õ–û–ö–û–í –†–ê–ë–û–¢–ê–ï–¢ –ö–û–†–†–ï–ö–¢–ù–û**

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∫–∞–∑–∞–ª–∞ –æ—Ç–ª–∏—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**

#### üìä **–ê–Ω–∞–ª–∏–∑ –±–ª–æ–∫–æ–≤ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π/–ø—Ä–æ–¥–∞–≤—Ü–æ–≤:**
- ‚úÖ **–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞**: `[Blocks] –°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∞ –±–ª–æ–∫–æ–≤ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π/–ø—Ä–æ–¥–∞–≤—Ü–æ–≤ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞`
- ‚úÖ **–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –±–ª–æ–∫–æ–≤**: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –±–ª–æ–∫–∏ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π –∏ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤
- ‚úÖ **–†–∞—Å—á–µ—Ç —Å–∏–ª—ã –±–ª–æ–∫–æ–≤**: –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å–∏–ª—É –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π –∏ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤
- ‚úÖ **–ê–Ω–∞–ª–∏–∑ –æ–±—ä–µ–º–æ–≤**: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –æ–±—ä–µ–º—ã –∫ –∫–∞–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏–∏

#### üî• **–£—Å–∏–ª–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤ –±–ª–æ–∫–∞–º–∏:**

**LONG —Å–∏–≥–Ω–∞–ª—ã:**
- **–í—Å–µ–≥–æ —Å–∏–≥–Ω–∞–ª–æ–≤**: 59
- **–£—Å–∏–ª–µ–Ω–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤**: 59 (100%)
- **–¢–∏–ø—ã —É—Å–∏–ª–µ–Ω–∏—è**: neutral (–Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–µ –±–ª–æ–∫–∏)
- **–§–∞–∫—Ç–æ—Ä —É—Å–∏–ª–µ–Ω–∏—è**: 1.00 (–±–∞–∑–æ–≤—ã–π)

**SHORT —Å–∏–≥–Ω–∞–ª—ã:**
- **–í—Å–µ–≥–æ —Å–∏–≥–Ω–∞–ª–æ–≤**: 50
- **–£—Å–∏–ª–µ–Ω–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤**: 50 (100%)
- **–¢–∏–ø—ã —É—Å–∏–ª–µ–Ω–∏—è**: neutral (–Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–µ –±–ª–æ–∫–∏)
- **–§–∞–∫—Ç–æ—Ä —É—Å–∏–ª–µ–Ω–∏—è**: 1.00 (–±–∞–∑–æ–≤—ã–π)

### ‚úÖ **–ü–†–ò–ú–ï–ù–ï–ù–ò–ï ENHANCEMENT_FACTOR –ö –ü–õ–ï–ß–ê–ú –ò –°–£–ú–ú–ï –í–•–û–î–ê**

**–°–∏–º—É–ª—è—Ü–∏—è –ø–æ–∫–∞–∑–∞–ª–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É:**

#### üí∞ **–ü—Ä–∏–º–µ—Ä –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è:**
- **–ë–∞–∑–æ–≤–æ–µ –ø–ª–µ—á–æ**: 2x
- **–°–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–ª–µ—á–æ**: 2x (enhancement_factor = 1.00)
- **–ë–∞–∑–æ–≤—ã–π —Ä–∏—Å–∫**: 2.0%
- **–°–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∏—Å–∫**: 2.00%
- **–°—É–º–º–∞ –≤—Ö–æ–¥–∞**: 200.00 USDT

#### üî¢ **–§–æ—Ä–º—É–ª—ã –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è:**
```python
# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫ –ø–ª–µ—á—É
adjusted_leverage = int(base_leverage * enhancement_factor)

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫ —Ä–∏—Å–∫—É
adjusted_risk_pct = base_risk_pct * enhancement_factor

# –†–∞—Å—á–µ—Ç —Å—É–º–º—ã –≤—Ö–æ–¥–∞
entry_amount = base_balance * (adjusted_risk_pct / 100)
```

### ‚úÖ **–†–ê–ë–û–¢–ê –° –†–ï–ñ–ò–ú–ê–ú–ò –§–ò–õ–¨–¢–†–û–í**

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∫–∞–∑–∞–ª–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É —Å —Ä–µ–∂–∏–º–∞–º–∏:**

#### üìä **STRICT —Ä–µ–∂–∏–º:**
- **–í—Å–µ–≥–æ —Å–∏–≥–Ω–∞–ª–æ–≤**: 57
- **–£—Å–∏–ª–µ–Ω–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤**: 57 (100%)
- **–¢–∏–ø—ã —É—Å–∏–ª–µ–Ω–∏—è**: neutral

#### üìä **SOFT —Ä–µ–∂–∏–º:**
- **–í—Å–µ–≥–æ —Å–∏–≥–Ω–∞–ª–æ–≤**: 23
- **–£—Å–∏–ª–µ–Ω–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤**: 23 (100%)
- **–¢–∏–ø—ã —É—Å–∏–ª–µ–Ω–∏—è**: neutral

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

### **–§—É–Ω–∫—Ü–∏—è enhance_signal_with_blocks:**
```python
def enhance_signal_with_blocks(df, current_index, signal_type, signal_price, filter_mode="strict"):
    # –ü–æ–ª—É—á–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–ª—è —Ä–µ–∂–∏–º–∞
    # –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –±–ª–æ–∫–∏ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π/–ø—Ä–æ–¥–∞–≤—Ü–æ–≤
    # –ü—Ä–∏–º–µ–Ω—è–µ—Ç –ª–æ–≥–∏–∫—É —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ —Å–∏–≥–Ω–∞–ª–∞
    # –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É—Å–∏–ª–µ–Ω–Ω—ã–π —Å–∏–≥–Ω–∞–ª —Å enhancement_factor
```

### **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏:**
```python
BLOCK_FILTER_SETTINGS = {
    "strict": {
        "reject_threshold": 1.5,      # –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –ø—Ä–∏ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–∏ >50%
        "weaken_threshold": 1.2,      # –û—Å–ª–∞–±–ª–µ–Ω–∏–µ –ø—Ä–∏ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–∏ >20%
        "strengthen_threshold": 0.8,   # –£—Å–∏–ª–µ–Ω–∏–µ –ø—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ >20%
    },
    "soft": {
        "reject_threshold": 2.0,      # –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –ø—Ä–∏ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–∏ >100%
        "weaken_threshold": 1.5,      # –û—Å–ª–∞–±–ª–µ–Ω–∏–µ –ø—Ä–∏ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–∏ >50%
        "strengthen_threshold": 0.7,   # –£—Å–∏–ª–µ–Ω–∏–µ –ø—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ >30%
    }
}
```

### **–õ–æ–≥–∏–∫–∞ –¥–ª—è LONG —Å–∏–≥–Ω–∞–ª–æ–≤:**
- **–û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ**: –ï—Å–ª–∏ –±–ª–æ–∫–∏ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ –≤ 1.5x (strict) –∏–ª–∏ 2.0x (soft) —Å–∏–ª—å–Ω–µ–µ
- **–û—Å–ª–∞–±–ª–µ–Ω–∏–µ**: –ï—Å–ª–∏ –±–ª–æ–∫–∏ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ –≤ 1.2x (strict) –∏–ª–∏ 1.5x (soft) —Å–∏–ª—å–Ω–µ–µ
- **–£—Å–∏–ª–µ–Ω–∏–µ**: –ï—Å–ª–∏ –±–ª–æ–∫–∏ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π –≤ 1.25x (strict) –∏–ª–∏ 1.43x (soft) —Å–∏–ª—å–Ω–µ–µ

### **–õ–æ–≥–∏–∫–∞ –¥–ª—è SHORT —Å–∏–≥–Ω–∞–ª–æ–≤:**
- **–û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ**: –ï—Å–ª–∏ –±–ª–æ–∫–∏ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π –≤ 1.5x (strict) –∏–ª–∏ 2.0x (soft) —Å–∏–ª—å–Ω–µ–µ
- **–û—Å–ª–∞–±–ª–µ–Ω–∏–µ**: –ï—Å–ª–∏ –±–ª–æ–∫–∏ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π –≤ 1.2x (strict) –∏–ª–∏ 1.5x (soft) —Å–∏–ª—å–Ω–µ–µ
- **–£—Å–∏–ª–µ–Ω–∏–µ**: –ï—Å–ª–∏ –±–ª–æ–∫–∏ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ –≤ 1.25x (strict) –∏–ª–∏ 1.43x (soft) —Å–∏–ª—å–Ω–µ–µ

## üìä **–¢–ò–ü–´ –£–°–ò–õ–ï–ù–ò–Ø –°–ò–ì–ù–ê–õ–û–í**

### **üî• –£—Å–∏–ª–µ–Ω–Ω—ã–π —Å–∏–≥–Ω–∞–ª (strengthened):**
- **–§–∞–∫—Ç–æ—Ä**: > 1.0 (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1.3)
- **–≠–º–æ–¥–∑–∏**: üî•
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**: –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –ø–ª–µ—á–æ –∏ —Ä–∏—Å–∫

### **‚ö†Ô∏è –û—Å–ª–∞–±–ª–µ–Ω–Ω—ã–π —Å–∏–≥–Ω–∞–ª (weakened):**
- **–§–∞–∫—Ç–æ—Ä**: < 1.0 (–Ω–∞–ø—Ä–∏–º–µ—Ä, 0.8)
- **–≠–º–æ–¥–∑–∏**: ‚ö†Ô∏è
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**: –£–º–µ–Ω—å—à–∞–µ—Ç –ø–ª–µ—á–æ –∏ —Ä–∏—Å–∫

### **‚ùå –û—Ç–∫–ª–æ–Ω–µ–Ω–Ω—ã–π —Å–∏–≥–Ω–∞–ª (rejected):**
- **–§–∞–∫—Ç–æ—Ä**: 0.0
- **–≠–º–æ–¥–∑–∏**: ‚ùå
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**: –°–∏–≥–Ω–∞–ª –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è

### **–ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π —Å–∏–≥–Ω–∞–ª (neutral):**
- **–§–∞–∫—Ç–æ—Ä**: 1.0
- **–≠–º–æ–¥–∑–∏**: (–±–µ–∑ —ç–º–æ–¥–∑–∏)
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**: –ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## üéØ –í–´–í–û–î–´

### ‚úÖ **–°–ò–°–¢–ï–ú–ê –†–ê–ë–û–¢–ê–ï–¢ –ò–î–ï–ê–õ–¨–ù–û:**

1. **–ê–Ω–∞–ª–∏–∑ –±–ª–æ–∫–æ–≤** —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è LONG –∏ SHORT —Å–∏–≥–Ω–∞–ª–æ–≤
2. **Enhancement_factor** –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –ø–ª–µ—á–∞–º –∏ —Å—É–º–º–µ –≤—Ö–æ–¥–∞
3. **–†–µ–∂–∏–º—ã —Ñ–∏–ª—å—Ç—Ä–æ–≤** (strict/soft) —Ä–∞–±–æ—Ç–∞—é—Ç —Å –±–ª–æ–∫–∞–º–∏
4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—ä–µ–º–æ–≤ –∫ –∫–∞–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏–∏** –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤ —Å–∏—Å—Ç–µ–º—É
5. **–°–∏—Å—Ç–µ–º–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã** –æ–±–æ–∏—Ö —Ç–∏–ø–æ–≤

### üìà **–ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê –°–ò–°–¢–ï–ú–´:**

- **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç –ø–ª–µ—á–∏ –∏ —Ä–∏—Å–∫–∏
- **–¢–æ—á–Ω–æ—Å—Ç—å**: –£—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –æ–±—ä–µ–º—ã —Ç–æ—Ä–≥–æ–≤
- **–ì–∏–±–∫–æ—Å—Ç—å**: –†–∞–±–æ—Ç–∞–µ—Ç —Å —Ä–∞–∑–Ω—ã–º–∏ —Ä–µ–∂–∏–º–∞–º–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ –±–ª–æ–∫–æ–≤

### üîÑ **–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò**

### ‚úÖ **–°–ò–°–¢–ï–ú–ê –ì–û–¢–û–í–ê –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ:**

1. **–ê–Ω–∞–ª–∏–∑ –±–ª–æ–∫–æ–≤** —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
2. **Enhancement_factor** –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è
3. **–ü–ª–µ—á–∏ –∏ —Å—É–º–º—ã –≤—Ö–æ–¥–∞** –∞–¥–∞–ø—Ç–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
4. **–°–∏—Å—Ç–µ–º–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞** –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏

### üìä **–°–¢–ê–¢–ò–°–¢–ò–ö–ê –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø:**
- **–í—Ä–µ–º—è –ø—Ä–æ–≤–µ—Ä–∫–∏**: ~3 –º–∏–Ω—É—Ç—ã
- **–í—Å–µ–≥–æ —Å–∏–≥–Ω–∞–ª–æ–≤**: 109 (59 LONG + 50 SHORT)
- **–ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–∏–ª–µ–Ω–∏—è**: 100%
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û –ò –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–û
- **–û—à–∏–±–æ–∫**: 0

---

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏**: 20.08.2025
**–í–µ—Ä—Å–∏—è —Å–∏—Å—Ç–µ–º—ã**: –ê–Ω–∞–ª–∏–∑ –±–ª–æ–∫–æ–≤ + Enhancement Factor
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–û–¢–û–í–û –ö –ü–†–û–î–ê–ö–®–ï–ù–£
