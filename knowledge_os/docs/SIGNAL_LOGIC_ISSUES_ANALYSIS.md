# üö® –ê–ù–ê–õ–ò–ó –ü–†–û–ë–õ–ï–ú –í –õ–û–ì–ò–ö–ï –°–ò–ì–ù–ê–õ–û–í

## üéØ **–ù–ê–ô–î–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´:**

### ‚ùå **1. –ù–ï–ü–†–ê–í–ò–õ–¨–ù–ê–Ø –ò–ö–û–ù–ö–ê –ò –°–¢–û–†–û–ù–ê:**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ö—Ä–∞—Å–Ω–∞—è —Ç–æ—á–∫–∞ üî¥ –Ω–æ —Å—Ç–æ—Ä–æ–Ω–∞ `long`

**–ö–æ–¥ –≤ signal_live.py (—Å—Ç—Ä–æ–∫–∏ 2754-2762):**
```python
if side == "LONG":
    tp1 = price * (1 + tp1_pct / 100)
    tp2 = price * (1 + tp2_pct / 100)
    side_emoji = "üü¢"
    side_text = "LONG"
else:  # SHORT
    tp1 = price * (1 - tp1_pct / 100)
    tp2 = price * (1 - tp2_pct / 100)
    side_emoji = "üî¥"
    side_text = "SHORT"
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `side` –ø—Ä–∏—Ö–æ–¥–∏—Ç –∫–∞–∫ `"long"` (—Å—Ç—Ä–æ—á–Ω–∞—è), –Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∫–∞–∫ `"LONG"` (–∑–∞–≥–ª–∞–≤–Ω–∞—è)!

### ‚ùå **2. –ù–ï–ü–†–ê–í–ò–õ–¨–ù–´–ï TAKE PROFIT –î–õ–Ø LONG:**
**–ü—Ä–æ–±–ª–µ–º–∞:** TP –Ω–∏–∂–µ —Ü–µ–Ω—ã –≤—Ö–æ–¥–∞ –¥–ª—è LONG –ø–æ–∑–∏—Ü–∏–∏

**–í—Ö–æ–¥:** `3.2397`
**TP1:** `3.2067 (-1.0%)` ‚Üí –ù–ò–ñ–ï –≤—Ö–æ–¥–∞!
**TP2:** `3.1736 (-2.0%)` ‚Üí –ù–ò–ñ–ï –≤—Ö–æ–¥–∞!

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ TP –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ç–æ—Ä–æ–Ω—ã

### ‚ùå **3. SPOT –†–ï–ñ–ò–ú –ò SHORT –°–ò–ì–ù–ê–õ–´:**
**–ü—Ä–æ–±–ª–µ–º–∞:** SHORT —Å–∏–≥–Ω–∞–ª—ã –ø—Ä–∏—Ö–æ–¥—è—Ç –≤ SPOT —Ä–µ–∂–∏–º–µ

**–ö–æ–¥ (—Å—Ç—Ä–æ–∫–∏ 2700-2705):**
```python
# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∂–∏–º —Ç–æ—Ä–≥–æ–≤–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
trade_mode = user_data.get('trade_mode', 'spot')
if side == "short" and trade_mode != 'futures':
    print(f"[DEBUG] –ü—Ä–æ–ø—É—Å–∫–∞–µ–º SHORT —Å–∏–≥–Ω–∞–ª –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {target_user_id} (—Ä–µ–∂–∏–º: {trade_mode})")
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ü–û–°–õ–ï —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∏–≥–Ω–∞–ª–∞, –∞ –Ω–µ –¥–æ!

### ‚ùå **4. –ë–´–ß–ò–ô –¢–†–ï–ù–î BTC –ò SHORT:**
**–ü—Ä–æ–±–ª–µ–º–∞:** SHORT —Å–∏–≥–Ω–∞–ª—ã –ø—Ä–∏ –±—ã—á—å–µ–º —Ç—Ä–µ–Ω–¥–µ BTC

**–ö–æ–¥ (—Å—Ç—Ä–æ–∫–∏ 2625-2635):**
```python
if signal_type == "LONG" and btc_trend_status:  # –ë—ã—á–∏–π —Ç—Ä–µ–Ω–¥ BTC
    # –†–∞–∑—Ä–µ—à–∞–µ–º LONG —Å–∏–≥–Ω–∞–ª—ã
elif signal_type == "SHORT" and not btc_trend_status:  # –ú–µ–¥–≤–µ–∂–∏–π —Ç—Ä–µ–Ω–¥ BTC
    # –†–∞–∑—Ä–µ—à–∞–µ–º SHORT —Å–∏–≥–Ω–∞–ª—ã
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –õ–æ–≥–∏–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è, –Ω–æ –≥–¥–µ-—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—à–∏–±–∫–∞ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ —Å—Ç–æ—Ä–æ–Ω—ã

### ‚ùå **5. –ù–û–í–û–°–¢–ù–û–ï –£–°–ò–õ–ï–ù–ò–ï:**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–∑–∏—Ç–∏–≤–Ω–∞—è –Ω–æ–≤–æ—Å—Ç—å –¥–ª—è SHORT —Å–∏–≥–Ω–∞–ª–∞

**–ö–æ–¥ (—Å—Ç—Ä–æ–∫–∏ 2790-2800):**
```python
# –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –Ω–æ–≤–æ—Å—Ç–∏ (–ø–æ–∑–∏—Ç–∏–≤–Ω–∞—è/–Ω–µ–≥–∞—Ç–∏–≤–Ω–∞—è)
news_type = "üü¢" if signal.get('side') == 'long' else "üî¥"
news_impact = "–ü–æ–∑–∏—Ç–∏–≤–Ω–∞—è" if signal.get('side') == 'long' else "–ù–µ–≥–∞—Ç–∏–≤–Ω–∞—è"
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –õ–æ–≥–∏–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è, –Ω–æ —Å—Ç–æ—Ä–æ–Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ

## üîß **–ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:**

### ‚úÖ **1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Å—Ç–æ—Ä–æ–Ω—ã:**
```python
# –ë–´–õ–û:
if side == "LONG":

# –î–û–õ–ñ–ù–û –ë–´–¢–¨:
if side.upper() == "LONG" or side == "long":
```

### ‚úÖ **2. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É —Ä–∞—Å—á–µ—Ç–∞ TP:**
```python
# –ë–´–õ–û:
if side == "LONG":
    tp1 = price * (1 + tp1_pct / 100)
    tp2 = price * (1 + tp2_pct / 100)
else:  # SHORT
    tp1 = price * (1 - tp1_pct / 100)
    tp2 = price * (1 - tp2_pct / 100)

# –î–û–õ–ñ–ù–û –ë–´–¢–¨:
if side.upper() == "LONG" or side == "long":
    tp1 = price * (1 + tp1_pct / 100)  # –í–´–®–ï –¥–ª—è LONG
    tp2 = price * (1 + tp2_pct / 100)  # –í–´–®–ï –¥–ª—è LONG
    side_emoji = "üü¢"
    side_text = "LONG"
else:  # SHORT
    tp1 = price * (1 - tp1_pct / 100)  # –ù–ò–ñ–ï –¥–ª—è SHORT
    tp2 = price * (1 - tp2_pct / 100)  # –ù–ò–ñ–ï –¥–ª—è SHORT
    side_emoji = "üî¥"
    side_text = "SHORT"
```

### ‚úÖ **3. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Ä–µ–∂–∏–º–∞ —Ç–æ—Ä–≥–æ–≤–ª–∏:**
```python
# –î–û–ë–ê–í–ò–¢–¨ –ü–†–û–í–ï–†–ö–£ –î–û –§–û–†–ú–ò–†–û–í–ê–ù–ò–Ø –°–ò–ì–ù–ê–õ–ê:
if signal_type == "SHORT" and trade_mode == 'spot':
    print(f"[DEBUG] –ü—Ä–æ–ø—É—Å–∫–∞–µ–º SHORT —Å–∏–≥–Ω–∞–ª –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {user_id} (—Ä–µ–∂–∏–º: {trade_mode})")
    continue
```

### ‚úÖ **4. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞:**
```python
# –ë–´–õ–û:
f"üîß –†–µ–∂–∏–º: `{filter_mode}` ({trade_mode})"

# –î–û–õ–ñ–ù–û –ë–´–¢–¨:
filter_mode_display = "–°—Ç—Ä–æ–≥–∏–π" if filter_mode == "balanced" else "–ú—è–≥–∫–∏–π"
f"üîß –†–µ–∂–∏–º: `{filter_mode_display}` ({trade_mode})"
```

## üéØ **–ü–õ–ê–ù –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô:**

### ‚úÖ **–®–∞–≥ 1: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Å—Ç–æ—Ä–æ–Ω—ã**
- –ó–∞–º–µ–Ω–∏—Ç—å `side == "LONG"` –Ω–∞ `side.upper() == "LONG" or side == "long"`

### ‚úÖ **–®–∞–≥ 2: –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ä–∞—Å—á–µ—Ç TP**
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –¥–ª—è LONG TP –≤—ã—à–µ –≤—Ö–æ–¥–∞
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –¥–ª—è SHORT TP –Ω–∏–∂–µ –≤—Ö–æ–¥–∞

### ‚úÖ **–®–∞–≥ 3: –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Ä–µ–∂–∏–º–∞ —Ç–æ—Ä–≥–æ–≤–ª–∏**
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å SPOT —Ä–µ–∂–∏–º –¥–æ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è SHORT —Å–∏–≥–Ω–∞–ª–æ–≤

### ‚úÖ **–®–∞–≥ 4: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞**
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å "–°—Ç—Ä–æ–≥–∏–π" –≤–º–µ—Å—Ç–æ "balanced"
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å "–ú—è–≥–∫–∏–π" –≤–º–µ—Å—Ç–æ "soft"

### ‚úÖ **–®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏–∫—É –Ω–æ–≤–æ—Å—Ç–µ–π**
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è LONG
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è SHORT

## üéØ **–û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢:**

### ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–∏–≥–Ω–∞–ª LONG:**
```
üü¢ –ù–û–í–´–ô –¢–û–†–ì–û–í–´–ô –°–ò–ì–ù–ê–õ

üìä –°–∏–º–≤–æ–ª: XRPUSDT
üí∞ –¶–µ–Ω–∞ –≤—Ö–æ–¥–∞: 3.2397
üìà –°—Ç–æ—Ä–æ–Ω–∞: long
üéØ TP1: 3.2721 (+1.0%)
üöÄ TP2: 3.3044 (+2.0%)
‚ö†Ô∏è –†–∏—Å–∫: 1.95%
BTC —Ç—Ä–µ–Ω–¥: üü¢ –ë–´–ß–ò–ô
üîß –†–µ–∂–∏–º: –°—Ç—Ä–æ–≥–∏–π (spot)
```

### ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–∏–≥–Ω–∞–ª SHORT (—Ç–æ–ª—å–∫–æ –≤ FUTURES):**
```
üî¥ –ù–û–í–´–ô –¢–û–†–ì–û–í–´–ô –°–ò–ì–ù–ê–õ

üìä –°–∏–º–≤–æ–ª: XRPUSDT
üí∞ –¶–µ–Ω–∞ –≤—Ö–æ–¥–∞: 3.2397
üìà –°—Ç–æ—Ä–æ–Ω–∞: short
üéØ TP1: 3.2067 (-1.0%)
üöÄ TP2: 3.1736 (-2.0%)
‚ö†Ô∏è –†–∏—Å–∫: 1.95%
BTC —Ç—Ä–µ–Ω–¥: üî¥ –ú–ï–î–í–ï–ñ–ò–ô
üîß –†–µ–∂–∏–º: –°—Ç—Ä–æ–≥–∏–π (futures)
```

---
**–°—Ç–∞—Ç—É—Å:** ‚ùå –¢—Ä–µ–±—É–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π
**–î–∞—Ç–∞:** 2024-01-27