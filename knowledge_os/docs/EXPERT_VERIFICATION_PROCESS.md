# üìã –ü–†–û–¶–ï–°–° –í–ï–†–ò–§–ò–ö–ê–¶–ò–ò –°–ü–ò–°–ö–û–í –≠–ö–°–ü–ï–†–¢–û–í

## –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∂—ë—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –∞–∫—Ç—É–∞–ª—å–Ω—ã–º –¥–∞–Ω–Ω—ã–º –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

---

## üîÑ –†–µ–≥—É–ª—è—Ä–Ω–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 1 —Ä–∞–∑ –≤ –º–µ—Å—è—Ü)

### –®–∞–≥ 1: –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

```bash
cd /root/knowledge_os
python scripts/quick_validate_experts.py
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –í–ê–õ–ò–î–ê–¶–ò–Ø –ü–†–û–ô–î–ï–ù–ê ‚Äî –≤—Å–µ —Ö–∞—Ä–¥–∫–æ–¥—ã –∞–∫—Ç—É–∞–ª—å–Ω—ã
- ‚ùå –í–ê–õ–ò–î–ê–¶–ò–Ø –ù–ï –ü–†–û–ô–î–ï–ù–ê ‚Äî —Ç—Ä–µ–±—É–µ—Ç—Å—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –®–∞–≥ 2: –ü–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç (–ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º)

```bash
python scripts/check_experts_count.py --verbose --no-confirm
```

**–í—ã–≤–æ–¥ –≤–∫–ª—é—á–∞–µ—Ç:**
- SQL —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (`SELECT COUNT(*)`, `SELECT name`)
- –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã
- –î–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç –æ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è—Ö
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é

### –®–∞–≥ 3: –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç—á—ë—Ç–∞

```bash
cat scripts/reports/experts_check_report.txt
```

---

## üÜï –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —ç–∫—Å–ø–µ—Ä—Ç–∞ –≤ –ë–î

### 1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ –ë–î

```sql
INSERT INTO experts (name, role, department, system_prompt)
VALUES ('–ù–æ–≤—ã–π –≠–∫—Å–ø–µ—Ä—Ç', 'Role Title', 'Department', 'System prompt...');
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ fallback-—Å–ø–∏—Å–∫–æ–≤

–ï—Å–ª–∏ –Ω–æ–≤—ã–π —ç–∫—Å–ø–µ—Ä—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–µ–Ω (Lead, Director):

**–§–∞–π–ª:** `/root/knowledge_os/app/expert_validator.py`

```python
# –î–æ–±–∞–≤–∏—Ç—å –≤ EXTENDED_FALLBACK_EXPERTS (–µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ)
EXTENDED_FALLBACK_EXPERTS: List[str] = [
    "–î–º–∏—Ç—Ä–∏–π",
    "–ú–∞—Ä–∏—è", 
    "–ú–∞–∫—Å–∏–º",
    "–°–µ—Ä–≥–µ–π",
    "–ï–ª–µ–Ω–∞",
    "–ù–æ–≤—ã–π–≠–∫—Å–ø–µ—Ä—Ç",  # <-- –¥–æ–±–∞–≤–∏—Ç—å
]
```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–ª–∏–∞—Å–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–§–∞–π–ª:** `/root/knowledge_os/app/expert_aliases.py`

```python
# –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è
STANDARD_DIMINUTIVES: Dict[str, List[str]] = {
    # ...
    '–ù–æ–≤—ã–π–≠–∫—Å–ø–µ—Ä—Ç': ['–Ω–∏–∫', '–Ω–∏–∫–Ω–µ–π–º'],  # <-- –¥–æ–±–∞–≤–∏—Ç—å
}
```

### 4. –ó–∞–ø—É—Å–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

```bash
python scripts/quick_validate_experts.py
```

### 5. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Telegram gateway (–µ—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç)

```bash
# Graceful restart
pkill -f telegram_gateway.py
python /root/knowledge_os/app/telegram_gateway.py &
```

---

## üîç SQL –ó–∞–ø—Ä–æ—Å—ã –¥–ª—è —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

### –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤
```sql
SELECT COUNT(*) FROM experts;
```

### –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —ç–∫—Å–ø–µ—Ä—Ç–æ–≤
```sql
SELECT name, role, department FROM experts ORDER BY name;
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —ç–∫—Å–ø–µ—Ä—Ç–∞
```sql
SELECT * FROM experts WHERE name = '–í–∏–∫—Ç–æ—Ä–∏—è';
```

### –≠–∫—Å–ø–µ—Ä—Ç—ã, –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π –º–µ—Å—è—Ü
```sql
SELECT name, role, created_at 
FROM experts 
WHERE created_at > NOW() - INTERVAL '30 days'
ORDER BY created_at DESC;
```

### –≠–∫—Å–ø–µ—Ä—Ç—ã —Å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º–∏ —Ä–æ–ª—è–º–∏ (–¥–ª—è distillation)
```sql
SELECT name, role FROM experts 
WHERE role ILIKE '%Lead%' 
   OR role ILIKE '%Director%' 
   OR role ILIKE '%Senior%';
```

---

## üö® –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π

### –°—Ü–µ–Ω–∞—Ä–∏–π A: –≠–∫—Å–ø–µ—Ä—Ç –µ—Å—Ç—å –≤ –ë–î, –Ω–æ –Ω–µ—Ç –≤ —Ö–∞—Ä–¥–∫–æ–¥–µ

**–î–∏–∞–≥–Ω–æ–∑:** Telegram gateway –Ω–µ —Å–º–æ–∂–µ—Ç –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ —ç—Ç–æ–º—É —ç–∫—Å–ø–µ—Ä—Ç—É.

**–†–µ—à–µ–Ω–∏–µ:**
1. –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `expert_aliases.py` ‚Äî –∫—ç—à –æ–±–Ω–æ–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
2. –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞—Ä—ã–π –∫–æ–¥ ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –±–ª–æ–∫ if/elif
3. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –ø—Ä–æ–≤–µ—Å—Ç–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é –∑–∞–≥—Ä—É–∑–∫—É

### –°—Ü–µ–Ω–∞—Ä–∏–π B: –≠–∫—Å–ø–µ—Ä—Ç –µ—Å—Ç—å –≤ —Ö–∞—Ä–¥–∫–æ–¥–µ, –Ω–æ –Ω–µ—Ç –≤ –ë–î

**–î–∏–∞–≥–Ω–æ–∑:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞! –ö–æ–¥ —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —ç–∫—Å–ø–µ—Ä—Ç–∞.

**–†–µ—à–µ–Ω–∏–µ:**
1. –î–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–ø–µ—Ä—Ç–∞ –≤ –ë–î
2. –ò–õ–ò —É–¥–∞–ª–∏—Ç—å –∏–∑ —Ö–∞—Ä–¥–∫–æ–¥–∞ (–µ—Å–ª–∏ —ç–∫—Å–ø–µ—Ä—Ç –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω)

```sql
-- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ
INSERT INTO experts (name, role, system_prompt)
VALUES ('–ò–º—è–≠–∫—Å–ø–µ—Ä—Ç–∞', 'Role', 'Prompt');

-- –ü—Ä–æ–≤–µ—Ä–∫–∞
SELECT * FROM experts WHERE name = '–ò–º—è–≠–∫—Å–ø–µ—Ä—Ç–∞';
```

### –°—Ü–µ–Ω–∞—Ä–∏–π C: Fallback-—Å–ø–∏—Å–æ–∫ –Ω–µ–ø–æ–ª–Ω—ã–π

**–î–∏–∞–≥–Ω–æ–∑:** –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ë–î —Å–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º –Ω–∞–±–æ—Ä–æ–º —ç–∫—Å–ø–µ—Ä—Ç–æ–≤.

**–†–µ—à–µ–Ω–∏–µ:**
1. –û–±–Ω–æ–≤–∏—Ç—å `EXTENDED_FALLBACK_EXPERTS` –≤ `expert_validator.py`
2. –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å –¥–∞—Ç–æ–π –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –¶–µ–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å |
|---------|------------------|---------------|
| –≠–∫—Å–ø–µ—Ä—Ç–æ–≤ –≤ –ë–î | >= –∫–æ–ª-–≤–æ –≤ fallback | `SELECT COUNT(*) FROM experts` |
| –•–∞—Ä–¥–∫–æ–¥–æ–≤ –≤ –∫–æ–¥–µ | –ú–∏–Ω–∏–º—É–º | `grep -r "FALLBACK_EXPERTS" app/` |
| –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏ | < 30 –¥–Ω–µ–π | `cat scripts/reports/quick_validation.txt` |

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

| –§–∞–π–ª | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|------------|
| `scripts/check_experts_count.py` | –ü–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç |
| `scripts/quick_validate_experts.py` | –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ |
| `app/expert_validator.py` | –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ fallback-—Å–ø–∏—Å–∫–∏ |
| `app/expert_aliases.py` | –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –º–µ–Ω–µ–¥–∂–µ—Ä –∞–ª–∏–∞—Å–æ–≤ |
| `scripts/reports/` | –û—Ç—á—ë—Ç—ã –ø—Ä–æ–≤–µ—Ä–æ–∫ |
| `scripts/patches/` | –ü–∞—Ç—á–∏ –¥–ª—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ |

---

## ‚è∞ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ

| –î–µ–π—Å—Ç–≤–∏–µ | –ß–∞—Å—Ç–æ—Ç–∞ | –ö–æ–º–∞–Ω–¥–∞ |
|----------|---------|---------|
| –ë—ã—Å—Ç—Ä–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è | –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ | `python scripts/quick_validate_experts.py` |
| –ü–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç | –ï–∂–µ–º–µ—Å—è—á–Ω–æ | `python scripts/check_experts_count.py --verbose` |
| –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è | –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –¥–µ–ø–ª–æ—è | `python scripts/quick_validate_experts.py` |

---

**–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω:** 2026-01-14  
**–ê–≤—Ç–æ—Ä:** –ê—Ä—Ç—ë–º (Performance Lead, Marketing)  
**–í–µ—Ä—Å–∏—è:** 1.0
