# ‚ö†Ô∏è –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã –≤ –±–µ–∫—Ç–µ—Å—Ç–µ

**–î–∞—Ç–∞:** 2025-11-13  
**–ü—Ä–æ–±–ª–µ–º–∞:** –í –±–µ–∫—Ç–µ—Å—Ç–µ –Ω–µ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –≤–∞–∂–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã –∏–∑ —Ä–µ–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã

## üîç –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. ‚ùå **Correlation Risk Manager –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è**

**–í —Ä–µ–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ:**
- `CorrelationRiskManager` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—é –∫ BTC/ETH/SOL
- –°–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –≥—Ä—É–ø–ø–∞–º (HIGH/MEDIUM/LOW/INDEPENDENT)
- –õ–∏–º–∏—Ç—ã –ø–æ –≥—Ä—É–ø–ø–∞–º (BTC_HIGH: 2 —Å–∏–≥–Ω–∞–ª–∞, BTC_MEDIUM: 3, –∏ —Ç.–¥.)
- –ë–ª–æ–∫–∏—Ä—É–µ—Ç —Å–∏–≥–Ω–∞–ª—ã —Å –≤—ã—Å–æ–∫–æ–π –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–µ–π –∫ –æ—Ç–∫—Ä—ã—Ç—ã–º –ø–æ–∑–∏—Ü–∏—è–º

**–í –±–µ–∫—Ç–µ—Å—Ç–µ:**
- ‚ùå CorrelationRiskManager –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- ‚ùå –ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è –Ω–µ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è
- ‚ùå –°–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è
- ‚ùå –õ–∏–º–∏—Ç—ã –ø–æ –≥—Ä—É–ø–ø–∞–º –Ω–µ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è

**–í–ª–∏—è–Ω–∏–µ:**
- –ë–µ–∫—Ç–µ—Å—Ç –º–æ–∂–µ—Ç –æ—Ç–∫—Ä—ã–≤–∞—Ç—å —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –ø–æ–∑–∏—Ü–∏–π –≤ –æ–¥–Ω–æ–π –≥—Ä—É–ø–ø–µ
- –ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Ä–∏—Å–∫ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å –∑–∞–≤—ã—à–µ–Ω—ã

### 2. ‚ö†Ô∏è **Bollinger Bands –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —á–∞—Å—Ç–∏—á–Ω–æ**

**–í —Ä–µ–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ:**
- BB –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –±–ª–æ–∫–∏—Ä—É—é—â–∏–π —Ñ–∏–ª—å—Ç—Ä –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏—è—Ö
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∑–∏—Ü–∏–∏ —Ü–µ–Ω—ã –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ø–æ–ª–æ—Å (–Ω–∏–∂–Ω–∏–µ 10-20% –¥–ª—è LONG, –≤–µ—Ä—Ö–Ω–∏–µ 10-20% –¥–ª—è SHORT)
- –£—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —à–∏—Ä–∏–Ω–∞ –ø–æ–ª–æ—Å (—Å–ª–∏—à–∫–æ–º —É–∑–∫–∏–µ = –ø–ª–æ—Ö–æ)

**–í –±–µ–∫—Ç–µ—Å—Ç–µ:**
- ‚úÖ BB —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è (bb_upper, bb_lower, bb_middle)
- ‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–∞–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä (+10 –∫ confidence)
- ‚ùå –ù–ï –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å–∏–≥–Ω–∞–ª—ã (–Ω–µ —è–≤–ª—è–µ—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º)
- ‚ùå –ù–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —à–∏—Ä–∏–Ω–∞ –ø–æ–ª–æ—Å

**–í–ª–∏—è–Ω–∏–µ:**
- –ë–µ–∫—Ç–µ—Å—Ç –º–æ–∂–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–∏–≥–Ω–∞–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∞ –±—ã
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å –∑–∞–≤—ã—à–µ–Ω—ã

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å

### 1. Correlation Risk Manager
```python
# –í __init__:
from correlation_risk_manager import CorrelationRiskManager
self.correlation_manager = CorrelationRiskManager()

# –í generate_signal:
correlation_check = await self.correlation_manager.check_correlation_risk_async(
    symbol=symbol,
    signal_type=direction,
    df=df
)
if not correlation_check['allowed']:
    return None  # –ë–ª–æ–∫–∏—Ä—É–µ–º —Å–∏–≥–Ω–∞–ª
```

### 2. Bollinger Bands (–±–ª–æ–∫–∏—Ä—É—é—â–∏–π —Ñ–∏–ª—å—Ç—Ä)
```python
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∑–∏—Ü–∏–∏ —Ü–µ–Ω—ã
bb_position = (row["close"] - row["bb_lower"]) / (row["bb_upper"] - row["bb_lower"])
bb_width = (row["bb_upper"] - row["bb_lower"]) / row["bb_middle"]

# –î–ª—è LONG: —Ü–µ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ –Ω–∏–∂–Ω–∏—Ö 20% BB
if direction == "LONG":
    if bb_position > 0.2:  # –ù–µ –≤ –Ω–∏–∂–Ω–∏—Ö 20%
        return None
    if bb_width < 0.02:  # –°–ª–∏—à–∫–æ–º —É–∑–∫–∏–µ –ø–æ–ª–æ—Å—ã
        return None

# –î–ª—è SHORT: —Ü–µ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ –≤–µ—Ä—Ö–Ω–∏—Ö 20% BB
elif direction == "SHORT":
    if bb_position < 0.8:  # –ù–µ –≤ –≤–µ—Ä—Ö–Ω–∏—Ö 20%
        return None
    if bb_width < 0.02:  # –°–ª–∏—à–∫–æ–º —É–∑–∫–∏–µ –ø–æ–ª–æ—Å—ã
        return None
```

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç

1. **–í—ã—Å–æ–∫–∏–π:** –î–æ–±–∞–≤–∏—Ç—å Correlation Risk Manager
2. **–°—Ä–µ–¥–Ω–∏–π:** –£–ª—É—á—à–∏—Ç—å Bollinger Bands —Ñ–∏–ª—å—Ç—Ä

## üìä –û–∂–∏–¥–∞–µ–º–æ–µ –≤–ª–∏—è–Ω–∏–µ

- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–≥–Ω–∞–ª–æ–≤:** –£–º–µ–Ω—å—à–∏—Ç—Å—è (–±–æ–ª–µ–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ)
- **Win Rate:** –ú–æ–∂–µ—Ç —É–ª—É—á—à–∏—Ç—å—Å—è (–ª—É—á—à–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è)
- **Profit Factor:** –ú–æ–∂–µ—Ç —É–ª—É—á—à–∏—Ç—å—Å—è (–º–µ–Ω—å—à–µ —Ä–∏—Å–∫–∞ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏)

