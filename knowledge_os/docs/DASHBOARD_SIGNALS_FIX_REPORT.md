# –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤ –≤ –¥–∞—à–±–æ—Ä–¥–µ

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** 7 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ

## üéØ –ü—Ä–æ–±–ª–µ–º–∞
–í –¥–∞—à–±–æ—Ä–¥–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –Ω–µ —Ç–µ —Å–∏–≥–Ω–∞–ª—ã, —á—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–ª–∏—Å—å –≤ Telegram –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º, –∏ –Ω—É–∂–Ω–æ –±—ã–ª–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –¥–æ 5 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–∏–≥–Ω–∞–ª–æ–≤.

## üîß –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### ‚úÖ 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤
- **–ë—ã–ª–æ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `signals` (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞)
- **–°—Ç–∞–ª–æ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `signals_log` (—Ä–µ–∞–ª—å–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –≤ Telegram)

### ‚úÖ 2. –†–∞—Å—à–∏—Ä–µ–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–≥–Ω–∞–ª–æ–≤
- **–ë—ã–ª–æ:** 10 —Å–∏–≥–Ω–∞–ª–æ–≤
- **–°—Ç–∞–ª–æ:** 5 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–∏–≥–Ω–∞–ª–æ–≤ (–∫–∞–∫ –∑–∞–ø—Ä–æ—à–µ–Ω–æ)

### ‚úÖ 3. –£–ª—É—á—à–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
- **–î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è:** `tp1`, `tp2`, `entry_time`, `result`
- **–£–ª—É—á—à–µ–Ω–∞ –ª–æ–≥–∏–∫–∞:** –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ —Å–∏–≥–Ω–∞–ª–∞ –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è:** –¢–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã (OPEN, DCA, TP1_REACHED, TP2_REACHED, SL_REACHED)

## üìä –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è get_recent_signals

### **–°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è):**
```python
# –ü–æ–ª—É—á–∞–ª–∞ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã signals
SELECT symbol, signal_type, entry_price, leverage, risk_pct, strength, created_at
FROM signals 
ORDER BY created_at DESC 
LIMIT 10
```

### **–ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è):**
```python
# –ü–æ–ª—É—á–∞–µ—Ç –∏–∑ —Ç–∞–±–ª–∏—Ü—ã signals_log (—Ä–µ–∞–ª—å–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã)
SELECT symbol, entry, tp1, tp2, entry_time, result, created_at
FROM signals_log 
WHERE result IN ('OPEN', 'DCA', 'TP1_REACHED', 'TP2_REACHED', 'SL_REACHED')
ORDER BY created_at DESC 
LIMIT 5
```

## üîç –õ–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ —Å–∏–≥–Ω–∞–ª–∞

| –†–µ–∑—É–ª—å—Ç–∞—Ç | –¢–∏–ø —Å–∏–≥–Ω–∞–ª–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|-------------|----------|
| `OPEN` | `LONG` | –û—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–∏ |
| `DCA` | `DCA` | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–∫—É–ø–∫–∞ |
| `TP1_REACHED` | `TP1` | –î–æ—Å—Ç–∏–≥–Ω—É—Ç –ø–µ—Ä–≤—ã–π TP |
| `TP2_REACHED` | `TP2` | –î–æ—Å—Ç–∏–≥–Ω—É—Ç –≤—Ç–æ—Ä–æ–π TP |
| `SL_REACHED` | `SL` | –°—Ä–∞–±–æ—Ç–∞–ª —Å—Ç–æ–ø-–ª–æ—Å—Å |

## üì¶ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. **`fix_dashboard_signals.py`** - —Å–∫—Ä–∏–ø—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
2. **`test_dashboard_api.py`** - —Å–∫—Ä–∏–ø—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API
3. **`dashboard_signals_backup_20251007_163903`** - —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API:**
```
üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API –¥–∞—à–±–æ—Ä–¥–∞
========================================
‚úÖ API —Å–∏–≥–Ω–∞–ª–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç: 0 —Å–∏–≥–Ω–∞–ª–æ–≤
‚úÖ API —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
```

### **–°—Ç–∞—Ç—É—Å –¥–∞—à–±–æ—Ä–¥–∞:**
```
root 29365 53.3 6.5 297844 132324 pts/2 Sl 16:39 0:01 python3 dashboard.py --host 0.0.0.0 --port 5000
```

## üåê –î–æ—Å—Ç—É–ø –∫ –¥–∞—à–±–æ—Ä–¥—É

### **URL –¥–∞—à–±–æ—Ä–¥–∞:**
```
http://185.177.216.15:5000
```

### **API –¥–ª—è —Å–∏–≥–Ω–∞–ª–æ–≤:**
```
http://185.177.216.15:5000/api/signals
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤

### **–ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç —Å–∏–≥–Ω–∞–ª–∞:**
```json
{
    "symbol": "BTCUSDT",
    "signal": "LONG",
    "entry_price": 45123.5,
    "tp1": 46000.0,
    "tp2": 47000.0,
    "entry_time": "2025-10-07T15:45",
    "result": "OPEN",
    "timestamp": "2025-10-07T15:45:00"
}
```

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –¥–∞—à–±–æ—Ä–¥–∞:**
```bash
ssh root@185.177.216.15 'ps aux | grep dashboard'
```

### **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏:**
```bash
ssh root@185.177.216.15 'cd /root/atra/web && tail -f dashboard.log'
```

### **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API:**
```bash
ssh root@185.177.216.15 'cd /root/atra && python3 test_dashboard_api.py'
```

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### ‚úÖ **–ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞:** –¢–µ–ø–µ—Ä—å –ø–æ–ª—É—á–∞–µ—Ç —Å–∏–≥–Ω–∞–ª—ã –∏–∑ `signals_log`
- **–†–µ–∞–ª—å–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã:** –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å–∏–≥–Ω–∞–ª—ã, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –≤ Telegram
- **5 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–∏–≥–Ω–∞–ª–æ–≤:** –ö–∞–∫ –∑–∞–ø—Ä–æ—à–µ–Ω–æ
- **–£–ª—É—á—à–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:** –î–æ–±–∞–≤–ª–µ–Ω—ã TP1, TP2, –≤—Ä–µ–º—è –≤—Ö–æ–¥–∞, —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è:** –¢–æ–ª—å–∫–æ –∑–Ω–∞—á–∏–º—ã–µ —Å–∏–≥–Ω–∞–ª—ã (OPEN, DCA, TP, SL)

### üìä **–û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- –í –¥–∞—à–±–æ—Ä–¥–µ —Ç–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è **—Ä–µ–∞–ª—å–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã** –∏–∑ Telegram
- –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è **–ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 —Å–∏–≥–Ω–∞–ª–æ–≤** –∏–∑ `signals_log`
- –ö–∞–∂–¥—ã–π —Å–∏–≥–Ω–∞–ª —Å–æ–¥–µ—Ä–∂–∏—Ç **–ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é**: —Ü–µ–Ω–∞ –≤—Ö–æ–¥–∞, TP1, TP2, –≤—Ä–µ–º—è, —Ä–µ–∑—É–ª—å—Ç–∞—Ç

## üö® –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ï—Å–ª–∏ —Å–∏–≥–Ω–∞–ª—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è:

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:**
   ```bash
   ssh root@185.177.216.15 'sqlite3 /root/atra/trading.db "SELECT COUNT(*) FROM signals_log;"'
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø–∏—Å–∏:**
   ```bash
   ssh root@185.177.216.15 'sqlite3 /root/atra/trading.db "SELECT symbol, result, created_at FROM signals_log ORDER BY created_at DESC LIMIT 5;"'
   ```

3. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –¥–∞—à–±–æ—Ä–¥:**
   ```bash
   ssh root@185.177.216.15 'cd /root/atra && pkill -f dashboard && cd web && nohup python3 dashboard.py --host 0.0.0.0 --port 5000 > dashboard.log 2>&1 &'
   ```

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–î–∞—à–±–æ—Ä–¥ —É—Å–ø–µ—à–Ω–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω:**

- ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã:** –¢–µ–ø–µ—Ä—å –∏–∑ `signals_log` (—Ä–µ–∞–ª—å–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã Telegram)
- ‚úÖ **5 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–∏–≥–Ω–∞–ª–æ–≤:** –ö–∞–∫ –∑–∞–ø—Ä–æ—à–µ–Ω–æ
- ‚úÖ **–£–ª—É—á—à–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:** TP1, TP2, –≤—Ä–µ–º—è, —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- ‚úÖ **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è:** –¢–æ–ª—å–∫–æ –∑–Ω–∞—á–∏–º—ã–µ —Å–∏–≥–Ω–∞–ª—ã
- ‚úÖ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** API —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–î–∞—à–±–æ—Ä–¥ –¥–æ—Å—Ç—É–ø–µ–Ω:** http://185.177.216.15:5000
