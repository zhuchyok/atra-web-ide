## –†–µ–µ—Å—Ç—Ä –∞–≥–µ–Ω—Ç–Ω—ã—Ö –ø–æ–¥—Å–∏—Å—Ç–µ–º ATRA

| –ê–≥–µ–Ω—Ç / –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ / –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ | –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ API | –•—Ä–∞–Ω–∏–ª–∏—â–∞ / –ø–∞–º—è—Ç—å | –í–ª–∞–¥–µ–ª—å—Ü—ã | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è |
| --- | --- | --- | --- | --- | --- | --- |
| `signal_live` (–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–∏–≥–Ω–∞–ª–æ–≤) | –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤ 1h, –∞–Ω–∞–ª–∏–∑ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤, –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π | ‚úÖ **–ü—Ä–æ–º–ø—Ç –≤ `configs/agents/signal_live.yaml`** (v1.0) - —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, –∫–æ–Ω—Ç–µ–∫—Å—Ç, –ø—Ä–∏–º–µ—Ä—ã | - –ë–∏—Ä–∂–µ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (`data_sources_manager`, `improved_price_api`, Binance REST) <br> - AI –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä—ã (TP/SL, volume/volatility) <br> - Correlation manager, MTF confirmation | - –í—Ä–µ–º–µ–Ω–Ω–∞—è –ø–∞–º—è—Ç—å —Å–µ—Å—Å–∏–∏ (df, risk history) <br> - –ë–î `trading.db` (`signals_log`, `accepted_signals`) | –¢–∏–º –ª–∏–¥ —Å–∏–≥–Ω–∞–ª–∏–Ω–≥–∞ | ‚úÖ –ü—Ä–æ–º–ø—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω, –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `prompt_manager` |
| `auto_execution` | –ê–≤—Ç–æ–æ—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–π, –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ SL/TP, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ | ‚úÖ **–ü—Ä–æ–º–ø—Ç –≤ `configs/agents/auto_execution.yaml`** (v1.0) - —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –ø—Ä–∏–º–µ—Ä—ã | - Bitget —á–µ—Ä–µ–∑ `exchange_adapter` <br> - Order audit, acceptance DB | - `trading.db` (`active_positions`) <br> - `order_audit_log` | –¢–æ—Ä–≥–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞ | ‚úÖ –ü—Ä–æ–º–ø—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω, –≤–∫–ª—é—á–∞–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ auto-fix |
| `scripts/run_risk_monitor.py` | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–∞—â–∏—Ç–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤, –∞–≤—Ç–æ—Ñ–∏–∫—Å–µ—Ä SL/TP, Prometheus-–º–µ—Ç—Ä–∏–∫–∏ | ‚úÖ **–ü—Ä–æ–º–ø—Ç –≤ `configs/agents/risk_monitor.yaml`** (v1.0) - —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, –ø—Ä–∞–≤–∏–ª–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞, –ø–æ—Ä–æ–≥–∏ —Ä–∏—Å–∫–∞ | - Bitget API (plan/currentPlan/historyPlan) <br> - Prometheus —Ñ–∞–π–ª—ã <br> - Telegram alerts | - `order_audit_log` (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ plan SL/TP) <br> - `metrics/*.prom` | –†–∏—Å–∫-–æ—Ç–¥–µ–ª | ‚úÖ –ü—Ä–æ–º–ø—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω, –≤–∫–ª—é—á–∞–µ—Ç Think/Act/Observe –ª–æ–≥–∏–∫—É |
| `alert_notifications` / Telegram –±–æ—Ç—ã | –ê–ª–µ—Ä—Ç—ã –æ–± –æ—à–∏–±–∫–∞—Ö –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è, —Å—Ç–∞—Ç—É—Å–∞—Ö, manual HITL | –¢–µ–∫—Å—Ç–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã –≤ Python, –±–µ–∑ LM | - Telegram Bot API | - –õ–æ–≥–∏ `system.log`, —Ç–∞–±–ª–∏—Ü–∞ `alerts` (–ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏) | Support | –ö–∞–Ω–¥–∏–¥–∞—Ç –Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é HITL —Ñ–∏–¥–±–µ–∫–∞ (–∫–Ω–æ–ø–∫–∏ ¬´–≤–µ—Ä–Ω–æ/–æ—à–∏–±–∫–∞¬ª) |
| `monitoring_system` / `price_monitor_system` | –ó–¥–æ—Ä–æ–≤—å–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã, —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö, –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è | –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç LM, –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–∞—è –ª–æ–≥–∏–∫–∞ | - Prometheus / Grafana <br> - –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ API | - –õ–æ–≥–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ | DevOps | –ü—Ä–æ–ø–∏—Å–∞—Ç—å –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –∏ —Ä–µ–≥–ª–∞–º–µ–Ω—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π |
| Backtesting (`backtrader_adapter`, `forward_tester`) | –û—Ü–µ–Ω–∫–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π | –ù–µ—Ç –ø–æ–¥—Å–∫–∞–∑–æ–∫, —á–∏—Å—Ç–æ –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–π –∫–æ–¥ | - Historical OHLC (Binance/–∞—Ä—Ö–∏–≤—ã) | - JSON —Ñ–∞–π–ª–æ–≤—ã–µ –æ—Ç—á—ë—Ç—ã, `tests/` | Quant team | –¢—Ä–µ–±—É–µ—Ç—Å—è –≤–∫–ª—é—á–∏—Ç—å –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç Agent Ops –¥–ª—è —Å–∏–º—É–ª—è—Ü–∏–π |
| `ai_*` (AI –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä—ã) | TP/SL, position sizing, —Ñ–∏–ª—å—Ç—Ä—ã | –ü—Ä–æ–º–ø—Ç—ã –≤ Python (Gemini, etc.) | - Gemini API (—á–µ—Ä–µ–∑ ai_integration) | - `ai_*_data` –∫–∞—Ç–∞–ª–æ–≥–∏, JSON | AI –∫–æ–º–∞–Ω–¥–∞ | –ù—É–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –≤ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ |

### –ß—Ç–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏ —Ç—Ä–µ–±—É–µ—Ç —Ñ–∏–∫—Å–∞—Ü–∏–∏

1. ‚úÖ **–°–∏—Å—Ç–µ–º–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ –ø–æ–¥—Å–∫–∞–∑–∫–∏** - **–í–´–ü–û–õ–ù–ï–ù–û**: –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ `configs/agents/<agent>.yaml`  
2. **–ü–∞–º—è—Ç—å / lessons learned** —Ö—Ä–∞–Ω–∏—Ç—Å—è —Ä–∞–∑—Ä–æ–∑–Ω–µ–Ω–Ω–æ (SQLite, JSON). –ù–µ—Ç –µ–¥–∏–Ω–æ–≥–æ —Å–ª–æ—è.  
3. **–í–ª–∞–¥–µ–ª—å—Ü—ã –∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã** ‚Äî —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è –≤ Confluence/Notion.  
4. ‚úÖ –ù–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –∏ API-–¥–æ—Å—Ç—É–ø–æ–≤ –¥–ª—è –∞–≥–µ–Ω—Ç–æ–≤ - **–ß–ê–°–¢–ò–ß–ù–û**: –µ—Å—Ç—å `agent_identity.json`  
5. –î–ª—è –º–Ω–æ–≥–∏—Ö –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ —Å—Ç–æ–∏—Ç –æ–ø–∏—Å–∞—Ç—å, –∫–∞–∫ –æ–Ω–∏ —Å—Ç–∞–Ω—É—Ç –∞–≥–µ–Ω—Ç–∞–º–∏ (–¥–æ–±–∞–≤–∏—Ç—å —Å–ª–æ–π —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π).

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –∏ –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—è —Ç–∞–±–ª–∏—Ü—ã.  
2. ‚úÖ –í—ã–Ω–µ—Å—Ç–∏ –ø–æ–¥—Å–∫–∞–∑–∫–∏/–ø—Ä–æ–º–ø—Ç—ã –≤ `configs/agents/<agent>.yaml` - **–í–´–ü–û–õ–ù–ï–ù–û**  
3. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–∏–µ –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã –ø–µ—Ä–µ–≤–æ–¥–∏–º –≤ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã (–∫–∞–∫–∏–µ –¥–æ–±–∞–≤–ª—è—é—Ç LM).  
4. ‚úÖ –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —à–∞–±–ª–æ–Ω Think/Act/Observe –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏ - **–í–´–ü–û–õ–ù–ï–ù–û**: –ø—Ä–æ–º–ø—Ç—ã –≤–∫–ª—é—á–∞—é—Ç Think/Act/Observe –ª–æ–≥–∏–∫—É

## –ù–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å

- –í–≤–µ–¥—ë–Ω –µ–¥–∏–Ω—ã–π —Ç—Ä–µ–π—Å-–ª–æ–≥ `logs/agent_traces.log`, –∑–∞–ø–∏—Å–∏ –ø–∏—à—É—Ç—Å—è —á–µ—Ä–µ–∑ `observability.tracing.get_tracer()`.  
- –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –∫–ª—é—á–µ–≤—ã–µ –∞–≥–µ–Ω—Ç—ã (`signal_live`, `auto_execution`, `run_risk_monitor`) –ø–æ —ç—Ç–∞–ø–∞–º Think/Act/Observe.  
- ‚úÖ **–ü—Ä–æ–º–ø—Ç—ã —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω—ã**: `configs/agents/<agent>.yaml` - –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `observability.prompt_manager`, –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ trace (`prompt_loaded`).  
- –°–∫—Ä–∏–ø—Ç `scripts/process_feedback.py` –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç —Å–æ–±—ã—Ç–∏—è –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç —Ñ–∞–π–ª `observability/lessons.json` –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏ –∏ `order_audit_log`. –§–ª–∞–≥ `--apply-guidance` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç `configs/guidance/<agent>.json`.
- –ê–≥–µ–Ω—Ç—ã –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø–æ–¥–≥—Ä—É–∂–∞—é—Ç guidance (top-3 —É—Ä–æ–∫–∞) –∏ –ø—Ä–æ–º–ø—Ç—ã, —Ñ–∏–∫—Å–∏—Ä—É—é—Ç –∏—Ö –≤ —Ç—Ä–µ–π—Å–∞—Ö –∏ –ª–æ–≥–∞—Ö.
- –ü–æ–¥–∫–ª—é—á—ë–Ω rule-based LM-Judge (`observability/lm_judge.py`), –≤–µ—Ä–¥–∏–∫—Ç—ã —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –≤ —Ç—Ä–µ–π—Å–µ –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ Telegram-—Å–∏–≥–Ω–∞–ª–µ.
- –î–æ–±–∞–≤–ª–µ–Ω HITL-–∫–æ–Ω—Ç—É—Ä: –∫–Ω–æ–ø–∫–∏ `üëç/üëé/üõ† –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π` –≤ Telegram, feedback —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `signal_feedback` –∏ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ lessons.
- Guidance –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ `configs/prompts/<agent>.yaml` –∏ `docs/guidance/<agent>.md` –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è lessons.
- –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —á–µ—Ä–µ–∑ `configs/agent_identity.json` + `observability.agent_identity`: –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è `authorize_agent_action(...)`, –º–∞—Ç—Ä–∏—Ü–∞ –ø—Ä–∞–≤ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞ –≤ `docs/agent_identity_matrix.md`.
- –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥: —Ä–∞—Å—à–∏—Ä–∏—Ç—å HITL –Ω–∞ `auto_execution`/`risk_monitor` –∏ –≤—ã–Ω–µ—Å—Ç–∏ –º–µ—Ç—Ä–∏–∫–∏ –≤ –¥–∞—à–±–æ—Ä–¥—ã Prometheus.

## Agent Gym / —Å–∏–º—É–ª—è—Ü–∏–∏

- –°—Ü–µ–Ω–∞—Ä–∏–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ `agent_gym/scenarios.py` –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ JSON (`agent_gym/configs/*.json`).
- –ó–∞–ø—É—Å–∫: `python3 scripts/run_agent_gym.py --scenarios ...` ‚Üí –æ—Ç—á—ë—Ç –≤ `agent_gym/reports/`.
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ —Å–∏–≥–Ω–∞–ª–∞–º, –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—é –æ—Ä–¥–µ—Ä–æ–≤ –∏ –∑–∞—â–∏—Ç–µ –ø–æ–∑–∏—Ü–∏–π –∑–∞ –∑–∞–¥–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –≤—Ä–µ–º–µ–Ω–∏.

