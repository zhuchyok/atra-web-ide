# –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤

## –ü—Ä–æ–±–ª–µ–º–∞
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–æ–±—â–∏–ª, —á—Ç–æ –≤ —Å–∏–≥–Ω–∞–ª–∞—Ö –¥–ª—è –≤—Å–µ—Ö –º–æ–Ω–µ—Ç –≤—ã–≤–æ–¥—è—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ:
- MACD: üî¥ –ú–µ–¥–≤–µ–∂–∏–π
- –û–±—ä–µ–º: üü° –ù–∏–∂–µ —Å—Ä–µ–¥–Ω–µ–≥–æ  
- FGI: –í—ã—Å–æ–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (70.00)
- FVG: üü° –ü–û–í–´–®–ï–ù–ù–ê–Ø –ê–ö–¢–ò–í–ù–û–°–¢–¨
- MTF –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ: 0/100

## –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

### 1. FVG (Fair Value Gap) - –ò–°–ü–†–ê–í–õ–ï–ù–û ‚úÖ
**–ü—Ä–æ–±–ª–µ–º–∞**: –í —Ñ—É–Ω–∫—Ü–∏–∏ `get_technical_indicators` –Ω–µ –≤—ã—á–∏—Å–ª—è–ª—Å—è `fvg_status`, –ø–æ—ç—Ç–æ–º—É –≤ `messaging_service.py` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–æ—Å—å –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ "–ü–û–í–´–®–ï–ù–ù–ê–Ø –ê–ö–¢–ò–í–ù–û–°–¢–¨" –¥–ª—è –≤—Å–µ—Ö –º–æ–Ω–µ—Ç.

**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω–æ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ `fvg_status` –≤ —Ñ—É–Ω–∫—Ü–∏—é `get_technical_indicators` –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ª–æ–≥–∏–∫–∏ —Ä–∞—Å—á–µ—Ç–∞ –∞–Ω–æ–º–∞–ª–∏–π (—Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –æ–±—ä–µ–º/–∫–∞–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏—è):

```python
# FVG (Fair Value Gap) - —Ä–∞—Å—á–µ—Ç –∞–Ω–æ–º–∞–ª–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è –æ–±—ä–µ–º/–∫–∞–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏—è
anomaly_data = await get_anomaly_data_with_fallback(symbol)
v24 = float(anomaly_data.get("volume_24h", 0))
mc = float(anomaly_data.get("market_cap", 0))
volume_to_cap_ratio = v24 / mc

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º —É—Ä–æ–≤–µ–Ω—å –∞–Ω–æ–º–∞–ª–∏–∏
if volume_to_cap_ratio >= 0.8:
    fvg_status = "–ú–ê–ö–°–ò–ú–ê–õ–¨–ù–ê–Ø –ê–ù–û–ú–ê–õ–ò–Ø"
elif volume_to_cap_ratio >= 0.5:
    fvg_status = "–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ê–ö–¢–ò–í–ù–û–°–¢–¨"
elif volume_to_cap_ratio >= 0.2:
    fvg_status = "–ê–ù–û–ú–ê–õ–¨–ù–ê–Ø –ê–ö–¢–ò–í–ù–û–°–¢–¨"
elif volume_to_cap_ratio >= 0.1:
    fvg_status = "–í–´–°–û–ö–ê–Ø –ê–ö–¢–ò–í–ù–û–°–¢–¨"
elif volume_to_cap_ratio >= 0.04:
    fvg_status = "–ü–û–í–´–®–ï–ù–ù–ê–Ø –ê–ö–¢–ò–í–ù–û–°–¢–¨"
else:
    fvg_status = "–ù–û–†–ú–ê–õ–¨–ù–ê–Ø –ê–ö–¢–ò–í–ù–û–°–¢–¨"
```

### 2. MACD, RSI, –û–±—ä–µ–º - –†–ê–ë–û–¢–ê–Æ–¢ –ü–†–ê–í–ò–õ–¨–ù–û ‚úÖ
**–ü—Ä–æ–≤–µ—Ä–∫–∞**: –°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑–∞–ª, —á—Ç–æ:
- **RSI** - –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–Ω–µ—Ç—ã
- **MACD** - –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ (MACD > MACD_signal ‚Üí –ë—ã—á–∏–π, –∏–Ω–∞—á–µ –ú–µ–¥–≤–µ–∂–∏–π)
- **–û–±—ä–µ–º** - —Å—Ç–∞—Ç—É—Å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ `volume_ratio`

### 3. FGI - –†–ê–ë–û–¢–ê–ï–¢ –ü–†–ê–í–ò–õ–¨–ù–û ‚úÖ
**–ü—Ä–æ–≤–µ—Ä–∫–∞**: FGI (Fear & Greed Index) - –≥–ª–æ–±–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å –¥–ª—è –≤—Å–µ–≥–æ —Ä—ã–Ω–∫–∞, –ø–æ—ç—Ç–æ–º—É –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –¥–ª—è –≤—Å–µ—Ö –º–æ–Ω–µ—Ç - —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

### 4. MTF –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ - –†–ê–ë–û–¢–ê–ï–¢ –ü–†–ê–í–ò–õ–¨–ù–û ‚úÖ
**–ü—Ä–æ–≤–µ—Ä–∫–∞**: –§—É–Ω–∫—Ü–∏—è `build_mtf_accumulation_line` –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–Ω–µ—Ç—ã —á–µ—Ä–µ–∑ `db.get_accum_events(symbol, window_sec)`.

### 5. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ - –†–ê–ë–û–¢–ê–ï–¢ –ü–†–ê–í–ò–õ–¨–ù–û ‚úÖ
**–ü—Ä–æ–≤–µ—Ä–∫–∞**: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ —Å–∏–º–≤–æ–ª—É (`cache_key_symbol = symbol`), –ø–æ—ç—Ç–æ–º—É –∫–∞–∂–¥–∞—è –º–æ–Ω–µ—Ç–∞ –∏–º–µ–µ—Ç —Å–≤–æ–π –∫—ç—à.

## –†–µ–∑—É–ª—å—Ç–∞—Ç

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:
1. ‚úÖ **FVG —Å—Ç–∞—Ç—É—Å** - —Ç–µ–ø–µ—Ä—å –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–Ω–µ—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ –∏ –æ–±—ä–µ–º–∞
2. ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω fvg_status** –≤ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Ñ—É–Ω–∫—Ü–∏–∏ `get_technical_indicators`

### –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—é—â–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ:
1. ‚úÖ **RSI** - –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–Ω–µ—Ç—ã
2. ‚úÖ **MACD** - –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–Ω–µ—Ç—ã  
3. ‚úÖ **–û–±—ä–µ–º** - –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–Ω–µ—Ç—ã
4. ‚úÖ **FGI** - –≥–ª–æ–±–∞–ª—å–Ω—ã–π (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
5. ‚úÖ **MTF –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ** - –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–Ω–µ—Ç—ã
6. ‚úÖ **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –§—É–Ω–∫—Ü–∏—è `get_technical_indicators` (signal_live.py:11452-11530)
- –í—ã—á–∏—Å–ª—è–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–∏–º–≤–æ–ª–∞
- –ö—ç—à–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ —Å–∏–º–≤–æ–ª—É
- –¢–µ–ø–µ—Ä—å –≤–∫–ª—é—á–∞–µ—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ `fvg_status`

### –§—É–Ω–∫—Ü–∏—è `build_mtf_accumulation_line` (signal_live.py:1473-1557)
- –ü–æ–ª—É—á–∞–µ—Ç MTF –¥–∞–Ω–Ω—ã–µ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∏–º–≤–æ–ª–∞
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `db.get_accum_events(symbol, window_sec)`

### –§—É–Ω–∫—Ü–∏—è `get_fgi_value` (context_service.py:7-24)
- –ü–æ–ª—É—á–∞–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å —Å—Ç—Ä–∞—Ö–∞ –∏ –∂–∞–¥–Ω–æ—Å—Ç–∏
- –ö—ç—à–∏—Ä—É–µ—Ç—Å—è –Ω–∞ 30 –º–∏–Ω—É—Ç
- –û–¥–∏–Ω–∞–∫–æ–≤—ã–π –¥–ª—è –≤—Å–µ—Ö –º–æ–Ω–µ—Ç (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤ —Ç–æ–º, —á—Ç–æ **FVG —Å—Ç–∞—Ç—É—Å –Ω–µ –≤—ã—á–∏—Å–ª—è–ª—Å—è** –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–æ—Å—å –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö –º–æ–Ω–µ—Ç. –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–∏–≥–Ω–∞–ª–æ–≤ —Ç–µ–ø–µ—Ä—å –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–Ω–µ—Ç—ã:

- **RSI, MACD, –û–±—ä–µ–º, FVG** - –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–Ω–µ—Ç—ã
- **FGI** - –≥–ª–æ–±–∞–ª—å–Ω—ã–π (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
- **MTF –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ** - –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–Ω–µ—Ç—ã

–°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–Ω–µ—Ç—ã –≤ —Å–∏–≥–Ω–∞–ª–∞—Ö.
