# üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –†–ê–°–ß–ï–¢–ê FVG –ê–ù–û–ú–ê–õ–ò–ô

## üéØ **–ü–†–û–ë–õ–ï–ú–ê**
**FVG –ø–æ–∫–∞–∑—ã–≤–∞–ª —Å—Ç–∞—Ç–∏—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ "üü¢ –í–´–°–û–ö–ê–Ø –ê–ö–¢–ò–í–ù–û–°–¢–¨" –≤–º–µ—Å—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞ –∞–Ω–æ–º–∞–ª–∏–π –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–Ω–µ—Ç—ã**

---

## üîç **–ê–ù–ê–õ–ò–ó –ü–†–û–ë–õ–ï–ú–´**

### **–ü—Ä–æ–±–ª–µ–º–∞ –≤ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ:**
–í `signal_live_hybrid_fixed.py` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–æ—Å—å —Å—Ç–∞—Ç–∏—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:
```python
anomalies_line="‚Ä¢ FVG: üü¢ –í–´–°–û–ö–ê–Ø –ê–ö–¢–ò–í–ù–û–°–¢–¨",
```

### **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∏–∑ —Ä–∞–±–æ—á–µ–π –≤–µ—Ä—Å–∏–∏ –æ—Ç 19 –æ–∫—Ç—è–±—Ä—è:**
–í `signal_live.py` –±—ã–ª –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Ä–∞—Å—á–µ—Ç FVG –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–æ–º–∞–ª–∏–π:
```python
# –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –∞–Ω–æ–º–∞–ª–∏–∏
circles_count, activity_description, risk_display, data_ok = await calculate_anomaly_circles_with_fallback(
    symbol, signal_type
)

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º —É—Ä–æ–≤–µ–Ω—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
if circles_count >= 5:
    activity_level = "–ú–ê–ö–°–ò–ú–ê–õ–¨–ù–ê–Ø –ê–ö–¢–ò–í–ù–û–°–¢–¨"
    color_emoji = "üî¥"
elif circles_count >= 4:
    activity_level = "–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ê–ö–¢–ò–í–ù–û–°–¢–¨"
    color_emoji = "üü†"
elif circles_count >= 3:
    activity_level = "–ê–ù–û–ú–ê–õ–¨–ù–ê–Ø –ê–ö–¢–ò–í–ù–û–°–¢–¨"
    color_emoji = "üü†"
elif circles_count >= 2:
    activity_level = "–í–´–°–û–ö–ê–Ø –ê–ö–¢–ò–í–ù–û–°–¢–¨"
    color_emoji = "üü¢"
else:  # circles_count == 1
    activity_level = "–ü–û–í–´–®–ï–ù–ù–ê–Ø –ê–ö–¢–ò–í–ù–û–°–¢–¨"
    color_emoji = "üü°"
```

---

## ‚úÖ **–í–ù–ï–î–†–ï–ù–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï**

### **1. –°–æ–∑–¥–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `calculate_fvg_anomalies(symbol: str, signal_type: str)`:**

```python
async def calculate_fvg_anomalies(symbol: str, signal_type: str = "LONG") -> str:
    """
    –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç FVG (Fair Value Gap) –∞–Ω–æ–º–∞–ª–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–±—ä–µ–º–∞ –∏ –∫–∞–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏–∏.
    –õ–æ–≥–∏–∫–∞ –≤–∑—è—Ç–∞ –∏–∑ —Ä–∞–±–æ—á–µ–π –≤–µ—Ä—Å–∏–∏ signal_live.py –æ—Ç 19 –æ–∫—Ç—è–±—Ä—è.
    """
    try:
        # –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∞–Ω–æ–º–∞–ª–∏–π
        from signal_live import (
            calculate_anomaly_circles_with_fallback,
            get_anomaly_emoji
        )
        
        # –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –∞–Ω–æ–º–∞–ª–∏–∏ (–∫–∞–∫ –≤ —Ä–∞–±–æ—á–µ–π –≤–µ—Ä—Å–∏–∏)
        circles_count, activity_description, risk_display, data_ok = await calculate_anomaly_circles_with_fallback(
            symbol, signal_type
        )
        
        if data_ok and circles_count is not None:
            if circles_count > 0:
                # –ï—Å—Ç—å –∞–Ω–æ–º–∞–ª–∏–∏ - –æ–ø—Ä–µ–¥–µ–ª—è–µ–º —É—Ä–æ–≤–µ–Ω—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
                if circles_count >= 5:
                    return "üî¥ –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–ê–Ø –ê–ö–¢–ò–í–ù–û–°–¢–¨"
                elif circles_count >= 4:
                    return "üü† –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ê–ö–¢–ò–í–ù–û–°–¢–¨"
                elif circles_count >= 3:
                    return "üü† –ê–ù–û–ú–ê–õ–¨–ù–ê–Ø –ê–ö–¢–ò–í–ù–û–°–¢–¨"
                elif circles_count >= 2:
                    return "üü¢ –í–´–°–û–ö–ê–Ø –ê–ö–¢–ò–í–ù–û–°–¢–¨"
                else:  # circles_count == 1
                    return "üü° –ü–û–í–´–®–ï–ù–ù–ê–Ø –ê–ö–¢–ò–í–ù–û–°–¢–¨"
            else:
                return "‚ö™ –ù–û–†–ú–ê–õ–¨–ù–ê–Ø –ê–ö–¢–ò–í–ù–û–°–¢–¨"
        else:
            return "‚ö™ –ù–ï–¢ –î–ê–ù–ù–´–•"
            
    except Exception as e:
        logger.error("–û—à–∏–±–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ FVG –¥–ª—è %s: %s", symbol, e)
        return "‚ö™ –ù–ï–¢ –î–ê–ù–ù–´–•"
```

### **2. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤ —Ñ—É–Ω–∫—Ü–∏—é –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–∏–≥–Ω–∞–ª–∞:**

**–ë—ã–ª–æ:**
```python
anomalies_line="‚Ä¢ FVG: üü¢ –í–´–°–û–ö–ê–Ø –ê–ö–¢–ò–í–ù–û–°–¢–¨",
```

**–°—Ç–∞–ª–æ:**
```python
# –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º FVG –∞–Ω–æ–º–∞–ª–∏–∏ (–∫–∞–∫ –≤ —Ä–∞–±–æ—á–µ–π –≤–µ—Ä—Å–∏–∏ –æ—Ç 19 –æ–∫—Ç—è–±—Ä—è)
fvg_status = await calculate_fvg_anomalies(symbol, signal_type)

# –í —Å–æ–æ–±—â–µ–Ω–∏–∏
anomalies_line=f"‚Ä¢ FVG: {fvg_status}",
```

---

## üéØ **–†–ï–ó–£–õ–¨–¢–ê–¢**

### **‚úÖ –ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê!**

**–¢–µ–ø–µ—Ä—å FVG —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–Ω–µ—Ç—ã:**

#### **–í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è FVG:**
- **üî¥ –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–ê–Ø –ê–ö–¢–ò–í–ù–û–°–¢–¨** - 5 –∫—Ä—É–∂–∫–æ–≤ (—ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–∞—è –∞–Ω–æ–º–∞–ª–∏—è)
- **üü† –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ê–ö–¢–ò–í–ù–û–°–¢–¨** - 4 –∫—Ä—É–∂–∫–∞ (–≤—ã—Å–æ–∫–∞—è –∞–Ω–æ–º–∞–ª–∏—è)
- **üü† –ê–ù–û–ú–ê–õ–¨–ù–ê–Ø –ê–ö–¢–ò–í–ù–û–°–¢–¨** - 3 –∫—Ä—É–∂–∫–∞ (–∞–Ω–æ–º–∞–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)
- **üü¢ –í–´–°–û–ö–ê–Ø –ê–ö–¢–ò–í–ù–û–°–¢–¨** - 2 –∫—Ä—É–∂–∫–∞ (–≤—ã—Å–æ–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)
- **üü° –ü–û–í–´–®–ï–ù–ù–ê–Ø –ê–ö–¢–ò–í–ù–û–°–¢–¨** - 1 –∫—Ä—É–∂–æ–∫ (–ø–æ–≤—ã—à–µ–Ω–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)
- **‚ö™ –ù–û–†–ú–ê–õ–¨–ù–ê–Ø –ê–ö–¢–ò–í–ù–û–°–¢–¨** - 0 –∫—Ä—É–∂–∫–æ–≤ (–Ω–æ—Ä–º–∞–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)
- **‚ö™ –ù–ï–¢ –î–ê–ù–ù–´–•** - –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

#### **–õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞:**
1. **–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** - –æ–±—ä–µ–º —Ç–æ—Ä–≥–æ–≤ –∑–∞ 24 —á–∞—Å–∞ –∏ —Ä—ã–Ω–æ—á–Ω–∞—è –∫–∞–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏—è
2. **–†–∞—Å—á–µ—Ç —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è** - `volume_24h / market_cap`
3. **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è** - –ø–æ –ø–æ—Ä–æ–≥–æ–≤—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º:
   - `‚â• 0.05` ‚Üí **5 –∫—Ä—É–∂–∫–æ–≤** (–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∞–Ω–æ–º–∞–ª–∏—è)
   - `‚â• 0.03` ‚Üí **4 –∫—Ä—É–∂–∫–∞** (–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)
   - `‚â• 0.02` ‚Üí **3 –∫—Ä—É–∂–∫–∞** (–ê–Ω–æ–º–∞–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)
   - `‚â• 0.01` ‚Üí **2 –∫—Ä—É–∂–∫–∞** (–í—ã—Å–æ–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)
   - `‚â• 0.005` ‚Üí **1 –∫—Ä—É–∂–æ–∫** (–ü–æ–≤—ã—à–µ–Ω–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)
   - `< 0.005` ‚Üí **0 –∫—Ä—É–∂–∫–æ–≤** (–ù–æ—Ä–º–∞–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)

#### **–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –¥–ª—è SHORT —Å–∏–≥–Ω–∞–ª–æ–≤:**
- –ü–æ—Ä–æ–≥–∏ —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç—Å—è –≤ 1.2 —Ä–∞–∑–∞ –¥–ª—è SHORT —Å–∏–≥–Ω–∞–ª–æ–≤
- –≠—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–µ –æ–±—ä–µ–º—ã –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∞–Ω–æ–º–∞–ª–∏–∏

---

## üìä **–ü–†–ò–ú–ï–†–´ –†–ê–ë–û–¢–´**

### **–ü—Ä–∏–º–µ—Ä 1: BTCUSDT (–≤—ã—Å–æ–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)**
```
[FVG] BTCUSDT: circles=2, activity=–í—ã—Å–æ–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, data_ok=True
Volume: $50,000,000, Market Cap: $2,000,000,000
Ratio: 0.025 (‚â• 0.01)
–†–µ–∑—É–ª—å—Ç–∞—Ç: "üü¢ –í–´–°–û–ö–ê–Ø –ê–ö–¢–ò–í–ù–û–°–¢–¨"
```

### **–ü—Ä–∏–º–µ—Ä 2: ALTCOIN (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)**
```
[FVG] ALTUSDT: circles=4, activity=–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, data_ok=True
Volume: $30,000,000, Market Cap: $800,000,000
Ratio: 0.0375 (‚â• 0.03)
–†–µ–∑—É–ª—å—Ç–∞—Ç: "üü† –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ê–ö–¢–ò–í–ù–û–°–¢–¨"
```

### **–ü—Ä–∏–º–µ—Ä 3: –ù–∏–∑–∫–∏–π –æ–±—ä–µ–º**
```
[FVG] LOWUSDT: circles=0, activity=–ù–æ—Ä–º–∞–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, data_ok=True
Volume: $1,000,000, Market Cap: $500,000,000
Ratio: 0.002 (< 0.005)
–†–µ–∑—É–ª—å—Ç–∞—Ç: "‚ö™ –ù–û–†–ú–ê–õ–¨–ù–ê–Ø –ê–ö–¢–ò–í–ù–û–°–¢–¨"
```

### **–ü—Ä–∏–º–µ—Ä 4: –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö**
```
[FVG] NEWUSDT: circles=None, activity=–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –∞–Ω–æ–º–∞–ª–∏–π, data_ok=False
–†–µ–∑—É–ª—å—Ç–∞—Ç: "‚ö™ –ù–ï–¢ –î–ê–ù–ù–´–•"
```

---

## üéØ **–ë–õ–û–ö–ò–†–û–í–ö–ê –°–ò–ì–ù–ê–õ–û–í –ù–ê –û–°–ù–û–í–ï FVG**

### **–õ–æ–≥–∏–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (–∏–∑ —Ä–∞–±–æ—á–µ–π –≤–µ—Ä—Å–∏–∏):**
- **0 –∫—Ä—É–∂–∫–æ–≤** ‚Üí ‚ùå **–ë–õ–û–ö–ò–†–û–í–ö–ê** (–Ω–∏–∑–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å/–ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å)
- **1-3 –∫—Ä—É–∂–∫–∞** ‚Üí ‚úÖ **–†–ê–ó–†–ï–®–ï–ù–ò–ï** (–Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ –∞–Ω–æ–º–∞–ª–∏–∏)
- **4 –∫—Ä—É–∂–∫–∞** ‚Üí ‚ö†Ô∏è **–ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï** (—Å–Ω–∏–∂–∞–µ–º —Ä–∏—Å–∫ –∏ –ø–ª–µ—á–æ)
- **5 –∫—Ä—É–∂–∫–æ–≤** ‚Üí ‚ùå **–ë–õ–û–ö–ò–†–û–í–ö–ê** (—ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–∞—è –∞–Ω–æ–º–∞–ª–∏—è/–º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏)

### **–ü—Ä–∏—á–∏–Ω—ã –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏:**
- **0 –∫—Ä—É–∂–∫–æ–≤**: –ù–∏–∑–∫–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—é
- **5 –∫—Ä—É–∂–∫–æ–≤**: –ü—Ä–∏–∑–Ω–∞–∫ pump & dump –∏–ª–∏ –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–π

---

## üöÄ **–°–ò–°–¢–ï–ú–ê –ì–û–¢–û–í–ê –ö –≠–ö–°–ü–õ–£–ê–¢–ê–¶–ò–ò!**

**–†–∞—Å—á–µ—Ç FVG –∞–Ω–æ–º–∞–ª–∏–π —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –≤ —Ä–∞–±–æ—á–µ–π –≤–µ—Ä—Å–∏–∏ –æ—Ç 19 –æ–∫—Ç—è–±—Ä—è!**

**–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
- ‚úÖ –ü–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ–±—ä–µ–º–∞ –∏ –∫–∞–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ volume/market_cap
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —É—Ä–æ–≤–µ–Ω—å –∞–Ω–æ–º–∞–ª–∏–∏ –ø–æ –ø–æ—Ä–æ–≥–æ–≤—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç –ø–æ—Ä–æ–≥–∏ –¥–ª—è SHORT —Å–∏–≥–Ω–∞–ª–æ–≤ (+20%)
- ‚úÖ –õ–æ–≥–∏—Ä—É–µ—Ç –≤—Å–µ —ç—Ç–∞–ø—ã —Ä–∞—Å—á–µ—Ç–∞ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
- ‚úÖ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç fallback
- ‚úÖ –ú–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —Å–∏–≥–Ω–∞–ª—ã –ø—Ä–∏ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã—Ö –∞–Ω–æ–º–∞–ª–∏—è—Ö

**FVG —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å —Ä—ã–Ω–æ—á–Ω—ã—Ö –∞–Ω–æ–º–∞–ª–∏–π –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–Ω–µ—Ç—ã!**
