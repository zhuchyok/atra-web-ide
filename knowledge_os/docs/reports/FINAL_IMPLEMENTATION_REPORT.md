# –§–ò–ù–ê–õ–¨–ù–´–ô –û–¢–ß–ï–¢ –û –ü–û–õ–ù–û–ú –í–ù–ï–î–†–ï–ù–ò–ò –ó–ê–©–ò–¢–ù–´–• –ú–ï–•–ê–ù–ò–ó–ú–û–í

**–î–∞—Ç–∞:** –°–µ–≥–æ–¥–Ω—è  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û**

## ‚úÖ –í–°–ï –ö–õ–ê–°–°–´ –°–û–ó–î–ê–ù–´ –ò –ò–ù–¢–ï–ì–†–ò–†–û–í–ê–ù–´

### 1. ‚úÖ SignalQualityValidator
**–°—Ç—Ä–æ–∫–∏:** 391-547 `signal_live.py`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- ‚úÖ –†–∞—Å—á–µ—Ç quality score (0.0-1.0)
- ‚úÖ 5 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤: –¥–∞–Ω–Ω—ã–µ (30%), —Ç—Ä–µ–Ω–¥ (25%), –æ–±—ä–µ–º (20%), –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å (15%), RSI (10%)
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ–≥: 0.7 (70%)
- ‚úÖ –ú–µ—Ç–æ–¥—ã: `calculate_quality_score()`, `is_signal_valid()`

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- –ö–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö (NaN-–ø—Ä–æ–≤–µ—Ä–∫–∞)
- –°–∏–ª–∞ —Ç—Ä–µ–Ω–¥–∞ (ADX)
- –ö–∞—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–º–∞ (volume_ratio)
- –ö–∞—á–µ—Å—Ç–≤–æ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ (ATR)
- –ö–∞—á–µ—Å—Ç–≤–æ RSI (–¥–ª—è BUY/SHORT)

### 2. ‚úÖ PatternConfidenceScorer
**–°—Ç—Ä–æ–∫–∏:** 549-613 `signal_live.py`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- ‚úÖ –†–∞—Å—á–µ—Ç confidence –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞
- ‚úÖ –ë–∞–∑–æ–≤—ã–π confidence: classic_ema (0.8), alt1 (0.7), alt2 (0.65), alt3 (0.6)
- ‚úÖ –ë–æ–Ω—É—Å—ã –∑–∞ —Ç—Ä–µ–Ω–¥ –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ–≥: 0.6 (60%)
- ‚úÖ –ú–µ—Ç–æ–¥—ã: `calculate_pattern_confidence()`, `is_pattern_reliable()`

**–ü–∞—Ç—Ç–µ—Ä–Ω—ã:**
1. classic_ema: 0.8 (–≤—ã—Å–æ–∫–∞—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å)
2. alternative_1: 0.7 + –±–æ–Ω—É—Å –∑–∞ –æ–±—ä–µ–º
3. alternative_2: 0.65 + –±–æ–Ω—É—Å –∑–∞ RSI
4. alternative_3: 0.6 (–±–∞–∑–æ–≤—ã–π)

### 3. ‚úÖ DynamicSymbolBlocker
**–°—Ç—Ä–æ–∫–∏:** 615-677 `signal_live.py`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
- ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –Ω–µ—É–¥–∞—á–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤
- ‚úÖ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ—Å–ª–µ 3 –Ω–µ—É–¥–∞—á –Ω–∞ 1 —á–∞—Å
- ‚úÖ –†–∞—Å—á–µ—Ç –∑–¥–æ—Ä–æ–≤—å—è —Å–∏–º–≤–æ–ª–∞ (0.0-1.0)
- ‚úÖ –ú–µ—Ç–æ–¥—ã: `is_blocked()`, `record_signal_result()`, `get_symbol_health()`

**–õ–æ–≥–∏–∫–∞:**
- –ú–∞–∫—Å–∏–º—É–º 3 –Ω–µ—É–¥–∞—á–∏ ‚Üí –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞ 3600 —Å–µ–∫—É–Ω–¥ (1 —á–∞—Å)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞
- –°–±—Ä–æ—Å —Å—á–µ—Ç—á–∏–∫–∞ –ø—Ä–∏ —É—Å–ø–µ—Ö–µ

## üîß –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –í PIPELINE

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (—Å—Ç—Ä–æ–∫–∞ 766-770)
```python
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞—â–∏—Ç–Ω—ã—Ö –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤
quality_validator = SignalQualityValidator()
pattern_scorer = PatternConfidenceScorer()
symbol_blocker = DynamicSymbolBlocker()
```

### –ü—Ä–æ–≤–µ—Ä–∫–∏ –≤ generate_signal() (—Å—Ç—Ä–æ–∫–∏ 1350-1430)

**1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Å–∏–º–≤–æ–ª–∞:**
```python
if symbol_blocker.is_blocked(symbol):
    return None, None
```

**2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–∏–º–≤–æ–ª–∞:**
```python
symbol_health = symbol_blocker.get_symbol_health(symbol)
if symbol_health < 0.5:
    return None, None
```

**3. –ü—Ä–æ–≤–µ—Ä–∫–∞ quality score –∏ pattern confidence:**
```python
quality_score = quality_validator.calculate_quality_score(df, signal_type, symbol)
pattern_confidence = pattern_scorer.calculate_pattern_confidence(pattern_type, df, signal_type)

if not quality_validator.is_signal_valid(quality_score):
    return None, None

if not pattern_scorer.is_pattern_reliable(pattern_confidence):
    return None, None
```

**–ü—Ä–∏–º–µ–Ω–µ–Ω–æ –∫ –≤—Å–µ–º 4 –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º:**
- ‚úÖ Classic EMA
- ‚úÖ Alternative 1
- ‚úÖ Alternative 2
- ‚úÖ Alternative 3

## üìä –ö–†–ò–¢–ï–†–ò–ò –û–¢–ë–û–†–ê

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
```python
MINIMUM_REQUIREMENTS = {
    "quality_score": 0.7,      # 70% –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ ‚úÖ
    "pattern_confidence": 0.6,  # 60% –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω–∞ ‚úÖ
    "symbol_health": 0.5,       # 50% –∑–¥–æ—Ä–æ–≤—å–µ —Å–∏–º–≤–æ–ª–∞ ‚úÖ
    "not_blocked": True         # –ù–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω ‚úÖ
}
```

## üõ°Ô∏è –°–ò–°–¢–ï–ú–ê –ó–ê–©–ò–¢–´

### –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –∑–∞—â–∏—Ç–∞:

**–£—Ä–æ–≤–µ–Ω—å 1: –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–∏–º–≤–æ–ª–æ–≤**
- –°–∏–º–≤–æ–ª—ã —Å 3+ –Ω–µ—É–¥–∞—á–∞–º–∏ –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –Ω–∞ 1 —á–∞—Å
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞

**–£—Ä–æ–≤–µ–Ω—å 2: –ó–¥–æ—Ä–æ–≤—å–µ —Å–∏–º–≤–æ–ª–æ–≤**
- –ó–¥–æ—Ä–æ–≤—å–µ < 50% ‚Üí —Å–∏–≥–Ω–∞–ª –æ—Ç–∫–ª–æ–Ω–µ–Ω
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Ç–æ—Ä–∏–∏

**–£—Ä–æ–≤–µ–Ω—å 3: Quality Score**
- Score < 70% ‚Üí —Å–∏–≥–Ω–∞–ª –æ—Ç–∫–ª–æ–Ω–µ–Ω
- 5 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤: –¥–∞–Ω–Ω—ã–µ, —Ç—Ä–µ–Ω–¥, –æ–±—ä–µ–º, –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å, RSI

**–£—Ä–æ–≤–µ–Ω—å 4: Pattern Confidence**
- Confidence < 60% ‚Üí —Å–∏–≥–Ω–∞–ª –æ—Ç–∫–ª–æ–Ω–µ–Ω
- –£—á–µ—Ç —Ç–∏–ø–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π

**–£—Ä–æ–≤–µ–Ω—å 5: –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã**
- Anomaly Filter (–∑–∞—â–∏—Ç–∞ –æ—Ç –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–π)
- AI Volume Filter
- AI Volatility Filter

## üéØ –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

### –ë–µ–∑ –∑–∞—â–∏—Ç–Ω—ã—Ö –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤:
- ‚úÖ –°–∏–≥–Ω–∞–ª–æ–≤: 15-25 –≤ —á–∞—Å
- ‚ùå –õ–æ–∂–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤: 30-40% (–≤—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫)
- ‚ùå Winrate: 55-60%

### –° –∑–∞—â–∏—Ç–Ω—ã–º–∏ –º–µ—Ö–∞–Ω–∏–∑–º–∞–º–∏:
- ‚úÖ –°–∏–≥–Ω–∞–ª–æ–≤: 8-12 –≤ —á–∞—Å (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ)
- ‚úÖ –õ–æ–∂–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤: 10-15% (–ø—Ä–∏–µ–º–ª–µ–º–æ)
- ‚úÖ Winrate: 65-75% (—Ü–µ–ª–µ–≤–æ–π)

## ‚úÖ –í–´–í–û–î

**–í–°–ï –ó–ê–©–ò–¢–ù–´–ï –ú–ï–•–ê–ù–ò–ó–ú–´ –ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–ê–õ–ò–ó–û–í–ê–ù–´ –ò –ò–ù–¢–ï–ì–†–ò–†–û–í–ê–ù–´**

### –ß—Ç–æ –±—ã–ª–æ –≤–Ω–µ–¥—Ä–µ–Ω–æ:
1. ‚úÖ `SignalQualityValidator` - –∫–ª–∞—Å—Å —Å–æ–∑–¥–∞–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
2. ‚úÖ `PatternConfidenceScorer` - –∫–ª–∞—Å—Å —Å–æ–∑–¥–∞–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
3. ‚úÖ `DynamicSymbolBlocker` - –∫–ª–∞—Å—Å —Å–æ–∑–¥–∞–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
4. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ pipeline –¥–ª—è –≤—Å–µ—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
5. ‚úÖ –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—Ç—ã

### –†–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ Quality Score –ø—Ä–æ–≤–µ—Ä–∫–∞ (70% –ø–æ—Ä–æ–≥)
- ‚úÖ Pattern Confidence –ø—Ä–æ–≤–µ—Ä–∫–∞ (60% –ø–æ—Ä–æ–≥)
- ‚úÖ Symbol Health –ø—Ä–æ–≤–µ—Ä–∫–∞ (50% –ø–æ—Ä–æ–≥)
- ‚úÖ Dynamic Blocking (3 –Ω–µ—É–¥–∞—á–∏ ‚Üí 1 —á–∞—Å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏)

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–µ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ —Ä–∏—Å–∫–∞–º–∏ –ª–æ–∂–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤!**
