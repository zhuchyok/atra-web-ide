# üéØ –û–¢–ß–ï–¢: –î–û–ë–ê–í–õ–ï–ù–ò–ï –°–¢–û–ü-–õ–û–°–°–ê –í –°–û–û–ë–©–ï–ù–ò–Ø –ü–†–ò–ù–Ø–¢–ò–Ø –°–ò–ì–ù–ê–õ–û–í

## üìä **–í–´–ü–û–õ–ù–ï–ù–ù–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø**

### 1. **–û–ë–ù–û–í–õ–ï–ù–ò–ï –§–£–ù–ö–¶–ò–ô –°–û–û–ë–©–ï–ù–ò–ô**

**–§–∞–π–ª:** `messaging_service.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `build_accept_message()`:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `stop_loss_price: float = None`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ —Å—Ç–æ–ø-–ª–æ—Å—Å–∞
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–æ–ø-–ª–æ—Å—Å–∞ –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `build_dca_accept_message()`:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `stop_loss_price: float = None`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ —Å—Ç–æ–ø-–ª–æ—Å—Å–∞ –¥–ª—è DCA
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–æ–ø-–ª–æ—Å—Å–∞ –≤ DCA —Å–æ–æ–±—â–µ–Ω–∏–∏

### 2. **–û–ë–ù–û–í–õ–ï–ù–ò–ï –û–ë–†–ê–ë–û–¢–ö–ò –°–ò–ì–ù–ê–õ–û–í**

**–§–∞–π–ª:** `telegram_handlers.py`

**–î–æ–±–∞–≤–ª–µ–Ω —Ä–∞—Å—á–µ—Ç —Å—Ç–æ–ø-–ª–æ—Å—Å–∞:**
- ‚úÖ –î–ª—è LONG –ø–æ–∑–∏—Ü–∏–π: `stop_loss_price = entry_price * 0.98` (2% —Å—Ç–æ–ø-–ª–æ—Å—Å)
- ‚úÖ –î–ª—è SHORT –ø–æ–∑–∏—Ü–∏–π: `stop_loss_price = entry_price * 1.02` (2% —Å—Ç–æ–ø-–ª–æ—Å—Å)
- ‚úÖ –†–∞—Å—á–µ—Ç –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–∞–∫ –¥–ª—è –æ–±—ã—á–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤, —Ç–∞–∫ –∏ –¥–ª—è DCA

**–û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–π:**
- ‚úÖ `build_accept_message()` —Ç–µ–ø–µ—Ä—å –ø–æ–ª—É—á–∞–µ—Ç `stop_loss_price`
- ‚úÖ `build_dca_accept_message()` —Ç–µ–ø–µ—Ä—å –ø–æ–ª—É—á–∞–µ—Ç `stop_loss_price`

## üì± **–ù–û–í–´–ô –§–û–†–ú–ê–¢ –°–û–û–ë–©–ï–ù–ò–ô**

### **–û–ë–´–ß–ù–´–ï –°–ò–ì–ù–ê–õ–´:**

```
‚úÖ –°–∏–≥–Ω–∞–ª –ø—Ä–∏–Ω—è—Ç!

üî∏ –°–∏–º–≤–æ–ª: BTCUSDT
üî∏ –°—Ç–æ—Ä–æ–Ω–∞: LONG
üî∏ –¶–µ–Ω–∞ –≤—Ö–æ–¥–∞: 45000.00
üî∏ TP1: 46125.00 (+2.75% / +11.00% —Å –ø–ª–µ—á–æ–º)
üî∏ TP2: 47160.00 (+4.80% / +19.20% —Å –ø–ª–µ—á–æ–º)
üî∏ SL: 44100.00 (-2.00% / -8.00% —Å –ø–ª–µ—á–æ–º)
üî∏ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: 0.002700
üî∏ –ü–ª–µ—á–æ: 4.0x
üî∏ –†–∏—Å–∫: 30.40
üî∏ –°—É–º–º–∞ –≤—Ö–æ–¥–∞: 122

‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ: –Ω–∞ TP1 —Ñ–∏–∫—Å–∏—Ä—É–µ–º 50% –ø–æ–∑–∏—Ü–∏–∏, –æ—Å—Ç–∞—Ç–æ–∫ –¥–µ—Ä–∂–∏–º –¥–æ TP2

‚è∞ –í—Ä–µ–º—è –ø—Ä–∏–Ω—è—Ç–∏—è: 21:39:15
```

### **DCA –°–ò–ì–ù–ê–õ–´:**

```
üìà DCA –ø–æ–∑–∏—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞!

üî∏ –°–∏–º–≤–æ–ª: BTCUSDT
üî∏ DCA #2
üî∏ –¶–µ–Ω–∞ –≤—Ö–æ–¥–∞: 44500.00
üî∏ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: 0.002700
üî∏ –ü–ª–µ—á–æ: 4.0x
üî∏ –†–∏—Å–∫: 30.40
üî∏ –°—É–º–º–∞ –≤—Ö–æ–¥–∞: 120
üî∏ –°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞: 44750.00
üî∏ TP1: 46125.00 (+2.75% / +11.00% —Å –ø–ª–µ—á–æ–º)
üî∏ TP2: 47160.00 (+4.80% / +19.20% —Å –ø–ª–µ—á–æ–º)
üî∏ SL: 44100.00 (-2.00% / -8.00% —Å –ø–ª–µ—á–æ–º)

‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ: –Ω–∞ TP1 —Ñ–∏–∫—Å–∏—Ä—É–µ–º 50% –ø–æ–∑–∏—Ü–∏–∏, –æ—Å—Ç–∞—Ç–æ–∫ –¥–µ—Ä–∂–∏–º –¥–æ TP2

‚è∞ –í—Ä–µ–º—è: 21:39:15
```

## üéØ **–ö–õ–Æ–ß–ï–í–´–ï –û–°–û–ë–ï–ù–ù–û–°–¢–ò**

### **–†–∞—Å—á–µ—Ç —Å—Ç–æ–ø-–ª–æ—Å—Å–∞:**
- **LONG –ø–æ–∑–∏—Ü–∏–∏:** 2% –Ω–∏–∂–µ —Ü–µ–Ω—ã –≤—Ö–æ–¥–∞
- **SHORT –ø–æ–∑–∏—Ü–∏–∏:** 2% –≤—ã—à–µ —Ü–µ–Ω—ã –≤—Ö–æ–¥–∞
- **–ü—Ä–æ—Ü–µ–Ω—Ç—ã:** –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ –¥–≤—É—Ö –≤–∞—Ä–∏–∞–Ω—Ç–∞—Ö:
  - –û–±—ã—á–Ω—ã–π –ø—Ä–æ—Ü–µ–Ω—Ç –æ—Ç —Ü–µ–Ω—ã –≤—Ö–æ–¥–∞
  - –ü—Ä–æ—Ü–µ–Ω—Ç —Å —É—á–µ—Ç–æ–º –ø–ª–µ—á–∞ (—É–º–Ω–æ–∂–µ–Ω–Ω—ã–π –Ω–∞ –ø–ª–µ—á–æ)

### **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:**
- ‚úÖ **–¶–µ–Ω–∞ —Å—Ç–æ–ø-–ª–æ—Å—Å–∞** - —Ç–æ—á–Ω–∞—è —Ü–µ–Ω–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ —Å–∏–º–≤–æ–ª–∞
- ‚úÖ **–ü—Ä–æ—Ü–µ–Ω—Ç —Å—Ç–æ–ø-–ª–æ—Å—Å–∞** - –æ–±—ã—á–Ω—ã–π –∏ —Å –ø–ª–µ—á–æ–º
- ‚úÖ **–ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø–æ—Å–ª–µ TP1 –∏ TP2, –ø–µ—Ä–µ–¥ –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- ‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ DCA** - —Å—Ç–æ–ø-–ª–æ—Å—Å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∏ –¥–ª—è DCA —Å–∏–≥–Ω–∞–ª–æ–≤

## üöÄ **–ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê**

### **–î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**
1. **–ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** - –≤–∏–¥—è—Ç –≤—Å–µ —É—Ä–æ–≤–Ω–∏ (TP1, TP2, SL)
2. **–ü–æ–Ω–∏–º–∞–Ω–∏–µ —Ä–∏—Å–∫–æ–≤** - —á–µ—Ç–∫–æ –≤–∏–¥—è—Ç —É—Ä–æ–≤–µ–Ω—å —Å—Ç–æ–ø-–ª–æ—Å—Å–∞
3. **–ü—Ä–æ—Ü–µ–Ω—Ç—ã —Å –ø–ª–µ—á–æ–º** - –ø–æ–Ω–∏–º–∞—é—Ç —Ä–µ–∞–ª—å–Ω—É—é –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å/—É–±—ã—Ç–æ–∫
4. **–ï–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç** - –æ–¥–∏–Ω–∞–∫–æ–≤–æ –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –∏ DCA —Å–∏–≥–Ω–∞–ª–æ–≤

### **–î–ª—è —Å–∏—Å—Ç–µ–º—ã:**
1. **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** - –≤—Å–µ —Å–∏–≥–Ω–∞–ª—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç SL
2. **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π SL
3. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º
4. **–ì–∏–±–∫–æ—Å—Ç—å** - SL –º–æ–∂–µ—Ç –±—ã—Ç—å None (–Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è)

## ‚úÖ **–°–¢–ê–¢–£–° –í–ù–ï–î–†–ï–ù–ò–Ø**

- ‚úÖ **–§—É–Ω–∫—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã** - –¥–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä stop_loss_price
- ‚úÖ **–õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞** - –¥–æ–±–∞–≤–ª–µ–Ω —Ä–∞—Å—á–µ—Ç SL –¥–ª—è LONG/SHORT
- ‚úÖ **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ** - SL –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö
- ‚úÖ **DCA –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - SL —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –¥–ª—è DCA —Å–∏–≥–Ω–∞–ª–æ–≤
- ‚úÖ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∫–æ–¥ –ø—Ä–æ–≤–µ—Ä–µ–Ω –Ω–∞ –æ—à–∏–±–∫–∏

## üéØ **–†–ï–ó–£–õ–¨–¢–ê–¢**

**–¢–µ–ø–µ—Ä—å –ø–æ—Å–ª–µ –ø—Ä–∏–Ω—è—Ç–∏—è —Å–∏–≥–Ω–∞–ª–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç:**
- üìä **TP1** —Å –ø—Ä–æ—Ü–µ–Ω—Ç–∞–º–∏
- üìä **TP2** —Å –ø—Ä–æ—Ü–µ–Ω—Ç–∞–º–∏  
- üõ°Ô∏è **SL** —Å –ø—Ä–æ—Ü–µ–Ω—Ç–∞–º–∏ (–ù–û–í–û–ï!)
- ‚öôÔ∏è **–û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, –ø–ª–µ—á–æ, —Ä–∏—Å–∫)

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º —Å—Ç–æ–ø-–ª–æ—Å—Å–æ–≤! üöÄ**
