# –û—Ç—á–µ—Ç –æ –≤–Ω–µ–¥—Ä–µ–Ω–∏–∏ SourcesHub –≤ signal_live.py

## üìä –°—Ç–∞—Ç—É—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

**–î–∞—Ç–∞:** $(date)  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –≤–Ω–µ–¥—Ä–µ–Ω–æ  
**–§–∞–π–ª:** `signal_live.py`

## üîç –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –∫–æ–¥–∞ –≤—ã—è–≤–ª–µ–Ω–æ, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ `SourcesHub` **–ù–ï –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–Ω–µ–¥—Ä–µ–Ω–∞**:

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
1. ‚úÖ `SourcesHub` –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `ai_integration.py`
2. ‚ùå `signal_live.py` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä—è–º—ã–µ API –∑–∞–ø—Ä–æ—Å—ã –∫ –±–∏—Ä–∂–∞–º
3. ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö

## üõ†Ô∏è –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç SourcesHub –≤ signal_live.py

```python
# –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º SourcesHub –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
try:
    from sources_hub import sources_hub
    SOURCES_HUB_AVAILABLE = True
    logger.info("‚úÖ SourcesHub –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è")
except ImportError as e:
    SOURCES_HUB_AVAILABLE = False
    sources_hub = None
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è get_anomaly_data_with_fallback()

**–ë—ã–ª–æ:**
- –ü—Ä—è–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ CoinGecko, CoinLore, Binance
- –ù–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- –ù–µ—Ç circuit breakers

**–°—Ç–∞–ª–æ:**
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ SourcesHub
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –∫ –ø—Ä—è–º—ã–º –∑–∞–ø—Ä–æ—Å–∞–º
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –ë–î
- Circuit breakers –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç rate limits

```python
async def get_anomaly_data_with_fallback(symbol: str, ttl_seconds: int = 900) -> dict:
    # –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ò—Å–ø–æ–ª—å–∑—É–µ–º SourcesHub
    if SOURCES_HUB_AVAILABLE and sources_hub:
        market_cap_data = await sources_hub.get_market_cap_data(symbol)
        volume_data = await sources_hub.get_volume_data(symbol)
        # ... –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö ...
    
    # Fallback: –ü—Ä—è–º—ã–µ API –∑–∞–ø—Ä–æ—Å—ã
    # ...
```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è _binance_recent_notional()

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ SourcesHub –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è volume –∏ price
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –∫ –ø—Ä—è–º–æ–º—É API –∑–∞–ø—Ä–æ—Å—É
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è _bybit_recent_notional()

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ SourcesHub –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è volume –∏ price
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –∫ –ø—Ä—è–º–æ–º—É API –∑–∞–ø—Ä–æ—Å—É
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö

## üìà –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### 1. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- ‚úÖ Circuit breakers –∑–∞—â–∏—â–∞—é—Ç –æ—Ç rate limits
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∞–º–∏

### 2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ë–î (TTL: 5-60 –º–∏–Ω—É—Ç)
- ‚úÖ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º
- ‚úÖ –ú–µ–¥–∏–∞–Ω–Ω–∞—è –∞–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### 3. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**
- ‚úÖ –ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- ‚úÖ –õ–µ–≥–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ `source_config.py`

## üéØ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã:

1. **get_anomaly_data_with_fallback()** ‚úÖ
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `sources_hub.get_market_cap_data()`
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `sources_hub.get_volume_data()`
   - Fallback –Ω–∞ CoinGecko, CoinLore, Binance

2. **_binance_recent_notional()** ‚úÖ
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `sources_hub.get_volume_data()`
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `sources_hub.get_price_data()`
   - Fallback –Ω–∞ Binance API

3. **_bybit_recent_notional()** ‚úÖ
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `sources_hub.get_volume_data()`
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `sources_hub.get_price_data()`
   - Fallback –Ω–∞ Bybit API

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ SourcesHub:

```python
class SourcesHub:
    - get_market_cap_data(symbol)  # ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
    - get_volume_data(symbol)      # ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è  
    - get_price_data(symbol)       # ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
    - get_news_data(symbol)        # ‚è≥ –í –ø–ª–∞–Ω–∞—Ö
```

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:
- Market Cap: 3600 —Å–µ–∫—É–Ω–¥ (1 —á–∞—Å)
- Volume: 300 —Å–µ–∫—É–Ω–¥ (5 –º–∏–Ω—É—Ç)
- –¶–µ–Ω—ã: 60 —Å–µ–∫—É–Ω–¥ (1 –º–∏–Ω—É—Ç–∞)

### Circuit Breakers:
- –ó–∞—â–∏—Ç–∞ –æ—Ç rate limits
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫

## üìù –í—ã–≤–æ–¥—ã

**–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- ‚úÖ SourcesHub –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è anomaly –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ SourcesHub –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è notional volume
- ‚úÖ Fallback –º–µ—Ö–∞–Ω–∏–∑–º —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤–æ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç —á–µ—Ä–µ–∑ –ë–î
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:**
- ‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç SourcesHub
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –Ω–∞ –ø—Ä—è–º—ã–µ API –∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∞–º–∏
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç rate limits —á–µ—Ä–µ–∑ circuit breakers

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

SourcesHub —É—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤–æ –≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ signal_live.py. –°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º fallback –∏ –∑–∞—â–∏—Ç–æ–π –æ—Ç –æ—à–∏–±–æ–∫.

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞**

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ SourcesHub vs Fallback –≤ –ª–æ–≥–∞—Ö –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.
