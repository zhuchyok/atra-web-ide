# üîß –û–¢–ß–ï–¢: –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –°–ò–°–¢–ï–ú–´ –ê–ù–û–ú–ê–õ–ò–ô

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–ù–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### **1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `get_anomaly_emoji`**
```python
# –ë–´–õ–û (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
def get_anomaly_emoji(score: float) -> str:
    if score <= -1.5:  # ‚ùå –£—Å–ª–æ–≤–∏–µ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
        return "üü¢"
    return ""  # ‚ùå –ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –¥–ª—è –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤

# –°–¢–ê–õ–û (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
def get_anomaly_emoji(score: float) -> str:
    if score >= 0.8:  # 4-5 –∫—Ä—É–∂–∫–æ–≤ - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –∞–Ω–æ–º–∞–ª–∏—è
        return "üî•"
    elif score >= 0.6:  # 3 –∫—Ä—É–∂–∫–∞ - –≤—ã—Å–æ–∫–∞—è –∞–Ω–æ–º–∞–ª–∏—è
        return "‚ö†Ô∏è"
    elif score >= 0.2:  # 1-2 –∫—Ä—É–∂–∫–∞ - –Ω–∏–∑–∫–∞—è –∞–Ω–æ–º–∞–ª–∏—è
        return "üìà"
    else:  # 0 –∫—Ä—É–∂–∫–æ–≤ - –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
        return "‚úÖ"
```

### **2. –í–∫–ª—é—á–µ–Ω —Ñ–∏–ª—å—Ç—Ä –∞–Ω–æ–º–∞–ª–∏–π**
```python
# –ë–´–õ–û:
USE_ANOMALY_FILTER = False  # –í—Ä–µ–º–µ–Ω–Ω–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞ –∞–Ω–æ–º–∞–ª–∏–π

# –°–¢–ê–õ–û:
USE_ANOMALY_FILTER = True  # –í–∫–ª—é—á–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞ –∞–Ω–æ–º–∞–ª–∏–π
```

### **3. –î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∞–Ω–æ–º–∞–ª–∏–π**
```python
# –ë–ª–æ–∫–∏—Ä—É–µ–º –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∞–Ω–æ–º–∞–ª–∏–∏ (4-5 –∫—Ä—É–∂–∫–æ–≤)
if anomaly_data_ok and circles_gate_count and circles_gate_count >= 4:
    print(f"[Anomaly][BLOCK] {symbol}: –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –∞–Ω–æ–º–∞–ª–∏—è ({circles_gate_count} –∫—Ä—É–∂–∫–æ–≤) ‚Äî —Å–∏–≥–Ω–∞–ª –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω")
    failed_checks.append(f"anomaly: critical_circles={circles_gate_count}")
    continue

# –ë–ª–æ–∫–∏—Ä—É–µ–º –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∞–Ω–æ–º–∞–ª–∏–π (0 –∫—Ä—É–∂–∫–æ–≤)
if anomaly_data_ok and (circles_gate_count is None or circles_gate_count <= 0):
    print(f"[Anomaly][SKIP] {symbol}: circles=0 ‚Äî —Å–∏–≥–Ω–∞–ª –ø—Ä–æ–ø—É—â–µ–Ω")
    failed_checks.append("anomaly: circles==0")
    continue
```

### **4. –ü–æ–¥–∫–ª—é—á–µ–Ω—ã –≤—Å–µ 11 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö**
```python
# –†–µ–∑–µ—Ä–≤–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ –¥–ª—è –¥–∞–Ω–Ω—ã—Ö –∞–Ω–æ–º–∞–ª–∏–π —Å 11 –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏:
1. CoinCap (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π)
2. CoinLore
3. CoinStats
4. CoinCodex
5. Binance 24h
6. CoinGecko (—Ä–µ–∑–µ—Ä–≤–Ω—ã–π)
7. CryptoCompare
8. CoinPaprika
9. CoinMarketCap
10. Messari (–ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π) ‚Üê –ù–û–í–´–ô
11. Binance 24h (—Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑–µ—Ä–≤)
```

---

## üéØ –õ–û–ì–ò–ö–ê –†–ê–ë–û–¢–´ –°–ò–°–¢–ï–ú–´

### **–†–∞—Å—á—ë—Ç –∞–Ω–æ–º–∞–ª–∏–π:**
```python
volume_to_cap_ratio = volume_24h / market_cap

# –ü–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
‚â• 0.8 ‚Üí 5 –∫—Ä—É–∂–∫–æ–≤ (üî• –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∞–Ω–æ–º–∞–ª–∏—è)
‚â• 0.5 ‚Üí 4 –∫—Ä—É–∂–∫–∞ (üî• –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)
‚â• 0.2 ‚Üí 3 –∫—Ä—É–∂–∫–∞ (‚ö†Ô∏è –ê–Ω–æ–º–∞–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)
‚â• 0.1 ‚Üí 2 –∫—Ä—É–∂–∫–∞ (üìà –í—ã—Å–æ–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)
‚â• 0.04 ‚Üí 1 –∫—Ä—É–∂–æ–∫ (üìà –ü–æ–≤—ã—à–µ–Ω–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)
< 0.04 ‚Üí 0 –∫—Ä—É–∂–∫–æ–≤ (‚úÖ –ù–æ—Ä–º–∞–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)
```

### **–¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ –∫—Ä—É–∂–∫–æ–≤:**
- **üü¢ –ó–µ–ª—ë–Ω—ã–µ** - –±—ã—á–∏–π —Ç—Ä–µ–Ω–¥ (EMA7 > EMA25)
- **üî¥ –ö—Ä–∞—Å–Ω—ã–µ** - –º–µ–¥–≤–µ–∂–∏–π —Ç—Ä–µ–Ω–¥ (EMA7 < EMA25)
- **‚ö™ –°–µ—Ä—ã–µ** - –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–¥

### **–õ–æ–≥–∏–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏:**
- **0 –∫—Ä—É–∂–∫–æ–≤** ‚Üí –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ (–Ω–µ—Ç –∞–Ω–æ–º–∞–ª–∏–π)
- **1-3 –∫—Ä—É–∂–∫–∞** ‚Üí –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ (–Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ –∞–Ω–æ–º–∞–ª–∏–∏)
- **4-5 –∫—Ä—É–∂–∫–æ–≤** ‚Üí –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∞–Ω–æ–º–∞–ª–∏–∏)

---

## üìä –ü–†–ò–ú–ï–†–´ –†–ê–ë–û–¢–´

### **–ü—Ä–∏–º–µ—Ä 1: BTCUSDT (–Ω–æ—Ä–º–∞–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)**
- –û–±—ä—ë–º: 1,815,540,156 USDT
- –ö–∞–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏—è: 1,200,000,000,000 USDT
- –°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ: 0.0015 (0.15%)
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚ö™‚ö™‚ö™‚ö™‚ö™ (0 –∫—Ä—É–∂–∫–æ–≤) ‚Üí **–ë–õ–û–ö–ò–†–û–í–ö–ê**

### **–ü—Ä–∏–º–µ—Ä 2: –ê–ª—å—Ç–∫–æ–∏–Ω (–ø–æ–≤—ã—à–µ–Ω–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)**
- –û–±—ä—ë–º: 25,000,000 USDT
- –ö–∞–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏—è: 200,000,000 USDT
- –°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ: 0.125 (12.5%)
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** üü¢üü¢‚ö™‚ö™‚ö™ (2 –∫—Ä—É–∂–∫–∞) ‚Üí **–†–ê–ó–†–ï–®–ï–ù–ò–ï**

### **–ü—Ä–∏–º–µ—Ä 3: –ú–µ–º–∫–æ–∏–Ω (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –∞–Ω–æ–º–∞–ª–∏—è)**
- –û–±—ä—ë–º: 50,000,000 USDT
- –ö–∞–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏—è: 20,000,000 USDT
- –°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ: 2.5 (250%)
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** üü¢üü¢üü¢üü¢üü¢ (5 –∫—Ä—É–∂–∫–æ–≤) ‚Üí **–ë–õ–û–ö–ò–†–û–í–ö–ê**

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –£–õ–£–ß–®–ï–ù–ò–Ø

### **1. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö:**
- ‚úÖ 11 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —Å fallback —Ü–µ–ø–æ—á–∫–æ–π
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å TTL 900 —Å–µ–∫—É–Ω–¥
- ‚úÖ Graceful degradation –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API

### **2. –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
- ‚úÖ Timeout 3 —Å–µ–∫—É–Ω–¥—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞
- ‚úÖ Retry –ª–æ–≥–∏–∫–∞ —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ API latency

### **3. –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞:**
- ‚úÖ –ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–Ω–¥–∞ (EMA7 vs EMA25) –¥–ª—è —Ü–≤–µ—Ç–∞ –∫—Ä—É–∂–∫–æ–≤
- ‚úÖ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∞–Ω–æ–º–∞–ª–∏–π
- ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —É–º–µ—Ä–µ–Ω–Ω—ã—Ö –∞–Ω–æ–º–∞–ª–∏–π

---

## üìà –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

### **–£–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ —Å–∏–≥–Ω–∞–ª–æ–≤:**
- ‚úÖ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –º–µ–º–∫–æ–∏–Ω–æ–≤ —Å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º–∏ –∞–Ω–æ–º–∞–ª–∏—è–º–∏
- ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∞–ª—å—Ç–∫–æ–∏–Ω–æ–≤ —Å —É–º–µ—Ä–µ–Ω–Ω—ã–º–∏ –∞–Ω–æ–º–∞–ª–∏—è–º–∏
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –Ω–∏–∑–∫–æ–ª–∏–∫–≤–∏–¥–Ω—ã—Ö –∞–∫—Ç–∏–≤–æ–≤

### **–ü–æ–≤—ã—à–µ–Ω–∏–µ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ 11 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –≤—ã—Å–æ–∫—É—é –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–Ω–∏–∂–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ API
- ‚úÖ Fallback —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–±–æ–∏

### **–£–ª—É—á—à–µ–Ω–∏–µ UX:**
- ‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–µ —ç–º–æ–¥–∑–∏ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–Ω–æ–º–∞–ª–∏–π
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ –ø—Ä–∏—á–∏–Ω–∞—Ö –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

---

## üéØ –°–¢–ê–¢–£–° –°–ò–°–¢–ï–ú–´

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|--------|----------|
| **–†–∞—Å—á—ë—Ç –∞–Ω–æ–º–∞–ª–∏–π** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –æ–±—ä—ë–º/–∫–∞–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏—è |
| **–¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | üü¢üî¥‚ö™ –∫—Ä—É–∂–∫–∏ –ø–æ —Ç—Ä–µ–Ω–¥—É |
| **–≠–º–æ–¥–∑–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã** | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ | üî•‚ö†Ô∏èüìà‚úÖ –ø–æ —É—Ä–æ–≤–Ω—é –∞–Ω–æ–º–∞–ª–∏–∏ |
| **–§–∏–ª—å—Ç—Ä –∞–Ω–æ–º–∞–ª–∏–π** | ‚úÖ –í–∫–ª—é—á—ë–Ω | –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ 0 –∏ 4-5 –∫—Ä—É–∂–∫–æ–≤ |
| **11 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤** | ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω—ã | –ü–æ–ª–Ω–∞—è fallback —Ü–µ–ø–æ—á–∫–∞ |
| **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | TTL 900 —Å–µ–∫—É–Ω–¥ |
| **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ |

---

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:** 30 —Å–µ–Ω—Ç—è–±—Ä—è 2025
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ
**–°–ª–µ–¥—É—é—â–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** –ß–µ—Ä–µ–∑ 24-48 —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã
