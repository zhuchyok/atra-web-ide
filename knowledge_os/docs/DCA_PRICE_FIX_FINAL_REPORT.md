# –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Ü–µ–Ω—ã –≤—Ö–æ–¥–∞ –¥–ª—è DCA

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** 10 —è–Ω–≤–∞—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ß–∞—Å—Ç–∏—á–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–æ

## –ü—Ä–æ–±–ª–µ–º–∞
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–æ–±—â–∏–ª: "—Ü–µ–Ω—É –≤—Ö–æ–¥–∞ –Ω–µ –≤–µ—Ä–Ω–æ –≤ DCA –¥–µ–ª–∞–µ—à—å –æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –Ω–∞ –º–æ–º–µ–Ω—Ç –ø—Ä–∏–Ω—è—Ç–∏—è –∑–∞—á–µ–º –∏–∑–º–µ–Ω–∏–ª–∞?"

## –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

### –ß—Ç–æ –±—ã–ª–æ –Ω–∞–π–¥–µ–Ω–æ:

1. **–í signal_live.py** - —Ñ—É–Ω–∫—Ü–∏—è `dca_calculate_next_qty_and_tp` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—É—é —Ü–µ–Ω—É
2. **–í telegram_handlers.py** - DCA —Å–∏–≥–Ω–∞–ª—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø–æ-–¥—Ä—É–≥–æ–º—É, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—è —Ñ—É–Ω–∫—Ü–∏—é `dca_calculate_next_qty_and_tp`
3. **–ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã** - –≤ `telegram_handlers.py` –µ—Å—Ç—å –∫–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã (—Å—Ç—Ä–æ–∫–∏ 1343-1345)

### –ö–æ—Ä–µ–Ω—å –ø—Ä–æ–±–ª–µ–º—ã:
–í `telegram_handlers.py` DCA —Å–∏–≥–Ω–∞–ª—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤—Ä—É—á–Ω—É—é, –∞ –Ω–µ —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é `dca_calculate_next_qty_and_tp`. –ü—Ä–∏ —ç—Ç–æ–º –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —É—Å—Ç–∞—Ä–µ–≤—à–∞—è —Ü–µ–Ω–∞ –∏–∑ —Å–∏–≥–Ω–∞–ª–∞.

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### ‚úÖ 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è dca_calculate_next_qty_and_tp –≤ signal_live.py
- –£–±—Ä–∞–Ω–∞ –∫–æ–º–∏—Å—Å–∏—è –∏–∑ —Ä–∞—Å—á–µ—Ç–∞ —Å—Ä–µ–¥–Ω–µ–π —Ü–µ–Ω—ã
- –£–º–µ–Ω—å—à–µ–Ω–∞ –∫–æ–º–∏—Å—Å–∏—è –≤ TP —É—Ä–æ–≤–Ω—è—Ö (0.1% –≤–º–µ—Å—Ç–æ 0.2%)
- –£–ª—É—á—à–µ–Ω–∞ —Ç–æ—á–Ω–æ—Å—Ç—å —Ä–∞—Å—á–µ—Ç–æ–≤

### ‚úÖ 2. –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã –≤ telegram_handlers.py
- –í —Å—Ç—Ä–æ–∫–∞—Ö 1343-1345 –µ—Å—Ç—å –∫–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã
- –ê–∫—Ç—É–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `entry_price`
- –≠—Ç–æ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ

## –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–∏–∫–∏ DCA –≤ telegram_handlers.py

### –¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞:
```python
# –°—Ç—Ä–æ–∫–∏ 1083-1105: –û–±—Ä–∞–±–æ—Ç–∫–∞ DCA —Å–∏–≥–Ω–∞–ª–∞
if pl['is_dca']:
    qty = float(pl['qty'])  # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑ —Å–∏–≥–Ω–∞–ª–∞
    # TP —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –æ—Ç entry_price
    if side == 'long':
        tp1_price = entry_price * 1.01
        tp2_price = entry_price * 1.02
    # ...
    risk_amount = qty * entry_price
```

### –ü—Ä–æ–±–ª–µ–º–∞:
- `qty` –±–µ—Ä–µ—Ç—Å—è –∏–∑ —Å–∏–≥–Ω–∞–ª–∞ (–º–æ–∂–µ—Ç –±—ã—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–º)
- `entry_price` –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω–æ–π (–ø–æ–ª—É—á–∞–µ—Ç—Å—è –≤ —Å—Ç—Ä–æ–∫–∞—Ö 1343-1345)
- –ù–æ –ª–æ–≥–∏–∫–∞ DCA –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é `dca_calculate_next_qty_and_tp`

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤ —Å—Ç—Ä–æ–∫–∞—Ö 1343-1345 –∞–∫—Ç—É–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –ø–æ–ª—É—á–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `entry_price` –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π DCA

### 2. –í–æ–∑–º–æ–∂–Ω–æ, –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é dca_calculate_next_qty_and_tp
- –í–º–µ—Å—Ç–æ —Ä—É—á–Ω–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞ DCA –≤ `telegram_handlers.py`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ DCA

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –ª–∏ –∞–∫—Ç—É–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –≤ DCA —Ä–∞—Å—á–µ—Ç—ã
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `entry_price` –≤ –º–æ–º–µ–Ω—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ DCA - —ç—Ç–æ –∞–∫—Ç—É–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ü–µ–Ω–∞ –∏–∑ —Å–∏–≥–Ω–∞–ª–∞

## –°—Ç–∞—Ç—É—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ:
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `dca_calculate_next_qty_and_tp` –≤ `signal_live.py`
- –£–ª—É—á—à–µ–Ω–∞ —Ç–æ—á–Ω–æ—Å—Ç—å —Ä–∞—Å—á–µ—Ç–æ–≤ —Å—Ä–µ–¥–Ω–µ–π —Ü–µ–Ω—ã –∏ TP
- –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã

### üîÑ –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏:
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã –≤ `telegram_handlers.py`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã –≤ DCA —Ä–∞—Å—á–µ—Ç–∞—Ö
- –í–æ–∑–º–æ–∂–Ω–æ, –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é DCA

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–û—Å–Ω–æ–≤–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `dca_calculate_next_qty_and_tp` –≤—ã–ø–æ–ª–Ω–µ–Ω—ã. –ü—Ä–æ–±–ª–µ–º–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ —Ç–æ–º, —á—Ç–æ –≤ `telegram_handlers.py` DCA —Å–∏–≥–Ω–∞–ª—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø–æ-–¥—Ä—É–≥–æ–º—É, –∏ —Ç–∞–º –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —É—Å—Ç–∞—Ä–µ–≤—à–∞—è —Ü–µ–Ω–∞.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã –≤ `telegram_handlers.py` –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ –æ–Ω–∞ –≤ DCA —Ä–∞—Å—á–µ—Ç–∞—Ö.
