# –û—Ç—á–µ—Ç –æ —Ä–µ—à–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–º–∞–Ω–¥–∞–º–∏ –≤ –º–µ–Ω—é

**–î–∞—Ç–∞:** 10 –∞–≤–≥—É—Å—Ç–∞ 2025
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ—à–µ–Ω–æ

## –ü—Ä–æ–±–ª–µ–º–∞
–ö–æ–º–∞–Ω–¥—ã –≤ –º–µ–Ω—é Telegram –±–æ—Ç–∞ –Ω–µ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–ª–∏ –∏–∑-–∑–∞ –æ—à–∏–±–∫–∏ `telegram.error.Conflict: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running`.

## –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### üîç **–ù–∞–π–¥–µ–Ω–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞:**
–ì–¥–µ-—Ç–æ –µ—â–µ –∑–∞–ø—É—â–µ–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä –±–æ—Ç–∞ —Å —Ç–µ–º –∂–µ —Ç–æ–∫–µ–Ω–æ–º, —á—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∑–∞–ø—É—Å–∫–∞ –Ω–æ–≤–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞.

### üìä **–°–∏–º–ø—Ç–æ–º—ã:**
- –ö–æ–º–∞–Ω–¥—ã –≤ –º–µ–Ω—é –Ω–µ —Ä–µ–∞–≥–∏—Ä—É—é—Ç
- –í –ª–æ–≥–∞—Ö –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ `telegram.error.Conflict`
- –ë–æ—Ç –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Telegram API

## –†–µ—à–µ–Ω–∏—è

### 1. **–°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ –æ—á–∏—Å—Ç–∫–∏ webhook**
**–§–∞–π–ª**: `clear_webhook.py`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ webhook –∏ pending updates

```python
async def clear_webhook():
    """–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ—á–∏—â–∞–µ—Ç webhook –∏ pending updates"""
    url = f"https://api.telegram.org/bot{TOKEN}"

    # –£–¥–∞–ª—è–µ–º webhook —Å –æ—á–∏—Å—Ç–∫–æ–π pending updates
    response = await client.post(f"{url}/deleteWebhook", params={
        "drop_pending_updates": True
    })

    # –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ—á–∏—â–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
    response = await client.post(f"{url}/getUpdates", params={
        "offset": -1,
        "limit": 1
    })
```

### 2. **–°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–æ–ª—å–∫–æ —Å–∏–≥–Ω–∞–ª–æ–≤**
**–§–∞–π–ª**: `run_signals_only.py`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã —Å–∏–≥–Ω–∞–ª–æ–≤ –±–µ–∑ Telegram –±–æ—Ç–∞

```python
async def main():
    """–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è"""
    setup_logging()
    logging.info("üöÄ –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–æ–ª—å–∫–æ —Å–∏—Å—Ç–µ–º—É —Å–∏–≥–Ω–∞–ª–æ–≤...")

    try:
        await main_loop()
    except KeyboardInterrupt:
        logging.info("üõë –°–∏—Å—Ç–µ–º–∞ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º")
```

### 3. **–£–ª—É—á—à–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ –æ—á–∏—Å—Ç–∫–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤**
**–§–∞–π–ª**: `cleanup_bot_processes.py`
**–£–ª—É—á—à–µ–Ω–∏—è**: –ë–æ–ª–µ–µ —Ç–æ—á–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –±–æ—Ç–∞

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### ‚úÖ **–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚ùå –ö–æ–º–∞–Ω–¥—ã –≤ –º–µ–Ω—é –Ω–µ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–ª–∏
- ‚ùå –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ `telegram.error.Conflict`
- ‚ùå –ë–æ—Ç –Ω–µ –º–æ–≥ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Telegram API
- ‚ùå –ù–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏—Å—Ç–µ–º—É —Å–∏–≥–Ω–∞–ª–æ–≤ –æ—Ç–¥–µ–ª—å–Ω–æ

### ‚úÖ **–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ **–°–∏—Å—Ç–µ–º–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç** –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç Telegram –±–æ—Ç–∞
- ‚úÖ **–°–æ–∑–¥–∞–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –æ—á–∏—Å—Ç–∫–∏ webhook** –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
- ‚úÖ **–£–ª—É—á—à–µ–Ω —Å–∫—Ä–∏–ø—Ç –æ—á–∏—Å—Ç–∫–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤** –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–π —Ä–∞–±–æ—Ç—ã
- ‚úÖ **–°–∏—Å—Ç–µ–º–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ –∑–∞–ø—É—â–µ–Ω–∞** –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ

## –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

### üü¢ **–†–∞–±–æ—Ç–∞–µ—Ç:**
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∞ —Å–∏–≥–Ω–∞–ª–æ–≤
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è DCA —Å–∏–≥–Ω–∞–ª–æ–≤
- ‚úÖ –í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è TP —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- ‚úÖ –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### üî¥ **–¢—Ä–µ–±—É–µ—Ç —Ä–µ—à–µ–Ω–∏—è:**
- ‚ùå Telegram –±–æ—Ç (–∫–æ–Ω—Ñ–ª–∏–∫—Ç —Å –¥—Ä—É–≥–∏–º —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º)
- ‚ùå –ö–æ–º–∞–Ω–¥—ã –≤ –º–µ–Ω—é (–Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã –∏–∑-–∑–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞)

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. **–î–ª—è —Ä–µ—à–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ Telegram –±–æ—Ç–∞:**
1. –ù–∞–π—Ç–∏ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥—Ä—É–≥–æ–π —ç–∫–∑–µ–º–ø–ª—è—Ä –±–æ—Ç–∞ (–≤–æ–∑–º–æ–∂–Ω–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç `clear_webhook.py` –¥–ª—è –æ—á–∏—Å—Ç–∫–∏
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Telegram –±–æ—Ç–∞

### 2. **–î–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–∏–≥–Ω–∞–ª–∞–º–∏:**
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `run_signals_only.py` –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–∏—Å—Ç–µ–º—ã —Å–∏–≥–Ω–∞–ª–æ–≤
2. –°–∏–≥–Ω–∞–ª—ã –±—É–¥—É—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –≤ –ª–æ–≥–∞—Ö
3. –í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è TP —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

### 3. **–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```bash
# –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ —Å–∏—Å—Ç–µ–º—ã —Å–∏–≥–Ω–∞–ª–æ–≤
python3 run_signals_only.py

# –û—á–∏—Å—Ç–∫–∞ webhook
python3 clear_webhook.py

# –û—á–∏—Å—Ç–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
python3 cleanup_bot_processes.py
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–æ–±–ª–µ–º–∞ —Å –∫–æ–º–∞–Ω–¥–∞–º–∏ –≤ –º–µ–Ω—é –±—ã–ª–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∏ —á–∞—Å—Ç–∏—á–Ω–æ —Ä–µ—à–µ–Ω–∞:

- ‚úÖ **–°–∏—Å—Ç–µ–º–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç** —Å—Ç–∞–±–∏–ª—å–Ω–æ
- ‚úÖ **–í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è TP —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏** –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ **–°–æ–∑–¥–∞–Ω—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã** –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
- ‚ö†Ô∏è **Telegram –±–æ—Ç —Ç—Ä–µ–±—É–µ—Ç** —Ä–µ—à–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ —Å –¥—Ä—É–≥–∏–º —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç, Telegram –±–æ—Ç —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞
