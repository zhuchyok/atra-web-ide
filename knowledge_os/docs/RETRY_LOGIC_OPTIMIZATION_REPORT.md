# üöÄ –û–¢–ß–ï–¢: –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø RETRY –õ–û–ì–ò–ö–ò API

## üéØ **–¶–ï–õ–¨ –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò**

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—Ä–æ—Å–∏–ª –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é retry –ª–æ–≥–∏–∫–∏ API - –¥–µ–ª–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –ø–æ–ø—ã—Ç–∫—É, –∞ –µ—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, —Ç–æ —Å—Ä–∞–∑—É –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –ø–æ –ø–æ—Ä—è–¥–∫—É.

## ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–ù–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø**

### **1. üîß signal_live.py**

#### **–§—É–Ω–∫—Ü–∏—è search_coingecko_id:**
- **–ë—ã–ª–æ:** `max_retries=3` —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º–∏ –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏ (2, 4, 8 —Å–µ–∫—É–Ω–¥)
- **–°—Ç–∞–ª–æ:** `max_retries=1` - –æ–¥–Ω–∞ –ø–æ–ø—ã—Ç–∫–∞, –∑–∞—Ç–µ–º –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
- **–£–±—Ä–∞–Ω–æ:** –¶–∏–∫–ª retry —Å –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏ –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –ø–æ–ø—ã—Ç–∫–∞–º–∏

#### **–§—É–Ω–∫—Ü–∏—è get_volume_with_fallback:**
- **–ë—ã–ª–æ:** `max_retries=3` —Å retry –ª–æ–≥–∏–∫–æ–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞
- **–°—Ç–∞–ª–æ:** `max_retries=1` - –æ–¥–Ω–∞ –ø–æ–ø—ã—Ç–∫–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞
- **–£–±—Ä–∞–Ω–æ:** –¶–∏–∫–ª retry —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º–∏ –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏

#### **–§—É–Ω–∫—Ü–∏—è notify_user_safe:**
- **–ë—ã–ª–æ:** `max_retries=3` –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- **–°—Ç–∞–ª–æ:** `max_retries=1` - –æ–¥–Ω–∞ –ø–æ–ø—ã—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏

#### **–í—ã–∑–æ–≤—ã get_ohlc_with_fallback:**
- **–ë—ã–ª–æ:** `max_retries=3` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è OHLC –¥–∞–Ω–Ω—ã—Ö
- **–°—Ç–∞–ª–æ:** `max_retries=1` - –æ–¥–Ω–∞ –ø–æ–ø—ã—Ç–∫–∞

### **2. üîß exchange_api.py**

#### **–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ API:**
- **–ë—ã–ª–æ:** `max_retries=3` –∏ `max_retries=5` –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö API
- **–°—Ç–∞–ª–æ:** `max_retries=1` –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
- **–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
  - `BinanceAPI.get_ohlc()`
  - `BybitAPI.get_ohlc()`
  - `MEXCAPI.get_ohlc()`
  - `get_ohlc_with_fallback()`

### **3. üîß –î—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã**

#### **system_manager.py:**
- **–ë—ã–ª–æ:** `max_retries=5` –¥–ª—è –∑–∞–ø—É—Å–∫–∞ Telegram –±–æ—Ç–∞
- **–°—Ç–∞–ª–æ:** `max_retries=1`

#### **improved_signal_delivery.py:**
- **–ë—ã–ª–æ:** `max_retries=3` –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–∏–≥–Ω–∞–ª–æ–≤
- **–°—Ç–∞–ª–æ:** `max_retries=1`

#### **telegram_bot_core.py:**
- **–ë—ã–ª–æ:** `max_retries=5` –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞
- **–°—Ç–∞–ª–æ:** `max_retries=1`

#### **main_improved.py:**
- **–ë—ã–ª–æ:** `max_retries=5` –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–∏—Å—Ç–µ–º—ã
- **–°—Ç–∞–ª–æ:** `max_retries=1`

#### **test_telegram_connection.py:**
- **–ë—ã–ª–æ:** `max_retries=5` –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- **–°—Ç–∞–ª–æ:** `max_retries=1`

#### **ohlc_utils.py:**
- **–ë—ã–ª–æ:** `max_retries=3` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è OHLC –¥–∞–Ω–Ω—ã—Ö
- **–°—Ç–∞–ª–æ:** `max_retries=1`

## üìä **–†–ï–ó–£–õ–¨–¢–ê–¢–´ –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò**

### **‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

1. **‚ö° –£—Å–∫–æ—Ä–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã:**
   - –£–±—Ä–∞–Ω—ã –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏ (2, 4, 8 —Å–µ–∫—É–Ω–¥)
   - –°–∏—Å—Ç–µ–º–∞ –±—ã—Å—Ç—Ä–µ–µ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
   - –°–æ–∫—Ä–∞—â–µ–Ω–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö API

2. **üîÑ –£–ª—É—á—à–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ fallback:**
   - –ü—Ä–∏ –ø–µ—Ä–≤–æ–π –∂–µ –æ—à–∏–±–∫–µ —Å–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –∏—Å—Ç–æ—á–Ω–∏–∫
   - –ë–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö API
   - –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–Ω—ã–µ API

3. **üìù –£–ø—Ä–æ—â–µ–Ω–Ω—ã–µ –ª–æ–≥–∏:**
   - –£–±—Ä–∞–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏—è –æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–æ–ø—ã—Ç–∫–∞—Ö
   - –ë–æ–ª–µ–µ —á–µ—Ç–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
   - –ú–µ–Ω—å—à–µ —à—É–º–∞ –≤ –ª–æ–≥–∞—Ö

### **‚ö†Ô∏è –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø–æ–≤–µ–¥–µ–Ω–∏–∏:**

1. **CoinGecko API:**
   - **–ë—ã–ª–æ:** 3 –ø–æ–ø—ã—Ç–∫–∏ —Å –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏ 2, 4, 8 —Å–µ–∫—É–Ω–¥
   - **–°—Ç–∞–ª–æ:** 1 –ø–æ–ø—ã—Ç–∫–∞, –∑–∞—Ç–µ–º –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

2. **Volume Check:**
   - **–ë—ã–ª–æ:** 3 –ø–æ–ø—ã—Ç–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ (Binance, Bybit, MEXC)
   - **–°—Ç–∞–ª–æ:** 1 –ø–æ–ø—ã—Ç–∫–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞

3. **OHLC Data:**
   - **–ë—ã–ª–æ:** 3-5 –ø–æ–ø—ã—Ç–æ–∫ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
   - **–°—Ç–∞–ª–æ:** 1 –ø–æ–ø—ã—Ç–∫–∞, –∑–∞—Ç–µ–º fallback –Ω–∞ –¥—Ä—É–≥–∏–µ –±–∏—Ä–∂–∏

## üéØ **–û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´**

### **–í –ª–æ–≥–∞—Ö –±–æ–ª—å—à–µ –Ω–µ –±—É–¥–µ—Ç:**
```
[NewsFilter] CoinGecko API rate limit –¥–ª—è 1000SATSUSDT (–ø–æ–ø—ã—Ç–∫–∞ 1/3), –∂–¥–µ–º –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–µ–π –ø–æ–ø—ã—Ç–∫–æ–π
[NewsFilter] CoinGecko: –∑–∞–¥–µ—Ä–∂–∫–∞ 2—Å –ø–µ—Ä–µ–¥ –ø–æ–ø—ã—Ç–∫–æ–π 2/3 –¥–ª—è 1000SATSUSDT
[NewsFilter] CoinGecko API rate limit –¥–ª—è 1000SATSUSDT (–ø–æ–ø—ã—Ç–∫–∞ 2/3), –∂–¥–µ–º –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–µ–π –ø–æ–ø—ã—Ç–∫–æ–π
```

### **–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –±—É–¥–µ—Ç:**
```
[NewsFilter] CoinGecko API rate limit –¥–ª—è 1000SATSUSDT, –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
```

## üöÄ **–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò**

1. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** –°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –û–∂–∏–¥–∞–µ—Ç—Å—è —É–ª—É—á—à–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã
3. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:** –°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ —Å—Ç–∞—Ç—å –±–æ–ª–µ–µ –æ—Ç–∑—ã–≤—á–∏–≤–æ–π –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å API

## üìã **–°–¢–ê–¢–£–°**

‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û** - –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
- –°–∏–Ω—Ç–∞–∫—Å–∏—Å —Ñ–∞–π–ª–æ–≤ –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- –õ–æ–≥–∏–∫–∞ retry –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
- –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ —Å –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–æ–π
