# üö® –≠–ö–°–¢–†–ï–ù–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï PUMPUSDT

## üìã –ü–†–û–ë–õ–ï–ú–ê

- **–ü–æ–∑–∏—Ü–∏—è PUMPUSDT (SHORT)** –æ—Ç–∫—Ä—ã—Ç–∞ –Ω–∞ –±–∏—Ä–∂–µ –æ—Ç 17.11.2025 17:46
- **–í –ë–î:** –ù–µ—Ç –∑–∞–ø–∏—Å–∏ –≤ `active_positions` –∏ `accepted_signals`
- **–ó–∞—â–∏—Ç–∞:** –¢–æ–ª—å–∫–æ SL, –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç TP1 –∏ TP2
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∏–≥–Ω–∞–ª–∞:**
  - Entry: 0.003241
  - TP1: 0.003175 (+1.69%)
  - TP2: 0.003110 (+3.37%)
  - SL: 0.003293 (-1.60%)

---

## üöÄ –†–ï–®–ï–ù–ò–ï

### **–≠–¢–ê–ü 1: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ–∑–∏—Ü–∏–π**

```bash
# –ù–∞ –±–æ–µ–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ:
cd /path/to/atra
python scripts/sync_positions_with_exchange.py
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ù–∞—Ö–æ–¥–∏—Ç –≤—Å–µ —Ä–µ–∞–ª—å–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –Ω–∞ Bitget
- –î–æ–±–∞–≤–ª—è–µ—Ç –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –≤ `active_positions` (–≤–∫–ª—é—á–∞—è PUMPUSDT)

---

### **–≠–¢–ê–ü 2: –≠–∫—Å—Ç—Ä–µ–Ω–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ PUMPUSDT**

```bash
# –ù–∞ –±–æ–µ–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ:
python scripts/emergency_fix_pumpusdt.py
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ù–∞—Ö–æ–¥–∏—Ç –ø–æ–∑–∏—Ü–∏—é PUMPUSDT –Ω–∞ –±–∏—Ä–∂–µ
- –î–æ–±–∞–≤–ª—è–µ—Ç –≤ –ë–î, –µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç TP1/TP2/SL –ø–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º —Å–∏–≥–Ω–∞–ª–∞
- –õ–æ–≥–∏—Ä—É–µ—Ç –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –≤ `order_audit_log`

---

### **–≠–¢–ê–ü 3: –û–±—â–µ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–∑–∏—Ü–∏–π**

```bash
# –ü–æ—Å–ª–µ —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
python scripts/fix_open_positions_tp_sl.py
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–∞—â–∏—Ç—É –≤—Å–µ—Ö –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π
- –î–æ–≤–µ—à–∏–≤–∞–µ—Ç TP/SL –¥–ª—è –ø–æ–∑–∏—Ü–∏–π –±–µ–∑ –∑–∞—â–∏—Ç—ã

---

## ‚úÖ –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–æ–≤:

1. ‚úÖ **PUMPUSDT –≤ –ë–î:** –ü–æ–∑–∏—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ `active_positions`
2. ‚úÖ **TP1 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:** 0.003175 (50% –æ–±—ä–µ–º–∞)
3. ‚úÖ **TP2 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:** 0.003110 (50% –æ–±—ä–µ–º–∞)
4. ‚úÖ **SL —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:** 0.003293 (—É–∂–µ –±—ã–ª, –ø—Ä–æ–≤–µ—Ä–µ–Ω)
5. ‚úÖ **–õ–æ–≥–∏:** –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –∑–∞–ø–∏—Å–∞–Ω—ã –≤ `order_audit_log`

---

## üîç –ü–†–û–í–ï–†–ö–ê

### **–ù–∞ –±–∏—Ä–∂–µ:**
1. –û—Ç–∫—Ä—ã—Ç—å Bitget –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ù–∞–π—Ç–∏ –ø–æ–∑–∏—Ü–∏—é PUMPUSDT
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ TP1, TP2, SL
4. –£–±–µ–¥–∏—Ç—å—Å—è –≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ –æ–±—ä–µ–º–æ–≤ 50/50

### **–í –ë–î:**
```sql
-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é
SELECT * FROM active_positions WHERE symbol = 'PUMPUSDT';

-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ä–¥–µ—Ä–∞
SELECT * FROM order_audit_log 
WHERE symbol LIKE '%PUMP%' 
  AND datetime(created_at) > datetime('now', '-1 hour')
ORDER BY created_at DESC;
```

---

## üìù –ü–†–ò–ú–ï–ß–ê–ù–ò–Ø

- –°–∫—Ä–∏–ø—Ç **–∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–µ–Ω** - –±–µ–∑–æ–ø–∞—Å–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑
- –ï—Å–ª–∏ TP/SL —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç, —Å–∫—Ä–∏–ø—Ç –∏—Ö –ø—Ä–æ–ø—É—Å—Ç–∏—Ç
- –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –¥–ª—è –∞—É–¥–∏—Ç–∞

---

## üõ°Ô∏è –ü–†–ï–î–û–¢–í–†–ê–©–ï–ù–ò–ï –ü–û–í–¢–û–†–ï–ù–ò–Ø

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:

1. ‚úÖ –í–Ω–µ–¥—Ä–∏—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω—É—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é (–∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç)
2. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –±–æ—Ç–∞
3. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–µ–∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π

