# üìä –°–†–ê–í–ù–ï–ù–ò–ï: –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã DEV vs PROD

## ‚úÖ –û–î–ò–ù–ê–ö–û–í–ê–Ø –õ–û–ì–ò–ö–ê

DEV –∏ PROD –±–æ—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç **–æ–¥–∏–Ω–∞–∫–æ–≤—É—é –ª–æ–≥–∏–∫—É** –¥–ª—è:

### 1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤
- ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ —É—Å–ª–æ–≤–∏—è –≤—Ö–æ–¥–∞ (EMA crossover, Bollinger Bands, etc.)
- ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã (BTC trend, RSI, Volume, Anomaly, etc.)
- ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ (TP/SL, leverage, risk)
- ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
- ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –≤—ã—Ö–æ–¥–∞ (TP1, TP2, SL, trailing stop)

### 2. –§–∏–ª—å—Ç—Ä—ã –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏
- ‚úÖ BTC/ETH/SOL trend filters
- ‚úÖ RSI —Ñ–∏–ª—å—Ç—Ä—ã
- ‚úÖ Volume —Ñ–∏–ª—å—Ç—Ä—ã
- ‚úÖ Anomaly detection
- ‚úÖ –ù–æ–≤—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã (Dominance, Interest Zone, Fibonacci, Volume Imbalance)
- ‚úÖ Pullback Entry Logic
- ‚úÖ Adaptive Strategy

### 3. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- ‚úÖ TP1/TP2/SL –ø—Ä–æ—Ü–µ–Ω—Ç—ã
- ‚úÖ Leverage –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚úÖ Risk management
- ‚úÖ Position sizing
- ‚úÖ Trailing stop –ª–æ–≥–∏–∫–∞

### 4. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î
- ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã (signals_log, accepted_signals, active_positions)
- ‚ö†Ô∏è **–ù–û**: –ú–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ñ–∞–π–ª—ã –ë–î (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)

## ‚ùå –†–ê–ó–õ–ò–ß–ò–Ø

### 1. Telegram —Ç–æ–∫–µ–Ω

**DEV:**
```python
ATRA_ENV = "dev"
TOKEN = TELEGRAM_TOKEN_DEV  # 8141444679 (@piu_piu_dev_bot)
```

**PROD:**
```python
ATRA_ENV = "prod"
TOKEN = TELEGRAM_TOKEN  # 8156844481 (@PiuX_Trade_bot)
```

**–ö–æ–¥:** `config.py` (—Å—Ç—Ä–æ–∫–∏ 166-173)

### 2. –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

**DEV:**
```python
logging.DEBUG  # –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏, –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è
```

**PROD:**
```python
logging.INFO  # –¢–æ–ª—å–∫–æ –≤–∞–∂–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
```

**–ö–æ–¥:** `main.py` (—Å—Ç—Ä–æ–∫–∏ 233, 243)

### 3. –ê–≤—Ç–æ-–∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ

**DEV:**
- ‚ùå **–í–°–ï–ì–î–ê manual** (–±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- –°–∏–≥–Ω–∞–ª—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è, –Ω–æ –ø–æ–∑–∏—Ü–∏–∏ –ù–ï –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –Ω–∞–∂–∞—Ç—å `/accept` –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏

**PROD:**
- ‚úÖ –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ë–î (`trade_mode: auto/manual`)
- –ï—Å–ª–∏ `auto` ‚Üí –ø–æ–∑–∏—Ü–∏—è –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ï—Å–ª–∏ `manual` ‚Üí –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –Ω–∞–∂–∞—Ç—å `/accept`

**–ö–æ–¥:**
- `signal_live.py` (—Å—Ç—Ä–æ–∫–∞ 4220): `if ATRA_ENV != "prod": return`
- `auto_execution.py` (—Å—Ç—Ä–æ–∫–∞ 52): `if ATRA_ENV != "prod": return False`

## üìã –ü–†–û–í–ï–†–ö–ê –í –ö–û–î–ï

### –í—ã–±–æ—Ä —Ç–æ–∫–µ–Ω–∞
```python
# config.py
ATRA_ENV = os.getenv("ATRA_ENV", "dev").lower().strip()
TOKEN = (
    TELEGRAM_TOKEN if ATRA_ENV == "prod" else (
        TELEGRAM_TOKEN_DEV or TELEGRAM_TOKEN
    )
)
```

### –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
```python
# main.py
_root_logger.setLevel(logging.DEBUG if ATRA_ENV != "prod" else logging.INFO)
_stream_handler.setLevel(logging.DEBUG if ATRA_ENV != "prod" else logging.INFO)
```

### –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∞–≤—Ç–æ-–∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –≤ DEV
```python
# signal_live.py (—Å—Ç—Ä–æ–∫–∞ 4220)
if ATRA_ENV != "prod":
    logger.info("‚è≠Ô∏è [AUTO] %s: –æ–∫—Ä—É–∂–µ–Ω–∏–µ=%s, –∞–≤—Ç–æ-–∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Ç–∫–ª—é—á–µ–Ω–æ", symbol, ATRA_ENV)
    return

# auto_execution.py (—Å—Ç—Ä–æ–∫–∞ 52)
if ATRA_ENV != "prod":
    logger.error("üö´ [AUTO BLOCKED] %s: –ê–í–¢–û-–ò–°–ü–û–õ–ù–ï–ù–ò–ï –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù–û!", symbol)
    return False
```

## üéØ –í–´–í–û–î

**–õ–æ–≥–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∏–≥–Ω–∞–ª–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–¥–∏–Ω–∞–∫–æ–≤–∞—è** –¥–ª—è DEV –∏ PROD.

**–†–∞–∑–ª–∏—á–∏—è —Ç–æ–ª—å–∫–æ –≤:**
1. Telegram —Ç–æ–∫–µ–Ω (–∫—É–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Å–∏–≥–Ω–∞–ª—ã)
2. –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (–¥–µ—Ç–∞–ª—å–Ω–æ—Å—Ç—å –ª–æ–≥–æ–≤)
3. –ê–≤—Ç–æ-–∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ (DEV –≤—Å–µ–≥–¥–∞ manual, PROD –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫)

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ:
- ‚úÖ –°–∏–≥–Ω–∞–ª—ã –≤ DEV –∏ PROD –±—É–¥—É—Ç **–æ–¥–∏–Ω–∞–∫–æ–≤–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞**
- ‚úÖ –§–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç **–æ–¥–∏–Ω–∞–∫–æ–≤–æ**
- ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ **–æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ**
- ‚ö†Ô∏è –ù–æ —Å–∏–≥–Ω–∞–ª—ã –∏–¥—É—Ç –≤ **—Ä–∞–∑–Ω—ã–µ Telegram –±–æ—Ç—ã**
- ‚ö†Ô∏è DEV –±–æ—Ç **–Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–æ–∑–∏—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**

## üîç –ü–†–û–í–ï–†–ö–ê –ù–ê –°–ï–†–í–ï–†–ï

–ß—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ª–æ–≥–∏–∫–∞ –æ–¥–∏–Ω–∞–∫–æ–≤–∞—è:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∫–æ–¥
cd /root/atra
git log --oneline -1

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –Ω–µ—Ç —Ä–∞–∑–ª–∏—á–∏–π –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö
grep -E "TP1|TP2|SL|leverage" config.py | head -10
```

## ‚ö†Ô∏è –í–ê–ñ–ù–û

–ï—Å–ª–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∑–∞–ø—É—â–µ–Ω—ã –æ–±–∞ –±–æ—Ç–∞ (DEV –∏ PROD), –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã:
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∫–æ–¥** (–∏–∑ –æ–¥–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è)
- ‚úÖ –ò–º–µ—Ç—å **—Ä–∞–∑–Ω—ã–µ ATRA_ENV** (dev vs prod)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—Ä–∞–∑–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã** (DEV vs PROD)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—Ä–∞–∑–Ω—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)

–ù–æ **–ª–æ–≥–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∏–≥–Ω–∞–ª–æ–≤ –±—É–¥–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π** –¥–ª—è –æ–±–æ–∏—Ö.

