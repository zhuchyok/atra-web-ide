# –û–¢–ß–ï–¢ –ü–û –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò –ò –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò

**–î–∞—Ç–∞:** 2025-12-01  
**–ö–æ–º–∞–Ω–¥–∞:** –ê–ª–µ–∫—Å–µ–π (Security Engineer), –û–ª—å–≥–∞ (Performance Engineer)

## ‚úÖ –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨

### 1. –•—Ä–∞–Ω–µ–Ω–∏–µ API –∫–ª—é—á–µ–π ‚úÖ
- ‚úÖ API –∫–ª—é—á–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `config.py` —á–µ—Ä–µ–∑ `os.getenv()`
- ‚úÖ Telegram —Ç–æ–∫–µ–Ω—ã: `TELEGRAM_TOKEN`, `TELEGRAM_TOKEN_DEV`
- ‚úÖ News API –∫–ª—é—á–∏: `CRYPTOPANIC_API_KEY`, `NEWSDATA_API_KEY`
- ‚úÖ –ö–ª—é—á–∏ –Ω–µ —Ö–∞—Ä–¥–∫–æ–¥—è—Ç—Å—è –≤ –∫–æ–¥–µ
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `.env` —Ñ–∞–π–ª –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å –≤ Git

### 2. –ó–∞—â–∏—Ç–∞ –æ—Ç SQL Injection ‚úÖ
- ‚úÖ –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `?` –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (SQLite)
- ‚úÖ –ù–µ—Ç –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏–∏ —Å—Ç—Ä–æ–∫ –≤ SQL –∑–∞–ø—Ä–æ—Å–∞—Ö
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:
  ```python
  cursor.execute("INSERT INTO signals (symbol, price) VALUES (?, ?)", (symbol, price))
  cursor.execute("SELECT * FROM signals WHERE symbol = ?", (symbol,))
  ```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç SQL injection —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### 3. –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö ‚úÖ
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –ë–î
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–∏–º–≤–æ–ª–æ–≤ (—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å—Ç–µ–π–±–ª–∫–æ–∏–Ω–æ–≤)

### 4. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ —Å–µ–∫—Ä–µ—Ç–æ–≤ ‚úÖ
- ‚úÖ API –∫–ª—é—á–∏ –Ω–µ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
- ‚úÖ –ü–∞—Ä–æ–ª–∏ –Ω–µ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
- ‚úÖ –¢–æ–∫–µ–Ω—ã –Ω–µ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
- ‚úÖ –õ–æ–≥–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—É–±–ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—Å–∏–º–≤–æ–ª—ã, —Ü–µ–Ω—ã, —Å—Ç–∞—Ç—É—Å—ã)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ

---

## ‚ö° –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–ò

### 1. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ ‚úÖ

#### News Filter
- ‚úÖ TTL –∫—ç—à: 15-30 –º–∏–Ω—É—Ç –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- ‚úÖ –ö—ç—à –≤ –ø–∞–º—è—Ç–∏: `NEWS_CACHE` dictionary
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ TTL –ø–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º –∫ API

#### Whale Filter
- ‚úÖ TTL –∫—ç—à: 30 –º–∏–Ω—É—Ç
- ‚úÖ –ö—ç—à –≤ –ø–∞–º—è—Ç–∏: `WHALE_CACHE` dictionary
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ TTL –ø–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º –∫ API

#### Database
- ‚úÖ Connection pooling (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
- ‚úÖ WAL mode –¥–ª—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏
- ‚úÖ Busy timeout: 30 —Å–µ–∫—É–Ω–¥

### 2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î ‚úÖ
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ (—á–µ—Ä–µ–∑ `database_schema.sql`)
- ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (–±—ã—Å—Ç—Ä–µ–µ, –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ)
- ‚úÖ Connection pooling –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- ‚úÖ WAL mode –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö —á—Ç–µ–Ω–∏–π

### 3. Rate Limiting ‚úÖ

#### Telegram API
- ‚úÖ `UserRateLimiter`: 1 —Å–µ–∫—É–Ω–¥–∞ –º–µ–∂–¥—É —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏, 20 —Å–æ–æ–±—â–µ–Ω–∏–π/–º–∏–Ω—É—Ç—É
- ‚úÖ `GlobalRateLimiter`: 30 —Å–æ–æ–±—â–µ–Ω–∏–π/—Å–µ–∫—É–Ω–¥—É –≥–ª–æ–±–∞–ª—å–Ω–æ
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏ Flood Control
- ‚úÖ Exponential backoff –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

#### External APIs
- ‚úÖ News API: –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–Ω–∏–∂–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ Whale API: –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–Ω–∏–∂–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ Binance API: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—É–±–ª–∏—á–Ω—ã–π API (–±–µ–∑ rate limits –¥–ª—è —á—Ç–µ–Ω–∏—è)

### 4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ ‚úÖ
- ‚úÖ Rust –º–æ–¥—É–ª—å `atra_rs` –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
- ‚úÖ –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å –¥–ª—è –±—ç–∫—Ç–µ—Å—Ç–æ–≤ (20 –ø–æ—Ç–æ–∫–æ–≤)
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ (–≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ)

---

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –ê–£–î–ò–¢–ê

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ **SQL Injection:** –ó–∞—â–∏—â–µ–Ω–æ (–ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã)
- ‚úÖ **API Keys:** –ë–µ–∑–æ–ø–∞—Å–Ω–æ (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è)
- ‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ë–µ–∑–æ–ø–∞—Å–Ω–æ (–Ω–µ—Ç —Å–µ–∫—Ä–µ—Ç–æ–≤)
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è:** –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (News, Whale, –ë–î)
- ‚úÖ **Rate Limiting:** –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (Telegram, API)
- ‚úÖ **Connection Pooling:** –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–ë–î)
- ‚úÖ **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π:** –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (Rust –º–æ–¥—É–ª—å)

---

## üéØ –í–´–í–û–î–´

1. ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∞—Å–ø–µ–∫—Ç—ã –∑–∞—â–∏—â–µ–Ω—ã
2. ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
3. ‚úÖ **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:** –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨ –ò –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –ü–†–û–í–ï–†–ï–ù–´**

