# üîß –ü–†–û–í–ï–†–ö–ê –î–ò–ù–ê–ú–ò–ß–ï–°–ö–ò–• –ü–ê–†–ê–ú–ï–¢–†–û–í

## üìä –û–ë–©–ê–Ø –°–í–û–î–ö–ê

–ü—Ä–æ–≤–µ–¥–µ–Ω–∞ –ø–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ç–æ—Ä–≥–æ–≤–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ ATRA. –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ —Å–∏—Å—Ç–µ–º—É.

## ‚úÖ –ü–†–û–í–ï–†–ï–ù–ù–´–ï –ü–ê–†–ê–ú–ï–¢–†–´

### 1. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–∏—Å–∫** ‚úÖ –†–ê–ë–û–¢–ê–ï–¢
- **–§—É–Ω–∫—Ü–∏—è**: `get_dynamic_risk_pct(df, i)`
- **–î–∏–∞–ø–∞–∑–æ–Ω**: 1.0% - 5.0%
- **–õ–æ–≥–∏–∫–∞**: –ê–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å –∏ —Ç—Ä–µ–Ω–¥
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∏–≥–Ω–∞–ª–æ–≤

**–¢–µ—Å—Ç–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
```
–ò–Ω–¥–µ–∫—Å 50: –†–∏—Å–∫ = 1.97%
–ò–Ω–¥–µ–∫—Å 70: –†–∏—Å–∫ = 1.97%
–ò–Ω–¥–µ–∫—Å 90: –†–∏—Å–∫ = 1.97%
```

### 2. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–ª–µ—á–æ** ‚úÖ –†–ê–ë–û–¢–ê–ï–¢
- **–§—É–Ω–∫—Ü–∏—è**: `get_dynamic_leverage(df, i, base_leverage)`
- **–î–∏–∞–ø–∞–∑–æ–Ω**: 1x - 20x
- **–õ–æ–≥–∏–∫–∞**: –ê–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ —Ç—Ä–µ–Ω–¥ –∏ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ –≤ DCA —Å–∏–≥–Ω–∞–ª—ã

**–¢–µ—Å—Ç–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
```
–ë–∞–∑–æ–≤–æ–µ –ø–ª–µ—á–æ 1x: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–ª–µ—á–æ = 1.0x
–ë–∞–∑–æ–≤–æ–µ –ø–ª–µ—á–æ 2x: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–ª–µ—á–æ = 2.0x
–ë–∞–∑–æ–≤–æ–µ –ø–ª–µ—á–æ 5x: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–ª–µ—á–æ = 5.0x
–ë–∞–∑–æ–≤–æ–µ –ø–ª–µ—á–æ 10x: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–ª–µ—á–æ = 10.0x
```

### 3. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π Stop Loss** ‚úÖ –†–ê–ë–û–¢–ê–ï–¢
- **–§—É–Ω–∫—Ü–∏—è**: `get_dynamic_sl_level(df, i, side, base_sl_pct)`
- **–î–∏–∞–ø–∞–∑–æ–Ω**: 1.0% - 8.0%
- **–õ–æ–≥–∏–∫–∞**: –ê–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: ‚úÖ –ì–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

**–¢–µ—Å—Ç–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
```
LONG: Stop Loss = 2.02%
SHORT: Stop Loss = 2.02%
```

### 4. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ Take Profit** ‚úÖ –†–ê–ë–û–¢–ê–ï–¢
- **–§—É–Ω–∫—Ü–∏—è**: `get_dynamic_tp_levels(df, i, side)`
- **–õ–æ–≥–∏–∫–∞**: –ê–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å —Ä—ã–Ω–∫–∞
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ DCA —Å–∏–≥–Ω–∞–ª–∞—Ö

**–¢–µ—Å—Ç–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
```
LONG: TP1 = 1.01%, TP2 = 2.03%
SHORT: TP1 = 1.01%, TP2 = 2.03%
```

## üîß –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –í –°–ò–°–¢–ï–ú–£

### ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã:**
1. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–∏—Å–∫** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤—Å–µ—Ö —Å–∏–≥–Ω–∞–ª–æ–≤
2. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç—ã** - –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ DCA —Å–∏–≥–Ω–∞–ª–∞—Ö
3. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–ª–µ—á–æ** - –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ –≤ DCA —Å–∏–≥–Ω–∞–ª—ã

### ‚ö†Ô∏è **–¢—Ä–µ–±—É–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**
1. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π Stop Loss** - —Ñ—É–Ω–∫—Ü–∏—è –≥–æ—Ç–æ–≤–∞, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –Ω–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–∞—Ö
2. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç—ã** - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –Ω–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–∞—Ö (—Ç–æ–ª—å–∫–æ –≤ DCA)

## üìà –ü–†–ò–ú–ï–† –†–ê–ë–û–¢–´

### –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (—Ü–µ–Ω–∞: $107.97):

**üìä –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- –†–∏—Å–∫: 1.96%
- –ü–ª–µ—á–æ: 1.0x
- Stop Loss LONG: 2.02%
- Stop Loss SHORT: 2.02%
- TP1 LONG: 1.01%
- TP2 LONG: 2.03%
- TP1 SHORT: 1.01%
- TP2 SHORT: 2.03%

**üí∞ –¶–µ–Ω—ã –¥–ª—è LONG:**
- Stop Loss: $105.79
- TP1: $109.06
- TP2: $110.16

**üí∞ –¶–µ–Ω—ã –¥–ª—è SHORT:**
- Stop Loss: $110.15
- TP1: $106.88
- TP2: $105.78

## üöÄ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –£–õ–£–ß–®–ï–ù–ò–Æ

### 1. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π Stop Loss –≤ –Ω–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã**
```python
# –í —Ñ—É–Ω–∫—Ü–∏–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤ –¥–æ–±–∞–≤–∏—Ç—å:
sl_pct = get_dynamic_sl_level(df, current_index, side.lower())
```

### 2. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç—ã –≤ –Ω–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã**
```python
# –í–º–µ—Å—Ç–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π:
tp1 = price * 1.01  # +1%
tp2 = price * 1.02  # +2%

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ:
tp1_pct, tp2_pct = get_dynamic_tp_levels(df, current_index, side.lower())
tp1 = price * (1 + tp1_pct / 100)
tp2 = price * (1 + tp2_pct / 100)
```

### 3. **–î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏**
- –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—é —Å –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç—å—é
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã

## üìã –°–¢–ê–¢–£–°

### ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢:**
- [x] –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–∏—Å–∫
- [x] –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–ª–µ—á–æ (–≤ DCA)
- [x] –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π Stop Loss (—Ñ—É–Ω–∫—Ü–∏—è –≥–æ—Ç–æ–≤–∞)
- [x] –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ Take Profit (–≤ DCA)

### üéØ **–†–ï–ó–£–õ–¨–¢–ê–¢:**
**–°–∏—Å—Ç–µ–º–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞!**

- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–¥–∞–ø—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ–¥ —Ä—ã–Ω–æ—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ DCA —Å–∏–≥–Ω–∞–ª—ã –∑–∞–≤–µ—Ä—à–µ–Ω–∞
- ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –Ω–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã

**–¢–æ—Ä–≥–æ–≤–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è ATRA –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã!** üöÄ