# üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ì–ï–ù–ï–†–ê–¶–ò–ò –°–ò–ì–ù–ê–õ–û–í

**–ê–≤—Ç–æ—Ä:** –ú–∞—Ä–∏—è (Technical Writer) - Priority 2  
**–î–∞—Ç–∞:** November 23, 2025  
**–í–µ—Ä—Å–∏—è:** 1.0

---

## üìã –û–ë–ó–û–†

–°–∏—Å—Ç–µ–º–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤ ATRA –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∏ –ø—Ä–æ–≤–µ—Ä–æ–∫ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ —Å–∏–≥–Ω–∞–ª–æ–≤.

---

## üîÑ –û–°–ù–û–í–ù–û–ô –ü–û–¢–û–ö –ì–ï–ù–ï–†–ê–¶–ò–ò –°–ò–ì–ù–ê–õ–ê

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    check_and_send_signals()                 ‚îÇ
‚îÇ              (–û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–∏–º–≤–æ–ª–æ–≤)             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚îÇ
                        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              process_symbol_signals()                        ‚îÇ
‚îÇ         (–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∏–º–≤–æ–ª–∞)             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚îÇ
                        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ            _generate_signal_impl()                          ‚îÇ
‚îÇ         (–û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∏–≥–Ω–∞–ª–∞)                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ                               ‚îÇ
        ‚ñº                               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –í–∞–ª–∏–¥–∞—Ü–∏—è      ‚îÇ          ‚îÇ  –§–∏–ª—å—Ç—Ä—ã         ‚îÇ
‚îÇ  –¥–∞–Ω–Ω—ã—Ö         ‚îÇ          ‚îÇ  –∫–∞—á–µ—Å—Ç–≤–∞        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                             ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚îÇ
                         ‚ñº
              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
              ‚îÇ  –ü–∞—Ç—Ç–µ—Ä–Ω—ã —Å–∏–≥–Ω–∞–ª–æ–≤   ‚îÇ
              ‚îÇ  (classic, alt_1-3)   ‚îÇ
              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚îÇ
                         ‚ñº
              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
              ‚îÇ  ML —Ñ–∏–ª—å—Ç—Ä           ‚îÇ
              ‚îÇ  (LightGBM)          ‚îÇ
              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚îÇ
                         ‚ñº
              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
              ‚îÇ  –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–∏–≥–Ω–∞–ª–∞    ‚îÇ
              ‚îÇ  (Telegram)          ‚îÇ
              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üß© –ö–û–ú–ü–û–ù–ï–ù–¢–´ –°–ò–°–¢–ï–ú–´

### **1. –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**

**–ö–ª–∞—Å—Å:** `SignalQualityValidator`

**–§—É–Ω–∫—Ü–∏–∏:**
- `calculate_quality_score()` - —Ä–∞—Å—á—ë—Ç –æ–±—â–µ–≥–æ score –∫–∞—á–µ—Å—Ç–≤–∞
- `is_signal_valid()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ —Å–∏–≥–Ω–∞–ª–∞

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- –ö–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö (30%)
- –°–∏–ª–∞ —Ç—Ä–µ–Ω–¥–∞ (25%)
- –û–±—ä—ë–º (20%)
- –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å (15%)
- RSI (10%)

---

### **2. –§–∏–ª—å—Ç—Ä—ã –∫–∞—á–µ—Å—Ç–≤–∞**

**–ö–ª–∞—Å—Å—ã:**
- `PatternConfidenceScorer` - –æ—Ü–µ–Ω–∫–∞ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- `DynamicSymbolBlocker` - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–∏–º–≤–æ–ª–æ–≤
- `SmartRSIFilter` - —É–º–Ω—ã–π RSI —Ñ–∏–ª—å—Ç—Ä
- `PipelineMonitor` - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ pipeline

**–§—É–Ω–∫—Ü–∏–∏:**
- `check_ai_volume_filter()` - —Ñ–∏–ª—å—Ç—Ä –æ–±—ä—ë–º–∞
- `check_ai_volatility_filter()` - —Ñ–∏–ª—å—Ç—Ä –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
- `check_all_trend_alignments()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è —Ç—Ä–µ–Ω–¥–æ–≤
- `check_new_filters()` - –Ω–æ–≤—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã (Dominance, Fibonacci, etc.)

---

### **3. –ü–∞—Ç—Ç–µ—Ä–Ω—ã —Å–∏–≥–Ω–∞–ª–æ–≤**

**–¢–∏–ø—ã –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤:**

1. **Classic EMA** - –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π EMA –∫—Ä–æ—Å—Å–æ–≤–µ—Ä
   - –í—ã—Å–æ–∫–∞—è –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å (0.8)
   - EMA fast > EMA slow –¥–ª—è LONG
   - EMA fast < EMA slow –¥–ª—è SHORT

2. **Alternative 1** - EMA –±–ª–∏–∑–∫–æ + –±—ã—á–∏–π/–º–µ–¥–≤–µ–∂–∏–π –±–∞—Ä + –æ–±—ä—ë–º
   - –°—Ä–µ–¥–Ω—è—è –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å (0.7)
   - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–±—ä—ë–º–∞

3. **Alternative 2** - –¶–µ–Ω–∞ + —Ç—Ä–µ–Ω–¥ + RSI
   - –°—Ä–µ–¥–Ω—è—è –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å (0.65)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ RSI

4. **Alternative 3** - –û—Ç—Å–∫–æ–∫ –æ—Ç —É—Ä–æ–≤–Ω—è + –æ–±—ä—ë–º + BB
   - –ù–∏–∑–∫–∞—è –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å (0.6)

---

### **4. ML —Ñ–∏–ª—å—Ç—Ä**

**–§—É–Ω–∫—Ü–∏—è:** `check_ml_filter()`

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –°–±–æ—Ä –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ (RSI, MACD, EMA, BB, ATR, ADX)
2. –°–±–æ—Ä —Ä—ã–Ω–æ—á–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π (BTC trend, volume ratio, volatility)
3. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å–∏–≥–Ω–∞–ª–∞ (entry, TP1, TP2, risk, leverage)
4. –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —á–µ—Ä–µ–∑ LightGBM
5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä–æ–≥–æ–≤ (probability, expected profit)

**–ü–æ—Ä–æ–≥–∏:**
- `ML_MIN_WIN_PROBABILITY` = 0.40 (40%)
- `ML_MIN_EXPECTED_PROFIT` = 0.5% (0.5%)

---

### **5. MTF Confirmation**

**–§—É–Ω–∫—Ü–∏—è:** `_run_mtf_confirmation_with_logging()`

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –ü–æ–ø—ã—Ç–∫–∞ –≥–∏–±—Ä–∏–¥–Ω–æ–π MTF (H4 + H1)
2. Fallback –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é MTF (H4)
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –Ω–∞ —Å—Ç–∞—Ä—à–µ–º —Ç–∞–π–º—Ñ—Ä–µ–π–º–µ

---

## üîç –ü–û–°–õ–ï–î–û–í–ê–¢–ï–õ–¨–ù–û–°–¢–¨ –ü–†–û–í–ï–†–û–ö

```
1. –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
   ‚îú‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –¥–∞–Ω–Ω—ã—Ö
   ‚îú‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –±–∞—Ä–æ–≤ (50)
   ‚îî‚îÄ –ò–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è NaN –∑–Ω–∞—á–µ–Ω–∏–π

2. AI Score –ø—Ä–æ–≤–µ—Ä–∫–∞
   ‚îú‚îÄ –†–∞—Å—á—ë—Ç AI score
   ‚îî‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä–æ–≥–∞ (15.0 –¥–ª—è soft, 25.0 –¥–ª—è strict)

3. Volume —Ñ–∏–ª—å—Ç—Ä
   ‚îî‚îÄ check_ai_volume_filter()

4. Volatility —Ñ–∏–ª—å—Ç—Ä
   ‚îî‚îÄ check_ai_volatility_filter()

5. Anomaly detection
   ‚îî‚îÄ calculate_anomaly_circles_with_fallback()

6. MTF Confirmation
   ‚îî‚îÄ _run_mtf_confirmation_with_logging()

7. –ü–∞—Ç—Ç–µ—Ä–Ω —Å–∏–≥–Ω–∞–ª–∞
   ‚îú‚îÄ Classic EMA
   ‚îú‚îÄ Alternative 1
   ‚îú‚îÄ Alternative 2
   ‚îî‚îÄ Alternative 3

8. Quality –∏ Confidence –ø—Ä–æ–≤–µ—Ä–∫–∏
   ‚îú‚îÄ SignalQualityValidator
   ‚îî‚îÄ PatternConfidenceScorer

9. Trend alignments
   ‚îî‚îÄ check_all_trend_alignments()

10. ML —Ñ–∏–ª—å—Ç—Ä
    ‚îî‚îÄ check_ml_filter()

11. –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–∏–≥–Ω–∞–ª–∞
    ‚îî‚îÄ send_signal()
```

---

## üìä –ú–ï–¢–†–ò–ö–ò –ò –ú–û–ù–ò–¢–û–†–ò–ù–ì

**PipelineMonitor** –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç:
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫
- –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞
- –§–∏–Ω–∞–ª—å–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

**Prometheus –º–µ—Ç—Ä–∏–∫–∏:**
- `signal_generated` - —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã
- `signal_accepted` - –ø—Ä–∏–Ω—è—Ç—ã–µ —Å–∏–≥–Ω–∞–ª—ã
- `signal_rejected` - –æ—Ç–∫–ª–æ–Ω—ë–Ω–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã
- `ml_prediction` - ML –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è

---

## üîß –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `filter_mode` - —Ä–µ–∂–∏–º —Ñ–∏–ª—å—Ç—Ä–æ–≤ ("soft" –∏–ª–∏ "strict")
- `ai_score_threshold` - –ø–æ—Ä–æ–≥ AI score (15.0 –¥–ª—è soft, 25.0 –¥–ª—è strict)
- `ML_MIN_WIN_PROBABILITY` - –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —É—Å–ø–µ—Ö–∞ (0.40)
- `ML_MIN_EXPECTED_PROFIT` - –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –æ–∂–∏–¥–∞–µ–º–∞—è –ø—Ä–∏–±—ã–ª—å (0.5%)

---

## üìù –ü–†–ò–ú–ï–†–´ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø

### **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–∞:**

```python
# –í check_and_send_signals()
signal_type, signal_price = await _generate_signal_impl(
    symbol=symbol,
    df=df,
    user_data=user_data,
    regime_data=regime_data,
    regime_multipliers=regime_multipliers
)

if signal_type and signal_price:
    await send_signal(...)
```

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ ML —Ñ–∏–ª—å—Ç—Ä–∞:**

```python
ml_passed, ml_reason, prediction = await check_ml_filter(
    symbol=symbol,
    signal_type=signal_type,
    entry_price=entry_price,
    df=df,
    quality_score=quality_score,
    mtf_score=mtf_score,
    tp1=tp1_price,
    tp2=tp2_price,
    risk_pct=risk_pct,
    leverage=leverage,
    regime_data=regime_data
)
```

---

## üöÄ –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò

1. **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã** - API –∑–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
2. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¥–∞–Ω–Ω—ã–µ –∫—ç—à–∏—Ä—É—é—Ç—Å—è –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
3. **Connection pooling** - –ø—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –¥–ª—è –ë–î
4. **Async/await** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

---

## üìö –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø

- [API Reference](../docs/API_REFERENCE.md)
- [Comprehensive System Audit](../scripts/COMPREHENSIVE_SYSTEM_AUDIT.md)
- [Testing Policy](../scripts/TESTING_POLICY.md)

---

*–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞: –ú–∞—Ä–∏—è (Technical Writer)*

