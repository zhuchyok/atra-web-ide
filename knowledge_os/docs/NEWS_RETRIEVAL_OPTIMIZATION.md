# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π (—É—Å–∫–æ—Ä–µ–Ω–∏–µ)

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–£—Å–ø–µ—à–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π –ø—É—Ç–µ–º —É–º–µ–Ω—å—à–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–ø—ã—Ç–æ–∫ —Å 3 –¥–æ 1 –¥–ª—è –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É—Å–∫–æ—Ä—è–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∏–≥–Ω–∞–ª–æ–≤.

## ‚ö° –ü—Ä–æ–±–ª–µ–º–∞

### –ë—ã–ª–æ:
- **3 –ø–æ–ø—ã—Ç–∫–∏** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π
- **–î–ª–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏** –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö API
- **–ú–µ–¥–ª–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** —Å–∏–≥–Ω–∞–ª–æ–≤
- **–ò–∑–±—ã—Ç–æ—á–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã** –∫ API

### –°—Ç–∞–ª–æ:
- **1 –ø–æ–ø—ã—Ç–∫–∞** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π
- **–ë—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** –æ—à–∏–±–æ–∫
- **–£—Å–∫–æ—Ä–µ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è** —Å–∏–≥–Ω–∞–ª–æ–≤
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã** –∫ API

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. **CoinGecko API**
```python
# –ë–´–õ–û:
max_retries = 3
retry_delay = 1  # —Å–µ–∫—É–Ω–¥—ã

# –°–¢–ê–õ–û:
max_retries = 1  # –£–º–µ–Ω—å—à–∏–ª–∏ —Å 3 –¥–æ 1 –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è
retry_delay = 1  # —Å–µ–∫—É–Ω–¥—ã
```

### 2. **NewsData.io API**
```python
# –ë–´–õ–û:
max_retries = 3
retry_delay = 1  # —Å–µ–∫—É–Ω–¥—ã

# –°–¢–ê–õ–û:
max_retries = 1  # –£–º–µ–Ω—å—à–∏–ª–∏ —Å 3 –¥–æ 1 –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è
retry_delay = 1  # —Å–µ–∫—É–Ω–¥—ã
```

### 3. **CryptoPanic API**
```python
# –ë–´–õ–û:
max_retries = 3
retry_delay = 1  # —Å–µ–∫—É–Ω–¥—ã

# –°–¢–ê–õ–û:
max_retries = 1  # –£–º–µ–Ω—å—à–∏–ª–∏ —Å 3 –¥–æ 1 –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è
retry_delay = 1  # —Å–µ–∫—É–Ω–¥—ã
```

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –¢–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:
```
üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π...
[NewsFilter] CryptoPanic API rate limit –¥–ª—è BTCUSDT, –ø–æ–ø—ã—Ç–∫–∞ 1/1
[NewsFilter] NewsData.io: –ø–æ–ª—É—á–µ–Ω–æ 10 –Ω–æ–≤–æ—Å—Ç–µ–π –¥–ª—è BTCUSDT
[NewsFilter] Bitcoin.com: –ø–æ–ª—É—á–µ–Ω–æ 10 –Ω–æ–≤–æ—Å—Ç–µ–π –¥–ª—è BTCUSDT
[NewsFilter] Cointelegraph: –ø–æ–ª—É—á–µ–Ω–æ 0 –Ω–æ–≤–æ—Å—Ç–µ–π –¥–ª—è BTCUSDT
[NewsFilter] AMBCrypto: –ø–æ–ª—É—á–µ–Ω–æ 16 –Ω–æ–≤–æ—Å—Ç–µ–π –¥–ª—è BTCUSDT
[NewsFilter] –ü–æ–ª—É—á–µ–Ω–æ –Ω–æ–≤–æ—Å—Ç–µ–π: TradingView=3, CoinGecko=1, CryptoPanic=0, NewsData.io=10, CoinDesk=0, Bitcoin.com=10, CryptoSlate=0, Cointelegraph=0, AMBCrypto=16, –ò—Ç–æ–≥–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö=39
‚úÖ –ù–æ–≤–æ—Å—Ç–∏ –ø–æ–ª—É—á–µ–Ω—ã –∑–∞ 4.63 —Å–µ–∫—É–Ω–¥
‚úÖ –ü–æ–ª—É—á–µ–Ω–æ 39 –Ω–æ–≤–æ—Å—Ç–µ–π
‚úÖ –°–∫–æ—Ä–æ—Å—Ç—å –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π –≤ –Ω–æ—Ä–º–µ
```

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏:

#### **–î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (3 –ø–æ–ø—ã—Ç–∫–∏):**
- **CoinGecko**: –¥–æ 6 —Å–µ–∫—É–Ω–¥ (3 –ø–æ–ø—ã—Ç–∫–∏ √ó 2 —Å–µ–∫—É–Ω–¥—ã)
- **NewsData.io**: –¥–æ 6 —Å–µ–∫—É–Ω–¥ (3 –ø–æ–ø—ã—Ç–∫–∏ √ó 2 —Å–µ–∫—É–Ω–¥—ã)
- **CryptoPanic**: –¥–æ 6 —Å–µ–∫—É–Ω–¥ (3 –ø–æ–ø—ã—Ç–∫–∏ √ó 2 —Å–µ–∫—É–Ω–¥—ã)
- **–û–±—â–µ–µ –≤—Ä–µ–º—è**: –¥–æ 18 —Å–µ–∫—É–Ω–¥ + –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏

#### **–ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (1 –ø–æ–ø—ã—Ç–∫–∞):**
- **CoinGecko**: –¥–æ 2 —Å–µ–∫—É–Ω–¥ (1 –ø–æ–ø—ã—Ç–∫–∞)
- **NewsData.io**: –¥–æ 2 —Å–µ–∫—É–Ω–¥ (1 –ø–æ–ø—ã—Ç–∫–∞)
- **CryptoPanic**: –¥–æ 2 —Å–µ–∫—É–Ω–¥ (1 –ø–æ–ø—ã—Ç–∫–∞)
- **–û–±—â–µ–µ –≤—Ä–µ–º—è**: –¥–æ 6 —Å–µ–∫—É–Ω–¥ + –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏

### **–£—Å–∫–æ—Ä–µ–Ω–∏–µ: ~3x –±—ã—Å—Ç—Ä–µ–µ**

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. **–°–∫–æ—Ä–æ—Å—Ç—å**
- **–ë—ã—Å—Ç—Ä–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤** - –º–µ–Ω—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –æ–∂–∏–¥–∞–Ω–∏—è
- **–ú–µ–Ω—å—à–µ –∑–∞–¥–µ—Ä–∂–µ–∫** –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö API
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** –Ω–æ–≤–æ—Å—Ç–µ–π

### 2. **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**
- **–°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏** –Ω–∞ API —Å–µ—Ä–≤–µ—Ä—ã
- **–ú–µ–Ω—å—à–µ —Å–µ—Ç–µ–≤–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞** - —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤** —Å–∏—Å—Ç–µ–º—ã

### 3. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**
- **Graceful degradation** - —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –∫–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ—Ç —Ä–µ–¥–∫–∏–µ –æ—à–∏–±–∫–∏
- **Fallback –∏—Å—Ç–æ—á–Ω–∏–∫–∏** –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å

## üì± –õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

### –ù–æ–≤–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è:
```python
for attempt in range(max_retries):  # max_retries = 1
    try:
        # –ü–æ–ø—ã—Ç–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π
        response = await session.get(url, params=params, timeout=10)

        if response.status == 200:
            # –£—Å–ø–µ—à–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ
            return process_news(response.json())
        elif response.status == 429:  # Rate limit
            print(f"API rate limit, –ø–æ–ø—ã—Ç–∫–∞ {attempt + 1}/{max_retries}")
            # –ë–æ–ª—å—à–µ –Ω–µ –ø–æ–≤—Ç–æ—Ä—è–µ–º - —Å—Ä–∞–∑—É –≤—ã—Ö–æ–¥–∏–º
            return []
        else:
            # –î—Ä—É–≥–∏–µ –æ—à–∏–±–∫–∏ - —Å—Ä–∞–∑—É –≤—ã—Ö–æ–¥–∏–º
            return []

    except Exception as e:
        print(f"API –æ—à–∏–±–∫–∞: {e}, –ø–æ–ø—ã—Ç–∫–∞ {attempt + 1}/{max_retries}")
        # –ë–æ–ª—å—à–µ –Ω–µ –ø–æ–≤—Ç–æ—Ä—è–µ–º - —Å—Ä–∞–∑—É –≤—ã—Ö–æ–¥–∏–º
        return []
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- **–ë—ã—Å—Ç—Ä—ã–π –≤—ã—Ö–æ–¥** –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- **–ú–µ–Ω—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –æ–∂–∏–¥–∞–Ω–∏—è**
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫—ç—à–∞** –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## üîÑ –°–∏—Å—Ç–µ–º–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

### –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è —Ä–µ–¥–∫–∏—Ö –æ—à–∏–±–æ–∫:
```python
# –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–µ–π –Ω–∞ 15-20 –º–∏–Ω—É—Ç
CACHE_TTL = {
    'coingecko': 1800,    # 30 –º–∏–Ω—É—Ç
    'tradingview': 900,   # 15 –º–∏–Ω—É—Ç
    'cryptopanic': 900,   # 15 –º–∏–Ω—É—Ç
    'newsdata': 900,      # 15 –º–∏–Ω—É—Ç
    'coindesk': 1200,     # 20 –º–∏–Ω—É—Ç
    'bitcoincom': 1200,   # 20 –º–∏–Ω—É—Ç
    'cryptoslate': 1200,  # 20 –º–∏–Ω—É—Ç
    'cointelegraph': 1200, # 20 –º–∏–Ω—É—Ç
    'ambcrypto': 1200,     # 20 –º–∏–Ω—É—Ç
}
```

### –õ–æ–≥–∏–∫–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è:
```python
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫—ç—à –ø–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º
cached_news = get_cache('newsdata', symbol)
if cached_news:
    print(f"–ò—Å–ø–æ–ª—å–∑—É–µ–º –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ –¥–ª—è {symbol}")
    return cached_news

# –ï—Å–ª–∏ –∫—ç—à–∞ –Ω–µ—Ç - –¥–µ–ª–∞–µ–º –∑–∞–ø—Ä–æ—Å
news = await get_newsdata_news(symbol)
if news:
    set_cache('newsdata', symbol, news)
return news
```

## üìà –í–ª–∏—è–Ω–∏–µ –Ω–∞ —Å–∏—Å—Ç–µ–º—É

### 1. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤**
- **–ë—ã—Å—Ç—Ä–µ–µ —Ü–∏–∫–ª** –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–æ–Ω–µ—Ç
- **–ú–µ–Ω—å—à–µ –∑–∞–¥–µ—Ä–∂–µ–∫** –º–µ–∂–¥—É —Å–∏–≥–Ω–∞–ª–∞–º–∏
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**

### 2. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç**
- **–ë—ã—Å—Ç—Ä—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –æ —Å–∏–≥–Ω–∞–ª–∞—Ö
- **–ú–µ–Ω—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –æ–∂–∏–¥–∞–Ω–∏—è**
- **–°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞** —Å–∏—Å—Ç–µ–º—ã

### 3. **–°–∏—Å—Ç–µ–º–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã**
- **–°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏** –Ω–∞ CPU
- **–ú–µ–Ω—å—à–µ —Å–µ—Ç–µ–≤—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π**
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏**

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:
- **–í—Ä–µ–º—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π**: 4.63 —Å–µ–∫—É–Ω–¥—ã
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ–≤–æ—Å—Ç–µ–π**: 39 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤**: 9 –∞–∫—Ç–∏–≤–Ω—ã—Ö
- **–°–∫–æ—Ä–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏**: –≤ –Ω–æ—Ä–º–µ

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:
- ‚úÖ –í—Ä–µ–º—è < 30 —Å–µ–∫—É–Ω–¥
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–µ–π > 0
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### –£—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
- ‚úÖ –£–º–µ–Ω—å—à–µ–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫ —Å 3 –¥–æ 1
- ‚úÖ –£—Å–∫–æ—Ä–µ–Ω–∏–µ –≤ ~3 —Ä–∞–∑–∞
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤

### –†–µ–∑—É–ª—å—Ç–∞—Ç:
- **–ë—ã—Å—Ç—Ä–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤** - 4.63 —Å–µ–∫—É–Ω–¥—ã
- **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API** - 1 –ø–æ–ø—ã—Ç–∫–∞
- **–°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ—Ç –æ—à–∏–±–∫–∏
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –º–µ–Ω—å—à–µ –∑–∞–¥–µ—Ä–∂–µ–∫

**–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É—Å–∫–æ—Ä–µ–Ω–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏!** ‚ö°