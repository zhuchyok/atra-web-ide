# ü§ñ –û—Ç—á–µ—Ç: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ò–ò –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Ç–æ—Ä–≥–æ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

### ‚úÖ –ß—Ç–æ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –ò–ò:

#### 1. **TP1 –∏ TP2 (Take Profit)** ‚úÖ –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø –ò–ò

**–ì–¥–µ:** `signal_live.py` (—Å—Ç—Ä–æ–∫–∏ 2949-2974)

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```python
# –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è AITakeProfitOptimizer
if AI_TP_OPTIMIZER_AVAILABLE and AI_TP_OPTIMIZER:
    tp1_pct, tp2_pct = AI_TP_OPTIMIZER.calculate_ai_optimized_tp(
        symbol=symbol,
        side=signal_type,
        df=df,
        current_index=current_index,
        base_tp1=2.0,
        base_tp2=4.0
    )
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç –ò–ò:**
- ‚úÖ –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç 50,000+ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ—Ö–æ–∂–∏—Ö —Å–∏—Ç—É–∞—Ü–∏–π
- ‚úÖ –£—á–∏—Ç—ã–≤–∞–µ—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å, —Å–∏–ª—É —Ç—Ä–µ–Ω–¥–∞, –æ–±—ä—ë–º
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫—É—é —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å TP –¥–ª—è —Å–∏–º–≤–æ–ª–∞
- ‚úÖ –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ TP –Ω–∞ –æ—Å–Ω–æ–≤–µ —É—Å–ø–µ—à–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- ‚úÖ –ü—Ä–∏–º–µ–Ω—è–µ—Ç ML-—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏

**Fallback:** –ï—Å–ª–∏ –ò–ò –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Üí `get_dynamic_tp_levels()` (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ ATR)

---

#### 2. **SL (Stop Loss)** ‚úÖ –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø –ò–ò

**–ì–¥–µ:** `signal_live.py` (—Å—Ç—Ä–æ–∫–∏ 2986-2995), `src/signals/risk.py` (—Å—Ç—Ä–æ–∫–∏ 194-259)

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```python
# –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è AI SL Optimizer
sl_pct_positive = get_dynamic_sl_level(
    df_for_tp, current_index, signal_type.lower(),
    base_sl_pct=2.0, symbol=symbol, use_ai_optimization=True
)
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç –ò–ò:**
- ‚úÖ –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ SL
- ‚úÖ –£—á–∏—Ç—ã–≤–∞–µ—Ç ATR (Average True Range) –¥–ª—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –æ —Å—Ä–µ–¥–Ω–∏—Ö —É–±—ã—Ç–∫–∞—Ö
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç SL –Ω–∞ –æ—Å–Ω–æ–≤–µ —É—Å–ø–µ—à–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

**Fallback:** –ï—Å–ª–∏ –ò–ò –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Üí —Ä–∞—Å—á–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ ATR √ó 2.0

---

#### 3. **–ü–ª–µ—á–æ (Leverage)** ‚úÖ –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø –ò–ò

**–ì–¥–µ:** `signal_live.py` (—Å—Ç—Ä–æ–∫–∏ 3087-3106), `ai_position_sizing.py`

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```python
# –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è AIPositionSizing
ai_risk_pct, ai_leverage, ai_entry_amount = ai_system.calculate_ai_optimized_position_size(
    symbol=symbol,
    side=signal_type,
    df=df,
    current_index=len(df)-1,
    user_data=user_data,
    base_risk_pct=base_risk_pct,
    base_leverage=base_leverage
)
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç –ò–ò:**
- ‚úÖ –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫—É—é —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å–∏–º–≤–æ–ª–∞
- ‚úÖ –£—á–∏—Ç—ã–≤–∞–µ—Ç —Å–∏–ª—É —Ç—Ä–µ–Ω–¥–∞ (trend_strength_factor)
- ‚úÖ –£—á–∏—Ç—ã–≤–∞–µ—Ç —Ä—ã–Ω–æ—á–Ω—ã–π —Å–µ–Ω—Ç–∏–º–µ–Ω—Ç (sentiment_factor)
- ‚úÖ –£—á–∏—Ç—ã–≤–∞–µ—Ç –∑–¥–æ—Ä–æ–≤—å–µ –∞–∫–∫–∞—É–Ω—Ç–∞ (account_health_factor)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç 70% –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö + 30% —Ç–µ–∫—É—â–∏—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤
- ‚úÖ –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –ø–ª–µ—á–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ —É—Å–ø–µ—à–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

**Fallback:** –ï—Å–ª–∏ –ò–ò –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Üí `get_dynamic_leverage()` –∏–ª–∏ –±–∞–∑–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

#### 4. **–°—É–º–º–∞ —Å–¥–µ–ª–∫–∏ (Entry Amount)** ‚úÖ –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø –ò–ò

**–ì–¥–µ:** `signal_live.py` (—Å—Ç—Ä–æ–∫–∏ 3087-3106), `ai_position_sizing.py`

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```python
# –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è AIPositionSizing
ai_entry_amount = ai_system.calculate_ai_optimized_position_size(...)
entry_amount_usdt = ai_entry_amount
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç –ò–ò:**
- ‚úÖ –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é —Å—É–º–º—É –≤—Ö–æ–¥–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ:
  - –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å–∏–º–≤–æ–ª–∞
  - –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ —Ä—ã–Ω–∫–∞
  - –û–±—ä—ë–º–∞ —Ç–æ—Ä–≥–æ–≤
  - –†—ã–Ω–æ—á–Ω–æ–≥–æ —Å–µ–Ω—Ç–∏–º–µ–Ω—Ç–∞
  - –ó–¥–æ—Ä–æ–≤—å—è –∞–∫–∫–∞—É–Ω—Ç–∞
- ‚úÖ –£—á–∏—Ç—ã–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª –∏ —Ç–µ–∫—É—â–∏–µ –ø–æ–∑–∏—Ü–∏–∏
- ‚úÖ –ü—Ä–∏–º–µ–Ω—è–µ—Ç —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç

**Fallback:** –ï—Å–ª–∏ –ò–ò –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Üí `deposit_usdt * (risk_pct / 100)`

---

#### 5. **–†–∏—Å–∫ –Ω–∞ —Å–¥–µ–ª–∫—É (Risk %)** ‚úÖ –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø –ò–ò

**–ì–¥–µ:** `signal_live.py` (—Å—Ç—Ä–æ–∫–∏ 3087-3106), `src/signals/risk.py` (—Å—Ç—Ä–æ–∫–∏ 115-200)

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```python
# –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è AIPositionSizing
ai_risk_pct, _, _ = ai_system.calculate_ai_optimized_position_size(...)
risk_pct = ai_risk_pct
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç –ò–ò:**
- ‚úÖ –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫—É—é —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å–∏–º–≤–æ–ª–∞
- ‚úÖ –£—á–∏—Ç—ã–≤–∞–µ—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å (volatility_factor)
- ‚úÖ –£—á–∏—Ç—ã–≤–∞–µ—Ç –æ–±—ä—ë–º (volume_factor)
- ‚úÖ –£—á–∏—Ç—ã–≤–∞–µ—Ç —Ä—ã–Ω–æ—á–Ω—ã–π —Å–µ–Ω—Ç–∏–º–µ–Ω—Ç (sentiment_factor)
- ‚úÖ –£—á–∏—Ç—ã–≤–∞–µ—Ç –∑–¥–æ—Ä–æ–≤—å–µ –∞–∫–∫–∞—É–Ω—Ç–∞ (account_health_factor)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç 70% –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö + 30% —Ç–µ–∫—É—â–∏—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤

**Fallback:** –ï—Å–ª–∏ –ò–ò –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Üí –±–∞–∑–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–±—ã—á–Ω–æ 2%)

---

## üìã –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞

### TP1 –∏ TP2

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ò–ò –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è? | –ú–µ—Ç–æ–¥ | –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö |
|----------|------------------|-------|-----------------|
| **TP1** | ‚úÖ –î–∞ | `AITakeProfitOptimizer.calculate_ai_optimized_tp()` | 50,000+ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤, –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å, —Ç—Ä–µ–Ω–¥, –æ–±—ä—ë–º |
| **TP2** | ‚úÖ –î–∞ | `AITakeProfitOptimizer.calculate_ai_optimized_tp()` | 50,000+ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤, –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å, —Ç—Ä–µ–Ω–¥, –æ–±—ä—ë–º |

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –ò–ò –Ω–∞—Ö–æ–¥–∏—Ç –ø–æ—Ö–æ–∂–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏–∑ 50,000+ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã—Ö
2. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —É—Å–ø–µ—à–Ω—ã–µ TP —É—Ä–æ–≤–Ω–∏ –¥–ª—è —ç—Ç–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
3. –£—á–∏—Ç—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–µ —Ä—ã–Ω–æ—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è (–≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å, —Ç—Ä–µ–Ω–¥, –æ–±—ä—ë–º)
4. –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ TP1 –∏ TP2
5. –ü—Ä–∏–º–µ–Ω—è–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é (+20% –¥–ª—è –ª—É—á—à–µ–≥–æ Profit Factor)

---

### SL (Stop Loss)

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ò–ò –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è? | –ú–µ—Ç–æ–¥ | –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö |
|----------|------------------|-------|-----------------|
| **SL** | ‚úÖ –î–∞ | `get_dynamic_sl_level(use_ai_optimization=True)` | ATR, –ø–∞—Ç—Ç–µ—Ä–Ω—ã, –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —É–±—ã—Ç–∫–∏ |

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –ò–ò –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ SL
2. –£—á–∏—Ç—ã–≤–∞–µ—Ç ATR –¥–ª—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
3. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –æ —Å—Ä–µ–¥–Ω–∏—Ö —É–±—ã—Ç–∫–∞—Ö
4. –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π SL
5. –ü—Ä–∏–º–µ–Ω—è–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é (-20% –¥–ª—è –ª—É—á—à–µ–≥–æ Profit Factor)

---

### –ü–ª–µ—á–æ (Leverage)

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ò–ò –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è? | –ú–µ—Ç–æ–¥ | –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö |
|----------|------------------|-------|-----------------|
| **Leverage** | ‚úÖ –î–∞ | `AIPositionSizing.calculate_ai_optimized_position_size()` | –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, —Ç—Ä–µ–Ω–¥, —Å–µ–Ω—Ç–∏–º–µ–Ω—Ç, –∑–¥–æ—Ä–æ–≤—å–µ –∞–∫–∫–∞—É–Ω—Ç–∞ |

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –ò–ò –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫—É—é —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å–∏–º–≤–æ–ª–∞
2. –£—á–∏—Ç—ã–≤–∞–µ—Ç —Å–∏–ª—É —Ç—Ä–µ–Ω–¥–∞ (trend_strength_factor)
3. –£—á–∏—Ç—ã–≤–∞–µ—Ç —Ä—ã–Ω–æ—á–Ω—ã–π —Å–µ–Ω—Ç–∏–º–µ–Ω—Ç (sentiment_factor)
4. –£—á–∏—Ç—ã–≤–∞–µ—Ç –∑–¥–æ—Ä–æ–≤—å–µ –∞–∫–∫–∞—É–Ω—Ç–∞ (account_health_factor)
5. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç 70% –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö + 30% —Ç–µ–∫—É—â–∏—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤
6. –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –ø–ª–µ—á–æ

---

### –°—É–º–º–∞ —Å–¥–µ–ª–∫–∏ (Entry Amount)

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ò–ò –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è? | –ú–µ—Ç–æ–¥ | –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö |
|----------|------------------|-------|-----------------|
| **Entry Amount** | ‚úÖ –î–∞ | `AIPositionSizing.calculate_ai_optimized_position_size()` | –†–∏—Å–∫ %, –¥–µ–ø–æ–∑–∏—Ç, –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å, –æ–±—ä—ë–º, —Å–µ–Ω—Ç–∏–º–µ–Ω—Ç |

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –ò–ò —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Ä–∏—Å–∫ % (—Å–º. –≤—ã—à–µ)
2. –£—á–∏—Ç—ã–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª
3. –£—á–∏—Ç—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–µ –ø–æ–∑–∏—Ü–∏–∏
4. –ü—Ä–∏–º–µ–Ω—è–µ—Ç —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç
5. –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é —Å—É–º–º—É –≤—Ö–æ–¥–∞

---

### –†–∏—Å–∫ –Ω–∞ —Å–¥–µ–ª–∫—É (Risk %)

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ò–ò –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è? | –ú–µ—Ç–æ–¥ | –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö |
|----------|------------------|-------|-----------------|
| **Risk %** | ‚úÖ –î–∞ | `AIPositionSizing.calculate_ai_optimized_position_size()` | –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å, –æ–±—ä—ë–º, —Å–µ–Ω—Ç–∏–º–µ–Ω—Ç |

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –ò–ò –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫—É—é —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å–∏–º–≤–æ–ª–∞
2. –£—á–∏—Ç—ã–≤–∞–µ—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å (volatility_factor)
3. –£—á–∏—Ç—ã–≤–∞–µ—Ç –æ–±—ä—ë–º (volume_factor)
4. –£—á–∏—Ç—ã–≤–∞–µ—Ç —Ä—ã–Ω–æ—á–Ω—ã–π —Å–µ–Ω—Ç–∏–º–µ–Ω—Ç (sentiment_factor)
5. –£—á–∏—Ç—ã–≤–∞–µ—Ç –∑–¥–æ—Ä–æ–≤—å–µ –∞–∫–∫–∞—É–Ω—Ç–∞ (account_health_factor)
6. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç 70% –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö + 30% —Ç–µ–∫—É—â–∏—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤
7. –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Ä–∏—Å–∫ %

---

## üîÑ –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞—Å—á–µ—Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

```
1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–∞
   ‚Üì
2. ü§ñ –ò–ò-—Ä–∞—Å—á–µ—Ç TP1/TP2
   ‚Üí AITakeProfitOptimizer.calculate_ai_optimized_tp()
   ‚Üí –ê–Ω–∞–ª–∏–∑ 50,000+ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
   ‚Üí –£—á—ë—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏, —Ç—Ä–µ–Ω–¥–∞, –æ–±—ä—ë–º–∞
   ‚Üì
3. ü§ñ –ò–ò-—Ä–∞—Å—á–µ—Ç SL
   ‚Üí get_dynamic_sl_level(use_ai_optimization=True)
   ‚Üí –ê–Ω–∞–ª–∏–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∏ ATR
   ‚Üí –£—á—ë—Ç –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö —É–±—ã—Ç–∫–æ–≤
   ‚Üì
4. ü§ñ –ò–ò-—Ä–∞—Å—á–µ—Ç –†–∏—Å–∫–∞, –ü–ª–µ—á–∞, –°—É–º–º—ã
   ‚Üí AIPositionSizing.calculate_ai_optimized_position_size()
   ‚Üí –ê–Ω–∞–ª–∏–∑ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
   ‚Üí –£—á—ë—Ç —Ç—Ä–µ–Ω–¥–∞, —Å–µ–Ω—Ç–∏–º–µ–Ω—Ç–∞, –∑–¥–æ—Ä–æ–≤—å—è –∞–∫–∫–∞—É–Ω—Ç–∞
   ‚Üì
5. üèÜ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ TP/SL
   ‚Üí TP1/TP2 √ó 1.2 (—É–≤–µ–ª–∏—á–µ–Ω–∏–µ –Ω–∞ 20%)
   ‚Üí SL √ó 0.8 (—É–º–µ–Ω—å—à–µ–Ω–∏–µ –Ω–∞ 20%)
   ‚Üì
6. –ì–æ—Ç–æ–≤—ã–π —Å–∏–≥–Ω–∞–ª —Å –ò–ò-–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
```

---

## üìä –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ò–ò-—Å–∏—Å—Ç–µ–º—ã

### 1. **AITakeProfitOptimizer** (`ai_tp_optimizer.py`)
- ‚úÖ –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç 50,000+ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- ‚úÖ –ù–∞—Ö–æ–¥–∏—Ç –ø–æ—Ö–æ–∂–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è —Ç–µ–∫—É—â–µ–π —Å–∏—Ç—É–∞—Ü–∏–∏
- ‚úÖ –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ TP1 –∏ TP2
- ‚úÖ –£—á–∏—Ç—ã–≤–∞–µ—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å, —Ç—Ä–µ–Ω–¥, –æ–±—ä—ë–º, ML-—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å

### 2. **AIPositionSizing** (`ai_position_sizing.py`)
- ‚úÖ –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫—É—é —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å–∏–º–≤–æ–ª–æ–≤
- ‚úÖ –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Ä–∏—Å–∫ %, –ø–ª–µ—á–æ, —Å—É–º–º—É –≤—Ö–æ–¥–∞
- ‚úÖ –£—á–∏—Ç—ã–≤–∞–µ—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å, —Ç—Ä–µ–Ω–¥, –æ–±—ä—ë–º, —Å–µ–Ω—Ç–∏–º–µ–Ω—Ç
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç 70% –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö + 30% —Ç–µ–∫—É—â–∏—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤

### 3. **SymbolSpecificOptimizer** (`symbol_specific_optimizer.py`)
- ‚úÖ –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∏–º–≤–æ–ª–∞
- ‚úÖ –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–æ–≤—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

### 4. **AILearningSystem** (`ai_learning_system.py`)
- ‚úÖ –•—Ä–∞–Ω–∏—Ç 50,000+ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- ‚úÖ –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ (–∫–∞–∂–¥—ã–π —á–∞—Å)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

---

## ‚úÖ –ò—Ç–æ–≥

### –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –ò–ò:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ò–ò –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è? | –°—Ç–∞—Ç—É—Å |
|----------|------------------|--------|
| **TP1** | ‚úÖ –î–∞ | `AITakeProfitOptimizer` |
| **TP2** | ‚úÖ –î–∞ | `AITakeProfitOptimizer` |
| **SL** | ‚úÖ –î–∞ | `get_dynamic_sl_level(use_ai_optimization=True)` |
| **–ü–ª–µ—á–æ** | ‚úÖ –î–∞ | `AIPositionSizing` |
| **–°—É–º–º–∞ —Å–¥–µ–ª–∫–∏** | ‚úÖ –î–∞ | `AIPositionSizing` |
| **–†–∏—Å–∫ %** | ‚úÖ –î–∞ | `AIPositionSizing` |

### –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ò–ò:

- ‚úÖ **50,000+ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤** ‚Äî –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–µ —Ç–æ—Ä–≥–æ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
- ‚úÖ **–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** ‚Äî —É—Å–ø–µ—à–Ω–æ—Å—Ç—å —Å–∏–º–≤–æ–ª–æ–≤
- ‚úÖ **–†—ã–Ω–æ—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è** ‚Äî –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å, —Ç—Ä–µ–Ω–¥, –æ–±—ä—ë–º, —Å–µ–Ω—Ç–∏–º–µ–Ω—Ç
- ‚úÖ **–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** ‚Äî –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∏–º–≤–æ–ª–∞

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:

- ‚úÖ **TP/SL —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ** ‚Äî —É–ª—É—á—à–µ–Ω–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ –±–µ–∫—Ç–µ—Å—Ç–∞ (+20% TP, -20% SL)
- ‚úÖ **–ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ** ‚Äî –∫–∞–∂–¥—ã–π —á–∞—Å
- ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤** ‚Äî –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∏–º–≤–æ–ª–∞

---

**–í—ã–≤–æ–¥:** –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (TP1, TP2, SL, –ø–ª–µ—á–æ, —Å—É–º–º–∞ —Å–¥–µ–ª–∫–∏, —Ä–∏—Å–∫) —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –ò–ò –Ω–∞ –æ—Å–Ω–æ–≤–µ 50,000+ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∏–º–≤–æ–ª–∞.

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** 2025-11-13  
**–ê–≤—Ç–æ—Ä:** ATRA Team

