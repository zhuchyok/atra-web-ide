# üë• –°–¢–ê–¢–£–° –†–ï–ê–õ–ò–ó–ê–¶–ò–ò: –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è

## ‚úÖ –≠–¢–ê–ü 1: –ë–∞–∑–æ–≤–∞—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è (–í –ü–†–û–¶–ï–°–°–ï)

### 1. ‚úÖ –°–æ–∑–¥–∞–Ω SlippageManager

**–§–∞–π–ª:** `slippage_manager.py`

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ (H1.1)
  - –í—ã—Å–æ–∫–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å (>100M) ‚Üí 0.05%
  - –°—Ä–µ–¥–Ω—è—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å (10-100M) ‚Üí 0.1%
  - –ù–∏–∑–∫–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å (1-10M) ‚Üí 0.2%
  - –û—á–µ–Ω—å –Ω–∏–∑–∫–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å (<1M) ‚Üí 0.5%
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞–∑–º–µ—Ä–∞ –æ—Ä–¥–µ—Ä–∞
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è (—Ç–∞–±–ª–∏—Ü–∞ `slippage_records`)
- ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è
- ‚úÖ –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è —á–µ—Ä–µ–∑ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫—É —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏ (H2.1)

**–ú–µ—Ç–æ–¥—ã:**
- `calculate_dynamic_slippage()` - —Ä–∞—Å—á–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è
- `record_slippage()` - –∑–∞–ø–∏—Å—å —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è
- `calculate_compensation()` - —Ä–∞—Å—á–µ—Ç –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏
- `get_adjusted_position_size()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞

### 2. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ –≤ OrderManager

**–§–∞–π–ª:** `order_manager.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ `create_market_order()` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ
- ‚úÖ `_fill_order()` - –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ `volume_24h`, `order_size_usd`, `volatility`

### 3. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ –≤ signal_live.py

**–§–∞–π–ª:** `signal_live.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ `entry_amount_usdt`
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `get_adjusted_position_size()` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ —Ä–∞–∑–º–µ—Ä–∞
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ –≤ `sizing_audit`

**–ú–µ—Å—Ç–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è:**
- –ü–æ—Å–ª–µ adaptive sizing
- –ü–µ—Ä–µ–¥ portfolio risk check
- –° —É—á–µ—Ç–æ–º volume_24h –∏–∑ SourcesHub

## üìä –ù–ê–°–¢–†–û–ô–ö–ò

**–ü–æ—Ä–æ–≥–∏ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏:**
```python
high_liquidity_threshold: 100_000_000 USD  # >100M
medium_liquidity_threshold: 10_000_000 USD  # 10-100M
```

**–ü—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ:**
```python
high_liquidity_slippage: 0.0005  # 0.05%
medium_liquidity_slippage: 0.001  # 0.1%
low_liquidity_slippage: 0.002     # 0.2%
very_low_liquidity_slippage: 0.005  # 0.5%
```

**–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è:**
```python
compensation_threshold: 0.0015  # 0.15% - –ø–æ—Ä–æ–≥ –¥–ª—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏
max_compensation_pct: 0.1       # –ú–∞–∫—Å–∏–º—É–º 10% —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏
```

## üîÑ –ö–ê–ö –†–ê–ë–û–¢–ê–ï–¢

### 1. –†–∞—Å—á–µ—Ç –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ—Ä–¥–µ—Ä–∞:

```python
# –í order_manager.py
slippage = slippage_manager.calculate_dynamic_slippage(
    symbol='SOLUSDT',
    volume_24h=500_000_000,  # 500M USD
    order_size_usd=1000,       # 1000 USD
    volatility=0.035           # 3.5%
)
# –†–µ–∑—É–ª—å—Ç–∞—Ç: 0.0005 (0.05%) –¥–ª—è –≤—ã—Å–æ–∫–æ–π –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏

price = current_price * (1 + slippage)  # –î–ª—è LONG
```

### 2. –ó–∞–ø–∏—Å—å —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è:

```python
# –ü–æ—Å–ª–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Ä–¥–µ—Ä–∞
slippage_manager.record_slippage(
    symbol='SOLUSDT',
    side='buy',
    expected_price=141.00,
    actual_price=141.15,  # –§–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ü–µ–Ω–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è
    volume_24h=500_000_000,
    order_size_usd=1000,
    volatility=0.035
)
# –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è slippage_pct = 0.106% (0.00106)
```

### 3. –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–π –ø–æ–∑–∏—Ü–∏–∏:

```python
# –í signal_live.py –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ entry_amount_usdt
entry_amount_usdt = slippage_manager.get_adjusted_position_size(
    symbol='SOLUSDT',
    base_position_size=1000,  # –ë–∞–∑–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä
    volume_24h=500_000_000
)
# –ï—Å–ª–∏ —Å—Ä–µ–¥–Ω–µ–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ >0.15%, —Ä–∞–∑–º–µ—Ä —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è
```

## üìà –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã:
- ‚úÖ –ë–æ–ª–µ–µ —Ç–æ—á–Ω–æ–µ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è –≤ –±–µ–∫—Ç–µ—Å—Ç–∞—Ö
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏
- ‚úÖ –ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–∏

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã (1-2 –Ω–µ–¥–µ–ª–∏):
- üìä –ê–¥–∞–ø—Ç–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- üìä –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ–≥–æ –≤–ª–∏—è–Ω–∏—è –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è –Ω–∞ 30-40%
- üìä –£–ª—É—á—à–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–π —Ü–µ–Ω—ã –≤—Ö–æ–¥–∞ –Ω–∞ 0.1-0.3%

## ‚úÖ –≠–¢–ê–ü 2: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è (–í –ü–†–û–¶–ï–°–°–ï)

### 1. ‚úÖ H4.1: –í—ã–±–æ—Ä –º–µ–∂–¥—É market –∏ limit –æ—Ä–¥–µ—Ä–∞–º–∏

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- ‚úÖ –ú–µ—Ç–æ–¥ `should_use_limit_order()` –≤ SlippageManager
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä —Ç–∏–ø–∞ –æ—Ä–¥–µ—Ä–∞ –≤ `create_market_order()`
- ‚úÖ –ü–æ—Ä–æ–≥ –¥–ª—è limit –æ—Ä–¥–µ—Ä–∞: 0.15% –æ–∂–∏–¥–∞–µ–º–æ–≥–æ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è
- ‚úÖ Limit —Ü–µ–Ω–∞: ¬±0.05% –æ—Ç —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã
- ‚úÖ –£—á–µ—Ç –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –æ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–∏
- ‚úÖ –†–∞—Å—á–µ—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π —ç–∫–æ–Ω–æ–º–∏–∏

**–õ–æ–≥–∏–∫–∞:**
- –ï—Å–ª–∏ –æ–∂–∏–¥–∞–µ–º–æ–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ >0.15% ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ–º LIMIT
- –ï—Å–ª–∏ —Å—Ä–µ–¥–Ω–µ–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 —Å–¥–µ–ª–æ–∫ >0.15% ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ–º LIMIT
- –ò–Ω–∞—á–µ ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ–º MARKET —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ–º

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```python
limit_order_threshold: 0.0015  # 0.15%
limit_price_offset: 0.0005      # ¬±0.05% –æ—Ç —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã
```

### 2. ‚úÖ H4.4: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è (—á–∞—Å—Ç–∏—á–Ω–æ)

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- ‚úÖ –ú–µ—Ç–æ–¥ `should_wait_for_better_liquidity()` –≤ SlippageManager
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–π –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ vs —Å—Ä–µ–¥–Ω—è—è
- ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –æ–∂–∏–¥–∞–Ω–∏—è –ø—Ä–∏ –Ω–∏–∑–∫–æ–π –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ (<50% –æ—Ç —Å—Ä–µ–¥–Ω–µ–≥–æ)

**–õ–æ–≥–∏–∫–∞:**
- –ï—Å–ª–∏ —Ç–µ–∫—É—â–∏–π –æ–±—ä–µ–º <50% –æ—Ç —Å—Ä–µ–¥–Ω–µ–≥–æ ‚Üí —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ–∂–∏–¥–∞–Ω–∏–µ
- –í—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è: –¥–æ 2 –º–∏–Ω—É—Ç (–ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–µ—Ñ–∏—Ü–∏—Ç—É –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏)

## ‚úÖ –°–¢–ê–¢–£–° –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### –ó–∞–≤–µ—Ä—à–µ–Ω–æ:
- ‚úÖ –≠—Ç–∞–ø 1: –ë–∞–∑–æ–≤–∞—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è
- ‚úÖ –≠—Ç–∞–ø 2: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è (H4.1, H4.4)
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è (H3.1) - —Ç–∞–±–ª–∏—Ü–∞ `slippage_records`

### –í –ø—Ä–æ—Ü–µ—Å—Å–µ:
- ‚è≥ –ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–∏
- ‚è≥ –ê–Ω–∞–ª–∏–∑ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ limit vs market –æ—Ä–¥–µ—Ä–æ–≤

## ‚è≥ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

### –≠—Ç–∞–ø 3: –ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ –∞–¥–∞–ø—Ç–∞—Ü–∏—è (1-2 –Ω–µ–¥–µ–ª–∏)
1. ‚è≥ –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –æ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–∏
2. ‚è≥ –ê–Ω–∞–ª–∏–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è
3. ‚è≥ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –ø–æ—Ä–æ–≥–∏ (H3.3)
4. ‚è≥ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è should_wait_for_better_liquidity –≤ signal_live.py (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
5. ‚è≥ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ limit –æ—Ä–¥–µ—Ä–æ–≤

## ‚úÖ –°–¢–ê–¢–£–°

- ‚úÖ SlippageManager —Å–æ–∑–¥–∞–Ω
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ OrderManager –∑–∞–≤–µ—Ä—à–µ–Ω–∞
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ signal_live.py –∑–∞–≤–µ—Ä—à–µ–Ω–∞
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è –≥–æ—Ç–æ–≤–∞
- ‚è≥ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

**–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!** üöÄ

