# üîç –§–ò–ù–ê–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê - –ù–ê–ô–î–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

## ‚úÖ –ü–†–û–ë–õ–ï–ú–ê 1: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è TP/SL (–ò–°–ü–†–ê–í–õ–ï–ù–û)

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –í `price_monitor_system.py` –∏ `telegram_handlers.py` –º—ã –ø—ã—Ç–∞–ª–∏—Å—å –ø–æ–ª—É—á–∏—Ç—å `tp1_price`, `tp2_price`, `sl_price`, `trade_mode` –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `active_positions`
- –ù–æ –≤ `active_positions` —ç—Ç–∏—Ö –ø–æ–ª–µ–π –ù–ï–¢!
- –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ `accepted_signals` (—Ç–∞–º –µ—Å—Ç—å `tp1_price`, `tp2_price`, `sl_price`)

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω—ã –∑–∞–ø—Ä–æ—Å—ã –≤ `price_monitor_system.py` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ `accepted_signals` —á–µ—Ä–µ–∑ `signal_key`
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω—ã –∑–∞–ø—Ä–æ—Å—ã –≤ `telegram_handlers.py` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ `accepted_signals` —á–µ—Ä–µ–∑ `signal_key`
- ‚úÖ `trade_mode` –ø–æ–ª—É—á–∞–µ—Ç—Å—è –∏–∑ `signals_log` (–µ—Å–ª–∏ –µ—Å—Ç—å) –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 'futures'

---

## ‚úÖ –ü–†–û–ë–õ–ï–ú–ê 2: –ù–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ Stop Loss (–ò–°–ü–†–ê–í–õ–ï–ù–û)

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –í –∫–æ–¥–µ –µ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∞ SL –≤ `main.py`, –Ω–æ –Ω–µ –±—ã–ª–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å `TradeTracker` –¥–ª—è –∑–∞–ø–∏—Å–∏ —Å–¥–µ–ª–æ–∫ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –ø–æ SL
- –ù—É–∂–Ω–æ –±—ã–ª–æ –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –≤ `trades` –ø—Ä–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–∏ SL

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –ù–∞–π–¥–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ SL –≤ `main.py` (—Å—Ç—Ä–æ–∫–∞ 833-839, 900-905)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `TradeTracker` –≤ –±–ª–æ–∫–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è –º–∞—Ä–∫–µ—Ç-–æ—Ä–¥–µ—Ä–æ–º
- ‚úÖ –ó–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è —Å–¥–µ–ª–∫–∏ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∑–∞–∫—Ä—ã—Ç–∏—è: SL, TP1, TP2
- ‚úÖ –î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–∞—é—Ç—Å—è –∏–∑ `signals_log` –∏ `accepted_signals` –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ TP1/TP2

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –ü—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –ø–æ–∑–∏—Ü–∏–∏ (SL, TP1, TP2) –≤ `main.py` –¥–æ–±–∞–≤–ª–µ–Ω –±–ª–æ–∫ –∑–∞–ø–∏—Å–∏ –≤ TradeTracker
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ `exit_reason` –∏–∑ `close_reason` (SL/TP1/TP2/MANUAL)
- –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–∏ –∏–∑ `signals_log`
- –ü–æ–ª—É—á–µ–Ω–∏–µ TP/SL —Ü–µ–Ω –∏–∑ `accepted_signals`
- –ó–∞–ø–∏—Å—å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–¥–µ–ª–∫–µ –≤ —Ç–∞–±–ª–∏—Ü—É `trades`

---

## ‚úÖ –ü–†–û–ë–õ–ï–ú–ê 3: –í `active_positions` –Ω–µ—Ç –ø–æ–ª—è `trade_mode` (–û–ë–•–û–î–ù–û–ô –ü–£–¢–¨ –†–ï–ê–õ–ò–ó–û–í–ê–ù)

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –ø–æ–∑–∏—Ü–∏–∏ –≤ `active_positions` –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è `trade_mode`
- –≠—Ç–æ –ø–æ–ª–µ –Ω—É–∂–Ω–æ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∑–∞–ø–∏—Å–∏ —Å–¥–µ–ª–æ–∫ –≤ `TradeTracker`

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –æ–±—Ö–æ–¥–Ω–æ–π –ø—É—Ç—å: –ø–æ–ª—É—á–∞–µ–º `trade_mode` –∏–∑ `signals_log`
- ‚ö†Ô∏è –ò–¥–µ–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `trade_mode` –≤ `active_positions` (ALTER TABLE) –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ–∑–∏—Ü–∏–∏ (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, –æ–±—Ö–æ–¥–Ω–æ–π –ø—É—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç)

---

## ‚úÖ –í–°–ï –ü–†–û–ë–õ–ï–ú–´ –ò–°–ü–†–ê–í–õ–ï–ù–´:

1. ‚úÖ –ò–∑–º–µ–Ω–µ–Ω—ã –∑–∞–ø—Ä–æ—Å—ã –≤ `price_monitor_system.py` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è TP/SL –∏–∑ `accepted_signals`
2. ‚úÖ –ò–∑–º–µ–Ω–µ–Ω—ã –∑–∞–ø—Ä–æ—Å—ã –≤ `telegram_handlers.py` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è TP/SL –∏–∑ `accepted_signals`
3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è TradeTracker –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ SL/TP1/TP2 –≤ `main.py`
4. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –æ–±—Ö–æ–¥–Ω–æ–π –ø—É—Ç—å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è `trade_mode` –∏–∑ `signals_log`

---

## üìù –ò–¢–û–ì–û:

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** 4 –∏–∑ 4 –ø—Ä–æ–±–ª–µ–º  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã

### –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|--------|----------|
| –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ | ‚úÖ | –¢–∞–±–ª–∏—Ü—ã –∏ –º–æ–¥—É–ª–∏ —Å–æ–∑–¥–∞–Ω—ã |
| –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ TP1 | ‚úÖ | –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ + TradeTracker |
| –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ TP2 | ‚úÖ | –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ + TradeTracker |
| –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ SL | ‚úÖ | –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ + TradeTracker |
| –†—É—á–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ | ‚úÖ | –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ + TradeTracker |
| Telegram –∫–æ–º–∞–Ω–¥—ã | ‚úÖ | –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (/metrics, /performance, /trades) |

---

## üéâ –°–ò–°–¢–ï–ú–ê –ü–û–õ–ù–û–°–¢–¨–Æ –ì–û–¢–û–í–ê!

**–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–ø–∏—Å—å –≤—Å–µ—Ö –∑–∞–∫—Ä—ã—Ç—ã—Ö —Å–¥–µ–ª–æ–∫ (TP1, TP2, SL, MANUAL)
- ‚úÖ –†–∞—Å—á–µ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (Sharpe, Sortino, Max Drawdown)
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è —Å–¥–µ–ª–æ–∫ —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å–∏–º–≤–æ–ª–∞–º
- ‚úÖ Telegram –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –º–µ—Ç—Ä–∏–∫

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!**
