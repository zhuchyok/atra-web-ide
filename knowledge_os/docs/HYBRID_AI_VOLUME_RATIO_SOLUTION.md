# ü§ñ –ì–ò–ë–†–ò–î–ù–û–ï –†–ï–®–ï–ù–ò–ï: AI + –ê–î–ê–ü–¢–ò–í–ù–´–ô VOLUME_RATIO

## üìã –û–ë–ó–û–†

**–ü—Ä–æ–±–ª–µ–º–∞:** `volume_ratio` –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—Å–µ —Å–∏–≥–Ω–∞–ª—ã –≤ soft —Ä–µ–∂–∏–º–µ (0.35 < 0.8)

**–†–µ—à–µ–Ω–∏–µ:** –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ AI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `AdaptiveFilterRegulator`

---

## ‚úÖ –ß–¢–û –£–ñ–ï –ï–°–¢–¨

### 1. **AdaptiveFilterRegulator** (`src/ai/adaptive_filter_regulator.py`)
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Ä–µ–≥—É–ª—è—Ü–∏—è `volume_ratio` –Ω–∞ –æ—Å–Ω–æ–≤–µ Win Rate, Profit Factor
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AI –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä–æ–º
- ‚úÖ –î–∏–∞–ø–∞–∑–æ–Ω: (0.8, 1.5) - –Ω–æ —ç—Ç–æ –¥–ª—è strict —Ä–µ–∂–∏–º–∞

### 2. **AI Filter Optimizer** (`src/ai/filter_optimizer.py`)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤
- ‚úÖ –£—á–∏—Ç—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç `soft_volume_ratio` –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏

### 3. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**
- ‚úÖ `docs/AI_FILTER_OPTIMIZATION_GUIDE.md` - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ AI –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

---

## üîß –ì–ò–ë–†–ò–î–ù–û–ï –†–ï–®–ï–ù–ò–ï

### **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              soft_entry_signal()                         ‚îÇ
‚îÇ                                                           ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ  1. –ë–∞–∑–æ–≤—ã–π –ø–æ—Ä–æ–≥ (config)                       ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ     SOFT_VOLUME_RATIO_MIN = 0.3                  ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                        ‚Üì                                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ  2. AI –∞–¥–∞–ø—Ç–∞—Ü–∏—è (AdaptiveFilterRegulator)        ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ     - –£—á–∏—Ç—ã–≤–∞–µ—Ç Win Rate, Profit Factor          ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ     - –£—á–∏—Ç—ã–≤–∞–µ—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å                     ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ     - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç AI-–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã   ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                        ‚Üì                                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ  3. –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏                      ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ     - –°–∏–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã ‚Üí —Å–Ω–∏–∂–∞–µ–º –ø–æ—Ä–æ–≥         ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ     - –°–ª–∞–±—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã ‚Üí –±–∞–∑–æ–≤—ã–π –ø–æ—Ä–æ–≥          ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                        ‚Üì                                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ  4. –§–∏–Ω–∞–ª—å–Ω—ã–π –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –ø–æ—Ä–æ–≥                   ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ     volume_ratio > adaptive_threshold             ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üí° –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê –ì–ò–ë–†–ò–î–ù–û–ì–û –ü–û–î–•–û–î–ê

### **1. –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è:**
- **–ë–∞–∑–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å:** –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ—Ä–æ–≥ –∏–∑ config (0.3)
- **AI —É—Ä–æ–≤–µ–Ω—å:** –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–µ—Ç—Ä–∏–∫
- **–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è:** –£—á–µ—Ç —Å–∏–ª—ã –¥—Ä—É–≥–∏—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤

### **2. –£–º–Ω–∞—è —Ä–µ–≥—É–ª—è—Ü–∏—è:**
- –ü—Ä–∏ –Ω–∏–∑–∫–æ–º Win Rate ‚Üí —É–∂–µ—Å—Ç–æ—á–∞–µ—Ç (–∑–∞—â–∏—Ç–∞ –æ—Ç –ø–ª–æ—Ö–∏—Ö —Å–∏–≥–Ω–∞–ª–æ–≤)
- –ü—Ä–∏ –≤—ã—Å–æ–∫–æ–º Win Rate ‚Üí –æ—Å–ª–∞–±–ª—è–µ—Ç (–±–æ–ª—å—à–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π)
- –ü—Ä–∏ —Å–∏–ª—å–Ω—ã—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞—Ö ‚Üí –∫–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ—Ç –Ω–∏–∑–∫–∏–π –æ–±—ä–µ–º

### **3. –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ:**
- AI –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤
- –°–∏—Å—Ç–µ–º–∞ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º —Ä—ã–Ω–∫–∞
- –£–ª—É—á—à–∞–µ—Ç—Å—è —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º

---

## üîß –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø

### **–®–∞–≥ 1: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è AdaptiveFilterRegulator**

```python
# –í src/signals/core.py

from src.ai.adaptive_filter_regulator import get_adaptive_regulator

# –í soft_entry_signal():
adaptive_regulator = get_adaptive_regulator()

# –ü–æ–ª—É—á–∞–µ–º –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π volume_ratio –æ—Ç AI
ai_volume_threshold = adaptive_regulator.get_adaptive_volume_ratio(
    df=df,
    market_volatility=volatility,
    win_rate=None,  # –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –∏–∑ –ë–î
    profit_factor=None,  # –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –∏–∑ –ë–î
)
```

### **–®–∞–≥ 2: –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–µ–π**

```python
# –ë–∞–∑–æ–≤—ã–π –ø–æ—Ä–æ–≥ –¥–ª—è soft —Ä–µ–∂–∏–º–∞
base_threshold = SOFT_VOLUME_RATIO_MIN  # 0.3

# AI –∞–¥–∞–ø—Ç–∞—Ü–∏—è (—É—á–∏—Ç—ã–≤–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏)
ai_threshold = adaptive_regulator.get_adaptive_volume_ratio(...)

# –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –ø—Ä–∏ —Å–∏–ª—å–Ω—ã—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞—Ö
if USE_INDICATOR_COMPENSATION:
    indicator_strength = calculate_indicator_strength(...)
    if indicator_strength >= INDICATOR_COMPENSATION_THRESHOLD:
        compensation_threshold = max(0.2, base_threshold * 0.7)
    else:
        compensation_threshold = base_threshold
else:
    compensation_threshold = base_threshold

# –§–∏–Ω–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ–≥: –º–∏–Ω–∏–º—É–º –∏–∑ AI –∏ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ (–±–æ–ª–µ–µ –º—è–≥–∫–∏–π)
final_threshold = min(ai_threshold, compensation_threshold)

# –ù–æ –Ω–µ –Ω–∏–∂–µ –º–∏–Ω–∏–º—É–º–∞ –¥–ª—è soft —Ä–µ–∂–∏–º–∞
final_threshold = max(0.2, min(final_threshold, 0.8))
```

### **–®–∞–≥ 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –¥–ª—è soft —Ä–µ–∂–∏–º–∞**

```python
# –í AdaptiveFilterRegulator –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É —Ä–µ–∂–∏–º–æ–≤:

def get_adaptive_volume_ratio(
    self,
    filter_mode: str = "soft",  # üÜï –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∂–∏–º
    ...
) -> float:
    # –î–ª—è soft —Ä–µ–∂–∏–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥—Ä—É–≥–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω
    if filter_mode == "soft":
        volume_ratio_range = (0.2, 0.8)  # –ú—è–≥–∫–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω
    else:
        volume_ratio_range = (0.8, 1.5)  # –°—Ç—Ä–æ–≥–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω
```

---

## üìä –ü–†–ò–ú–ï–†–´ –†–ê–ë–û–¢–´

### **–°—Ü–µ–Ω–∞—Ä–∏–π 1: –ù–∏–∑–∫–∏–π volume_ratio (0.35), —Å–∏–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã**

```
–ë–∞–∑–æ–≤—ã–π –ø–æ—Ä–æ–≥: 0.3
AI –ø–æ—Ä–æ–≥: 0.8 (–Ω–∏–∑–∫–∏–π WR, —É–∂–µ—Å—Ç–æ—á–∞–µ—Ç)
–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è: 0.21 (—Å–∏–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã, 0.3 * 0.7)
–§–∏–Ω–∞–ª—å–Ω—ã–π: min(0.8, 0.21) = 0.21
–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –°–∏–≥–Ω–∞–ª –ø—Ä–æ—Ö–æ–¥–∏—Ç (0.35 > 0.21)
```

### **–°—Ü–µ–Ω–∞—Ä–∏–π 2: –ù–∏–∑–∫–∏–π volume_ratio (0.35), —Å–ª–∞–±—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã**

```
–ë–∞–∑–æ–≤—ã–π –ø–æ—Ä–æ–≥: 0.3
AI –ø–æ—Ä–æ–≥: 0.8 (–Ω–∏–∑–∫–∏–π WR, —É–∂–µ—Å—Ç–æ—á–∞–µ—Ç)
–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è: 0.3 (—Å–ª–∞–±—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã, –±–µ–∑ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏)
–§–∏–Ω–∞–ª—å–Ω—ã–π: min(0.8, 0.3) = 0.3
–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –°–∏–≥–Ω–∞–ª –ø—Ä–æ—Ö–æ–¥–∏—Ç (0.35 > 0.3)
```

### **–°—Ü–µ–Ω–∞—Ä–∏–π 3: –û—á–µ–Ω—å –Ω–∏–∑–∫–∏–π volume_ratio (0.15), —Å–∏–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã**

```
–ë–∞–∑–æ–≤—ã–π –ø–æ—Ä–æ–≥: 0.3
AI –ø–æ—Ä–æ–≥: 0.8 (–Ω–∏–∑–∫–∏–π WR, —É–∂–µ—Å—Ç–æ—á–∞–µ—Ç)
–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è: 0.21 (—Å–∏–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã)
–§–∏–Ω–∞–ª—å–Ω—ã–π: min(0.8, 0.21) = 0.21
–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚ùå –°–∏–≥–Ω–∞–ª –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è (0.15 < 0.21)
```

### **–°—Ü–µ–Ω–∞—Ä–∏–π 4: –í—ã—Å–æ–∫–∏–π Win Rate, AI –æ—Å–ª–∞–±–ª—è–µ—Ç**

```
–ë–∞–∑–æ–≤—ã–π –ø–æ—Ä–æ–≥: 0.3
AI –ø–æ—Ä–æ–≥: 0.25 (–≤—ã—Å–æ–∫–∏–π WR, –æ—Å–ª–∞–±–ª—è–µ—Ç)
–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è: 0.3 (—Å—Ä–µ–¥–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã)
–§–∏–Ω–∞–ª—å–Ω—ã–π: min(0.25, 0.3) = 0.25
–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –°–∏–≥–Ω–∞–ª –ø—Ä–æ—Ö–æ–¥–∏—Ç –ª–µ–≥—á–µ
```

---

## üéØ –ü–ê–†–ê–ú–ï–¢–†–´ –î–õ–Ø –ù–ê–°–¢–†–û–ô–ö–ò

### **–í config.py:**

```python
ENHANCED_STRATEGY_CONFIG = {
    # –ë–∞–∑–æ–≤—ã–µ –ø–æ—Ä–æ–≥–∏
    "soft_volume_ratio_min": 0.3,  # –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –¥–ª—è soft
    "strict_volume_ratio_min": 1.5,  # –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –¥–ª—è strict
    
    # –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è
    "use_indicator_compensation": True,
    "indicator_compensation_strength_threshold": 0.6,
    "compensation_multiplier": 0.7,  # –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏
    
    # AI –∞–¥–∞–ø—Ç–∞—Ü–∏—è
    "use_ai_volume_adaptation": True,  # –í–∫–ª—é—á–∏—Ç—å AI –∞–¥–∞–ø—Ç–∞—Ü–∏—é
    "ai_adaptation_weight": 0.5,  # –í–µ—Å AI –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ (0-1)
}
```

### **–í AdaptiveFilterRegulator:**

```python
# –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É —Ä–µ–∂–∏–º–æ–≤
def get_adaptive_volume_ratio(
    self,
    filter_mode: str = "soft",
    ...
) -> float:
    # –î–∏–∞–ø–∞–∑–æ–Ω—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–µ–∂–∏–º–æ–≤
    if filter_mode == "soft":
        volume_ratio_range = (0.2, 0.8)
        base_volume_ratio = 0.3
    else:
        volume_ratio_range = (0.8, 1.5)
        base_volume_ratio = 1.2
```

---

## üìà –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

### **–î–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è:**
- –°–∏–≥–Ω–∞–ª–æ–≤ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ: 69
- –°–∏–≥–Ω–∞–ª–æ–≤ –∏—Å–ø–æ–ª–Ω–µ–Ω–æ: 0
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞: 100% (volume_ratio < 0.8)

### **–ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è (–≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥):**
- –°–∏–≥–Ω–∞–ª–æ–≤ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ: 69
- –°–∏–≥–Ω–∞–ª–æ–≤ –∏—Å–ø–æ–ª–Ω–µ–Ω–æ: ~25-35 (–æ–∂–∏–¥–∞–µ–º–æ)
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞: ~50-65% (–¥—Ä—É–≥–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã)
- **–£–ª—É—á—à–µ–Ω–∏–µ:** +25-35 —Å–∏–≥–Ω–∞–ª–æ–≤

### **–ü–æ—Å–ª–µ AI –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (—á–µ—Ä–µ–∑ –Ω–µ–¥–µ–ª—é):**
- –°–∏–≥–Ω–∞–ª–æ–≤ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ: 69
- –°–∏–≥–Ω–∞–ª–æ–≤ –∏—Å–ø–æ–ª–Ω–µ–Ω–æ: ~30-40 (–æ–∂–∏–¥–∞–µ–º–æ)
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞: ~40-55% (–¥—Ä—É–≥–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã)
- **–£–ª—É—á—à–µ–Ω–∏–µ:** +30-40 —Å–∏–≥–Ω–∞–ª–æ–≤
- **–ö–∞—á–µ—Å—Ç–≤–æ:** Win Rate —É–ª—É—á—à–∏—Ç—Å—è –Ω–∞ 5-10%

---

## ‚ö†Ô∏è –†–ò–°–ö–ò –ò –ú–ò–¢–ò–ì–ê–¶–ò–Ø

### **–†–∏—Å–∫ 1:** –°–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–∏–π –ø–æ—Ä–æ–≥ –º–æ–∂–µ—Ç –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Å–ª–∞–±—ã–µ —Å–∏–≥–Ω–∞–ª—ã
- **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ–≥ 0.2, AI —É–∂–µ—Å—Ç–æ—á–∞–µ—Ç –ø—Ä–∏ –Ω–∏–∑–∫–æ–º WR

### **–†–∏—Å–∫ 2:** AI –º–æ–∂–µ—Ç –æ—Å–ª–∞–±–∏—Ç—å —Å–ª–∏—à–∫–æ–º —Å–∏–ª—å–Ω–æ
- **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ (0.2-0.8 –¥–ª—è soft), –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–∏–ª—å–Ω—ã—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞—Ö

### **–†–∏—Å–∫ 3:** –ü—Ä–æ–±–ª–µ–º—ã —Å –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å—é
- **–ú–∏—Ç–∏–≥–∞—Ü–∏—è:** –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ–≥ 0.2, –¥—Ä—É–≥–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã –æ—Å—Ç–∞—é—Ç—Å—è –∞–∫—Ç–∏–≤–Ω—ã–º–∏

---

## üöÄ –ü–õ–ê–ù –í–ù–ï–î–†–ï–ù–ò–Ø

1. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ config.py
2. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å AdaptiveFilterRegulator –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ä–µ–∂–∏–º–æ–≤
3. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ soft_entry_signal
4. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
5. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å AI –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é
6. ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

---

**–î–∞—Ç–∞:** 2024  
**–°—Ç–∞—Ç—É—Å:** –¢—Ä–µ–±—É–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

