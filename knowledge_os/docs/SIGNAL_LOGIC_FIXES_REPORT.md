# ‚úÖ –û–¢–ß–ï–¢ –û–ë –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø–• –õ–û–ì–ò–ö–ò –°–ò–ì–ù–ê–õ–û–í

## üéØ **–ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´:**

### ‚úÖ **1. –ò–°–ü–†–ê–í–õ–ï–ù–ê –ü–†–û–í–ï–†–ö–ê –°–¢–û–†–û–ù–´:**
**–ë—ã–ª–æ:**
```python
if side == "LONG":
```

**–°—Ç–∞–ª–æ:**
```python
if side.upper() == "LONG" or side == "long":
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Å—Ç–æ—Ä–æ–Ω–∞ —Å–∏–≥–Ω–∞–ª–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞

### ‚úÖ **2. –ò–°–ü–†–ê–í–õ–ï–ù –†–ê–°–ß–ï–¢ TAKE PROFIT:**
**–ë—ã–ª–æ:**
```python
if side == "LONG":
    tp1 = price * (1 + tp1_pct / 100)
    tp2 = price * (1 + tp2_pct / 100)
else:  # SHORT
    tp1 = price * (1 - tp1_pct / 100)
    tp2 = price * (1 - tp2_pct / 100)
```

**–°—Ç–∞–ª–æ:**
```python
if side.upper() == "LONG" or side == "long":
    tp1 = price * (1 + tp1_pct / 100)  # –í–´–®–ï –¥–ª—è LONG
    tp2 = price * (1 + tp2_pct / 100)  # –í–´–®–ï –¥–ª—è LONG
    side_emoji = "üü¢"
    side_text = "LONG"
else:  # SHORT
    tp1 = price * (1 - tp1_pct / 100)  # –ù–ò–ñ–ï –¥–ª—è SHORT
    tp2 = price * (1 - tp2_pct / 100)  # –ù–ò–ñ–ï –¥–ª—è SHORT
    side_emoji = "üî¥"
    side_text = "SHORT"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- **LONG:** TP –≤—ã—à–µ —Ü–µ–Ω—ã –≤—Ö–æ–¥–∞ ‚úÖ
- **SHORT:** TP –Ω–∏–∂–µ —Ü–µ–Ω—ã –≤—Ö–æ–¥–∞ ‚úÖ
- **–ò–∫–æ–Ω–∫–∏:** –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Å—Ç–æ—Ä–æ–Ω–µ ‚úÖ

### ‚úÖ **3. –î–û–ë–ê–í–õ–ï–ù–ê –ü–†–û–í–ï–†–ö–ê –†–ï–ñ–ò–ú–ê –¢–û–†–ì–û–í–õ–ò:**
**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
```python
# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∂–∏–º —Ç–æ—Ä–≥–æ–≤–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
trade_mode = user_data.get('trade_mode', 'spot')
if signal_type == "SHORT" and trade_mode == 'spot':
    print(f"[DEBUG] –ü—Ä–æ–ø—É—Å–∫–∞–µ–º SHORT —Å–∏–≥–Ω–∞–ª –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {user_id} (—Ä–µ–∂–∏–º: {trade_mode})")
    continue
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** SHORT —Å–∏–≥–Ω–∞–ª—ã –±–æ–ª—å—à–µ –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç –≤ SPOT —Ä–µ–∂–∏–º–µ ‚úÖ

### ‚úÖ **4. –ò–°–ü–†–ê–í–õ–ï–ù–û –û–¢–û–ë–†–ê–ñ–ï–ù–ò–ï –†–ï–ñ–ò–ú–ê:**
**–ë—ã–ª–æ:**
```python
f"üîß –†–µ–∂–∏–º: `{filter_mode}` ({trade_mode})"
```

**–°—Ç–∞–ª–æ:**
```python
# –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ —Ñ–∏–ª—å—Ç—Ä–∞
filter_mode_display = "–°—Ç—Ä–æ–≥–∏–π" if filter_mode == "balanced" else "–ú—è–≥–∫–∏–π"
f"üîß –†–µ–∂–∏–º: `{filter_mode_display}` ({trade_mode})"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- **balanced** ‚Üí **–°—Ç—Ä–æ–≥–∏–π** ‚úÖ
- **soft** ‚Üí **–ú—è–≥–∫–∏–π** ‚úÖ

### ‚úÖ **5. –ò–°–ü–†–ê–í–õ–ï–ù–ê –õ–û–ì–ò–ö–ê –ù–û–í–û–°–¢–ù–û–ì–û –£–°–ò–õ–ï–ù–ò–Ø:**
**–ë—ã–ª–æ:**
```python
news_type = "üü¢" if signal.get('side') == 'long' else "üî¥"
news_impact = "–ü–æ–∑–∏—Ç–∏–≤–Ω–∞—è" if signal.get('side') == 'long' else "–ù–µ–≥–∞—Ç–∏–≤–Ω–∞—è"
```

**–°—Ç–∞–ª–æ:**
```python
# –ü–æ–∑–∏—Ç–∏–≤–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è LONG, –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —Ç–æ–ª—å–∫–æ –¥–ª—è SHORT
if signal.get('side') == 'long':
    news_type = "üü¢"
    news_impact = "–ü–æ–∑–∏—Ç–∏–≤–Ω–∞—è"
else:  # short
    news_type = "üî¥"
    news_impact = "–ù–µ–≥–∞—Ç–∏–≤–Ω–∞—è"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- **LONG —Å–∏–≥–Ω–∞–ª—ã** ‚Üí —Ç–æ–ª—å–∫–æ –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ ‚úÖ
- **SHORT —Å–∏–≥–Ω–∞–ª—ã** ‚Üí —Ç–æ–ª—å–∫–æ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ ‚úÖ

## üéØ **–û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´:**

### ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–∏–≥–Ω–∞–ª LONG:**
```
üü¢ –ù–û–í–´–ô –¢–û–†–ì–û–í–´–ô –°–ò–ì–ù–ê–õ

üìä –°–∏–º–≤–æ–ª: XRPUSDT
üí∞ –¶–µ–Ω–∞ –≤—Ö–æ–¥–∞: 3.2397
üìà –°—Ç–æ—Ä–æ–Ω–∞: long
üéØ TP1: 3.2721 (+1.0%)  ‚Üê –í–´–®–ï –≤—Ö–æ–¥–∞!
üöÄ TP2: 3.3044 (+2.0%)  ‚Üê –í–´–®–ï –≤—Ö–æ–¥–∞!
‚ö†Ô∏è –†–∏—Å–∫: 1.95%
BTC —Ç—Ä–µ–Ω–¥: üü¢ –ë–´–ß–ò–ô
üîß –†–µ–∂–∏–º: –°—Ç—Ä–æ–≥–∏–π (spot)
```

### ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–∏–≥–Ω–∞–ª SHORT (—Ç–æ–ª—å–∫–æ –≤ FUTURES):**
```
üî¥ –ù–û–í–´–ô –¢–û–†–ì–û–í–´–ô –°–ò–ì–ù–ê–õ

üìä –°–∏–º–≤–æ–ª: XRPUSDT
üí∞ –¶–µ–Ω–∞ –≤—Ö–æ–¥–∞: 3.2397
üìà –°—Ç–æ—Ä–æ–Ω–∞: short
üéØ TP1: 3.2067 (-1.0%)  ‚Üê –ù–ò–ñ–ï –≤—Ö–æ–¥–∞!
üöÄ TP2: 3.1736 (-2.0%)  ‚Üê –ù–ò–ñ–ï –≤—Ö–æ–¥–∞!
‚ö†Ô∏è –†–∏—Å–∫: 1.95%
BTC —Ç—Ä–µ–Ω–¥: üî¥ –ú–ï–î–í–ï–ñ–ò–ô
üîß –†–µ–∂–∏–º: –°—Ç—Ä–æ–≥–∏–π (futures)
```

### ‚úÖ **–ù–æ–≤–æ—Å—Ç–Ω–æ–µ —É—Å–∏–ª–µ–Ω–∏–µ:**
```
üü¢ –ù–û–í–û–°–¢–ù–û–ï –£–°–ò–õ–ï–ù–ò–ï –°–ò–ì–ù–ê–õ–ê
üì∞ –ü–æ–∑–∏—Ç–∏–≤–Ω–∞—è –Ω–æ–≤–æ—Å—Ç—å: [–∑–∞–≥–æ–ª–æ–≤–æ–∫]  ‚Üê –¢–æ–ª—å–∫–æ –¥–ª—è LONG

üî¥ –ù–û–í–û–°–¢–ù–û–ï –£–°–ò–õ–ï–ù–ò–ï –°–ò–ì–ù–ê–õ–ê
üì∞ –ù–µ–≥–∞—Ç–∏–≤–Ω–∞—è –Ω–æ–≤–æ—Å—Ç—å: [–∑–∞–≥–æ–ª–æ–≤–æ–∫]  ‚Üê –¢–æ–ª—å–∫–æ –¥–ª—è SHORT
```

## üéØ **–ü–†–û–í–ï–†–ö–ò –ü–û–°–õ–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô:**

### ‚úÖ **1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ—Ä–æ–Ω—ã –∏ –∏–∫–æ–Ω–∫–∏:**
- **LONG —Å–∏–≥–Ω–∞–ª** ‚Üí –∑–µ–ª–µ–Ω–∞—è —Ç–æ—á–∫–∞ üü¢
- **SHORT —Å–∏–≥–Ω–∞–ª** ‚Üí –∫—Ä–∞—Å–Ω–∞—è —Ç–æ—á–∫–∞ üî¥

### ‚úÖ **2. –ü—Ä–æ–≤–µ—Ä–∫–∞ Take Profit:**
- **LONG:** TP –≤—ã—à–µ —Ü–µ–Ω—ã –≤—Ö–æ–¥–∞
- **SHORT:** TP –Ω–∏–∂–µ —Ü–µ–Ω—ã –≤—Ö–æ–¥–∞

### ‚úÖ **3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∂–∏–º–∞ —Ç–æ—Ä–≥–æ–≤–ª–∏:**
- **SPOT:** —Ç–æ–ª—å–∫–æ LONG —Å–∏–≥–Ω–∞–ª—ã
- **FUTURES:** LONG –∏ SHORT —Å–∏–≥–Ω–∞–ª—ã

### ‚úÖ **4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∂–∏–º–∞:**
- **balanced** ‚Üí **–°—Ç—Ä–æ–≥–∏–π**
- **soft** ‚Üí **–ú—è–≥–∫–∏–π**

### ‚úÖ **5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–≤–æ—Å—Ç–Ω–æ–≥–æ —É—Å–∏–ª–µ–Ω–∏—è:**
- **LONG** ‚Üí –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏
- **SHORT** ‚Üí –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏

## üéØ **–ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï:**

**‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –≤ –ª–æ–≥–∏–∫–µ —Å–∏–≥–Ω–∞–ª–æ–≤ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã!**

### üìä **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**
- ‚úÖ –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ—Ä–æ–Ω—ã
- ‚úÖ –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç TP
- ‚úÖ SHORT —Å–∏–≥–Ω–∞–ª—ã –≤ SPOT —Ä–µ–∂–∏–º–µ
- ‚úÖ –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞
- ‚úÖ –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π

### üöÄ **–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é:**
- ‚úÖ –õ–æ–≥–∏–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–∂–∏–º–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ù–æ–≤–æ—Å—Ç–Ω–æ–µ —É—Å–∏–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ

---
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
**–î–∞—Ç–∞:** 2024-01-27
**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:** signal_live.py