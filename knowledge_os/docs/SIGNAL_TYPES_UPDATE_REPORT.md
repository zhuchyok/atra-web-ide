# –û—Ç—á–µ—Ç –æ–± –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Ç–∏–ø–æ–≤ —Å–∏–≥–Ω–∞–ª–æ–≤

## üéØ **–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è**

### ‚úÖ **1. –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤**

#### **DCA —Å–∏–≥–Ω–∞–ª—ã:**
```python
# –ë–´–õ–û:
f"–°–ò–ì–ù–ê–õ –£–°–†–ï–î–ù–ï–ù–ò–Ø (LONG): {symbol}\n"
f"–°–ò–ì–ù–ê–õ –£–°–†–ï–î–ù–ï–ù–ò–Ø (SHORT): {symbol}\n"

# –°–¢–ê–õ–û:
f"DCA –¢–û–†–ì–û–í–´–ô –°–ò–ì–ù–ê–õ (LONG): {symbol}\n"
f"DCA –¢–û–†–ì–û–í–´–ô –°–ò–ì–ù–ê–õ (SHORT): {symbol}\n"
```

#### **–ù–æ–≤—ã–µ —Ç–æ—Ä–≥–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã:**
```python
# –û–°–¢–ê–õ–û–°–¨:
f"{side_emoji} <b>–ù–û–í–´–ô –¢–û–†–ì–û–í–´–ô –°–ò–ì–ù–ê–õ</b>{news_indicator}\n\n"
```

### ‚úÖ **2. –£–ª—É—á—à–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–∏–≥–Ω–∞–ª–æ–≤**

#### **–î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è —è—Å–Ω–æ—Å—Ç–∏:**
```python
# --- DCA –¢–û–†–ì–û–í–´–ô –°–ò–ì–ù–ê–õ (—Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –° –æ—Ç–∫—Ä—ã—Ç—ã–º–∏ –ø–æ–∑–∏—Ü–∏—è–º–∏) ---
# --- –ù–û–í–´–ô –¢–û–†–ì–û–í–´–ô –°–ò–ì–ù–ê–õ (—Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ë–ï–ó –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π) ---
```

#### **–£–ª—É—á—à–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–∑–∏—Ü–∏–π:**
```python
# –ï—Å–ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å –æ—Ç–∫—Ä—ã—Ç–∞—è –ø–æ–∑–∏—Ü–∏—è –ø–æ –¥–∞–Ω–Ω–æ–π –º–æ–Ω–µ—Ç–µ, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º –Ω–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã
# (DCA —Å–∏–≥–Ω–∞–ª—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –≤ –±–ª–æ–∫–µ –≤—ã—à–µ)
if has_user_long or has_user_short:
    print(f"[DEBUG] {symbol}: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å {user_id} –∏–º–µ–µ—Ç –æ—Ç–∫—Ä—ã—Ç—É—é –ø–æ–∑–∏—Ü–∏—é, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º –Ω–æ–≤—ã–µ —Ç–æ—Ä–≥–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã")
    continue
```

## üìä **–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã**

### **–°—Ö–µ–º–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–∏–≥–Ω–∞–ª–æ–≤:**

```
1. –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   ‚îú‚îÄ‚îÄ –ï—Å—Ç—å –æ—Ç–∫—Ä—ã—Ç–∞—è –ø–æ–∑–∏—Ü–∏—è –ø–æ –º–æ–Ω–µ—Ç–µ
   ‚îÇ   ‚îú‚îÄ‚îÄ –û—Ç–ø—Ä–∞–≤–ª—è–µ–º DCA –¢–û–†–ì–û–í–´–ô –°–ò–ì–ù–ê–õ ‚úÖ
   ‚îÇ   ‚îî‚îÄ‚îÄ –ù–ï –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –ù–û–í–´–ô –¢–û–†–ì–û–í–´–ô –°–ò–ì–ù–ê–õ ‚ùå
   ‚îÇ
   ‚îî‚îÄ‚îÄ –ù–ï–¢ –æ—Ç–∫—Ä—ã—Ç–æ–π –ø–æ–∑–∏—Ü–∏–∏ –ø–æ –º–æ–Ω–µ—Ç–µ
       ‚îú‚îÄ‚îÄ –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ù–û–í–´–ô –¢–û–†–ì–û–í–´–ô –°–ò–ì–ù–ê–õ ‚úÖ
       ‚îî‚îÄ‚îÄ –ù–ï –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º DCA –¢–û–†–ì–û–í–´–ô –°–ò–ì–ù–ê–õ ‚ùå
```

### **–¢–∏–ø—ã —Å–∏–≥–Ω–∞–ª–æ–≤:**

#### **1. DCA –¢–û–†–ì–û–í–´–ô –°–ò–ì–ù–ê–õ:**
- **–ö–æ–≥–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è**: –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å –æ—Ç–∫—Ä—ã—Ç–∞—è –ø–æ–∑–∏—Ü–∏—è –ø–æ –¥–∞–Ω–Ω–æ–π –º–æ–Ω–µ—Ç–µ
- **–¶–µ–ª—å**: –£—Å—Ä–µ–¥–Ω–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ø–æ–∑–∏—Ü–∏–∏
- **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ**:
  - –û–±—ä–µ–º —É—Å—Ä–µ–¥–Ω–µ–Ω–∏—è
  - –ù–æ–≤–∞—è —Å—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞
  - –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ TP1/TP2
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Å—Ä–µ–¥–Ω–µ–Ω–∏–π
  - –û–±—â–∏–π –æ–±—ä–µ–º –ø–æ–∑–∏—Ü–∏–∏

#### **2. –ù–û–í–´–ô –¢–û–†–ì–û–í–´–ô –°–ò–ì–ù–ê–õ:**
- **–ö–æ–≥–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è**: –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ù–ï–¢ –æ—Ç–∫—Ä—ã—Ç–æ–π –ø–æ–∑–∏—Ü–∏–∏ –ø–æ –¥–∞–Ω–Ω–æ–π –º–æ–Ω–µ—Ç–µ
- **–¶–µ–ª—å**: –û—Ç–∫—Ä—ã—Ç–∏–µ –Ω–æ–≤–æ–π –ø–æ–∑–∏—Ü–∏–∏
- **–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ**:
  - –¶–µ–Ω–∞ –≤—Ö–æ–¥–∞
  - Take Profit —É—Ä–æ–≤–Ω–∏
  - –†–∏—Å–∫ –Ω–∞ —Å–¥–µ–ª–∫—É
  - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
  - –ù–æ–≤–æ—Å—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

## üîß **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏**

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π:**
```python
user_positions = user_data.get('open_positions', [])
has_user_long = any(
    pos["symbol"] == symbol and pos.get("side", "long") == "long"
    for pos in user_positions
)
has_user_short = any(
    pos["symbol"] == symbol and pos.get("side", "long") == "short"
    for pos in user_positions
)
```

### **–õ–æ–≥–∏–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏:**
```python
# –ï—Å–ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å –æ—Ç–∫—Ä—ã—Ç–∞—è –ø–æ–∑–∏—Ü–∏—è –ø–æ –¥–∞–Ω–Ω–æ–π –º–æ–Ω–µ—Ç–µ, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º –Ω–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã
if has_user_long or has_user_short:
    print(f"[DEBUG] {symbol}: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å {user_id} –∏–º–µ–µ—Ç –æ—Ç–∫—Ä—ã—Ç—É—é –ø–æ–∑–∏—Ü–∏—é, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º –Ω–æ–≤—ã–µ —Ç–æ—Ä–≥–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã")
    continue
```

## üìà **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã**

### **1. –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤:**
- **DCA –¢–û–†–ì–û–í–´–ô –°–ò–ì–ù–ê–õ** - –¥–ª—è —É—Å—Ä–µ–¥–Ω–µ–Ω–∏—è
- **–ù–û–í–´–ô –¢–û–†–ì–û–í–´–ô –°–ò–ì–ù–ê–õ** - –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–∑–∏—Ü–∏–π

### **2. –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å –æ—Ç–∫—Ä—ã—Ç—ã–º–∏ –ø–æ–∑–∏—Ü–∏—è–º–∏ –ø–æ–ª—É—á–∞—é—Ç —Ç–æ–ª—å–∫–æ DCA —Å–∏–≥–Ω–∞–ª—ã
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±–µ–∑ –ø–æ–∑–∏—Ü–∏–π –ø–æ–ª—É—á–∞—é—Ç —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã
- –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∏–ª–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

### **3. –£–ª—É—á—à–µ–Ω–Ω–∞—è —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞:**
- –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è —è—Å–Ω–æ—Å—Ç–∏
- –õ–æ–≥–∏–∫–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –Ω–∞ —á–µ—Ç–∫–∏–µ –±–ª–æ–∫–∏
- –õ–µ–≥–∫–æ –ø–æ–Ω—è—Ç—å, –∫–∞–∫–æ–π —Ç–∏–ø —Å–∏–≥–Ω–∞–ª–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è

## üéØ **–ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã**

### **–°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±–µ–∑ –ø–æ–∑–∏—Ü–∏–π**
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ù–ï–¢ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π –ø–æ BTCUSDT
–†–µ–∑—É–ª—å—Ç–∞—Ç: –ü–æ–ª—É—á–∞–µ—Ç –ù–û–í–´–ô –¢–û–†–ì–û–í–´–ô –°–ò–ì–ù–ê–õ (–µ—Å–ª–∏ –µ—Å—Ç—å —É—Å–ª–æ–≤–∏—è)
```

### **–°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å LONG –ø–æ–∑–∏—Ü–∏–µ–π**
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ï–°–¢–¨ LONG –ø–æ–∑–∏—Ü–∏—è –ø–æ BTCUSDT
–†–µ–∑—É–ª—å—Ç–∞—Ç: –ü–æ–ª—É—á–∞–µ—Ç DCA –¢–û–†–ì–û–í–´–ô –°–ò–ì–ù–ê–õ (–µ—Å–ª–∏ –µ—Å—Ç—å —É—Å–ª–æ–≤–∏—è –¥–ª—è —É—Å—Ä–µ–¥–Ω–µ–Ω–∏—è)
```

### **–°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å SHORT –ø–æ–∑–∏—Ü–∏–µ–π**
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ï–°–¢–¨ SHORT –ø–æ–∑–∏—Ü–∏—è –ø–æ BTCUSDT
–†–µ–∑—É–ª—å—Ç–∞—Ç: –ü–æ–ª—É—á–∞–µ—Ç DCA –¢–û–†–ì–û–í–´–ô –°–ò–ì–ù–ê–õ (–µ—Å–ª–∏ –µ—Å—Ç—å —É—Å–ª–æ–≤–∏—è –¥–ª—è —É—Å—Ä–µ–¥–Ω–µ–Ω–∏—è)
```

## ‚úÖ **–ó–∞–∫–ª—é—á–µ–Ω–∏–µ**

### **–î–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–µ —Ü–µ–ª–∏:**
1. ‚úÖ **–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω—ã —Å–∏–≥–Ω–∞–ª—ã** –¥–ª—è —è—Å–Ω–æ—Å—Ç–∏
2. ‚úÖ **–£–ª—É—á—à–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏** —Å–∏–≥–Ω–∞–ª–æ–≤
3. ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏** –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –∫–æ–¥–∞
4. ‚úÖ **–ò—Å–∫–ª—é—á–µ–Ω—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã** –º–µ–∂–¥—É —Ç–∏–ø–∞–º–∏ —Å–∏–≥–Ω–∞–ª–æ–≤

### **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- **–ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ** –º–µ–∂–¥—É DCA –∏ –Ω–æ–≤—ã–º–∏ —Å–∏–≥–Ω–∞–ª–∞–º–∏
- **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞** –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–£–ª—É—á—à–µ–Ω–Ω–∞—è —á–∏—Ç–∞–µ–º–æ—Å—Ç—å** –∫–æ–¥–∞
- **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è** —Å–∏–≥–Ω–∞–ª–æ–≤

**–°—Ç–∞—Ç—É—Å**: ‚úÖ **–û–ë–ù–û–í–õ–ï–ù–ò–ï –ó–ê–í–ï–†–®–ï–ù–û**
**–ö–∞—á–µ—Å—Ç–≤–æ**: üéØ **–£–õ–£–ß–®–ï–ù–û**
**–õ–æ–≥–∏–∫–∞**: üîí **–ü–†–ê–í–ò–õ–¨–ù–ê–Ø**