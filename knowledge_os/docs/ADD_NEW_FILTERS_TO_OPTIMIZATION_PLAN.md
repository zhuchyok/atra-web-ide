# üéØ –ü–õ–ê–ù: –î–û–ë–ê–í–õ–ï–ù–ò–ï –ù–û–í–´–• –§–ò–õ–¨–¢–†–û–í –í –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Æ

**–î–∞—Ç–∞:** 2024-12-XX  
**–°—Ç–∞—Ç—É—Å:** üöÄ **–í –†–ê–ë–û–¢–ï**

---

## üìä –§–ò–õ–¨–¢–†–´ –î–õ–Ø –î–û–ë–ê–í–õ–ï–ù–ò–Ø

### ‚úÖ **–£–ñ–ï –û–ü–¢–ò–ú–ò–ó–ò–†–û–í–ê–ù–´ (9 —Ñ–∏–ª—å—Ç—Ä–æ–≤):**
1. Volume Profile
2. VWAP
3. Market Profile
4. Order Flow
5. Microstructure
6. Momentum
7. Trend Strength
8. AMT
9. Institutional Patterns

### ‚ùå **–ù–£–ñ–ù–û –î–û–ë–ê–í–ò–¢–¨ (9 —Ñ–∏–ª—å—Ç—Ä–æ–≤):**

#### **1. BTC Trend Filter** üìä
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
  - `ema_soft`: [50, 100, 200]
  - `ema_strict`: [200]
  - `lookback`: [50, 100]
  - `use_multitf`: [True, False]
- **–¢–µ–∫—É—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:** EMA_SOFT=50, EMA_STRICT=200, LOOKBACK=50
- **–§–∞–π–ª:** `src/filters/btc_trend.py`

#### **2. ETH Trend Filter** üìà
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
  - `ema_soft`: [50, 100, 200]
  - `ema_strict`: [200]
- **–¢–µ–∫—É—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:** EMA_SOFT=50, EMA_STRICT=200
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –≤ `signal_live.py`

#### **3. SOL Trend Filter** üìà
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
  - `ema_soft`: [50, 100, 200]
  - `ema_strict`: [200]
- **–¢–µ–∫—É—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:** EMA_SOFT=50, EMA_STRICT=200
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –≤ `signal_live.py`

#### **4. Dominance Trend Filter** üìâ
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
  - `dominance_threshold_pct`: [0.5, 1.0, 1.5]
  - `min_days_for_trend`: [1, 3, 7]
  - `block_long_on_rising`: [True, False]
  - `block_short_on_falling`: [True, False]
- **–¢–µ–∫—É—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:** threshold=1.0, min_days=1
- **–§–∞–π–ª:** `src/filters/dominance_trend.py`

#### **5. Interest Zone Filter** üéØ
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
  - `lookback_periods`: [50, 100, 200]
  - `min_volume_cluster`: [1.0, 1.5, 2.0]
  - `zone_width_pct`: [0.3, 0.5, 0.7]
  - `min_zone_strength`: [0.5, 0.6, 0.7]
- **–¢–µ–∫—É—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:** lookback=100, cluster=1.5, width=0.5, strength=0.6
- **–§–∞–π–ª:** `src/filters/interest_zone.py`

#### **6. Fibonacci Zone Filter** üìê
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
  - `lookback_periods`: [50, 100, 200]
  - `tolerance_pct`: [0.3, 0.5, 0.7]
  - `require_strong_levels`: [True, False]
- **–¢–µ–∫—É—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:** lookback=100, tolerance=0.5, require_strong=False
- **–§–∞–π–ª:** `src/filters/fibonacci_zone.py`

#### **7. Volume Imbalance Filter** üìä
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
  - `lookback_periods`: [10, 20, 30]
  - `volume_spike_threshold`: [1.5, 2.0, 2.5]
  - `min_volume_ratio`: [1.0, 1.2, 1.5]
  - `require_volume_confirmation`: [True, False]
- **–¢–µ–∫—É—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:** lookback=20, spike=2.0, ratio=1.2, require=True
- **–§–∞–π–ª:** `src/filters/volume_imbalance.py`

#### **8. News Filter** üì∞
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
  - `min_sentiment_score`: [0.1, 0.2, 0.3]
  - `block_long_on_negative`: [True, False]
  - `block_short_on_positive`: [True, False]
- **–¢–µ–∫—É—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:** sentiment=0.3, block_long=True, block_short=True
- **–§–∞–π–ª:** `src/filters/news.py`

#### **9. Whale Filter** üêã
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
  - `min_whale_size_usdt`: [500000, 1000000, 2000000]
  - `activity_threshold`: [0.3, 0.5, 0.7]
  - `time_window_minutes`: [30, 60, 120]
- **–¢–µ–∫—É—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:** size=1M, activity=0.5, window=60
- **–§–∞–π–ª:** `src/filters/whale.py`

---

## üîß –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### **–®–ê–ì 1: –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏-–æ–±–µ—Ä—Ç–∫–∏ –¥–ª—è core.py**

–ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ `core.py`:

1. `check_btc_trend_filter(df, i, side, strict_mode=False)` - —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
2. `check_eth_trend_filter(df, i, side, strict_mode=False)` - —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
3. `check_sol_trend_filter(df, i, side, strict_mode=False)` - —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
4. `check_dominance_trend_filter(df, i, side, strict_mode=False)` - —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
5. `check_interest_zone_filter(df, i, side, strict_mode=False)` - —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
6. `check_fibonacci_zone_filter(df, i, side, strict_mode=False)` - —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
7. `check_volume_imbalance_filter(df, i, side, strict_mode=False)` - —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
8. `check_news_filter(symbol, side, strict_mode=False)` - —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
9. `check_whale_filter(symbol, side, strict_mode=False)` - —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è

### **–®–ê–ì 2: –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –≤ core.py**

–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–æ–≤—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤ –≤ `soft_entry_signal` –∏ `strict_entry_signal`:

```python
# –ü–æ—Å–ª–µ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤
if BTC_TREND_FILTER_AVAILABLE and USE_BTC_TREND_FILTER and long_base_ok:
    btc_ok, btc_reason = check_btc_trend_filter(df, i, "long", strict_mode=False)
    if not btc_ok:
        long_base_ok = False
```

### **–®–ê–ì 3: –û–±–Ω–æ–≤–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**

–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã –≤ `scripts/optimize_all_filters_comprehensive.py`:

- –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- –î–æ–±–∞–≤–∏—Ç—å –≤ —Ü–∏–∫–ª –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### **–®–ê–ì 4: –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é**

- –ü–µ—Ä–∏–æ–¥: 30 –¥–Ω–µ–π
- –°–∏–º–≤–æ–ª—ã: 5-10 –º–æ–Ω–µ—Ç
- –ü–æ—Ç–æ–∫–∏: 20 (Rust —É—Å–∫–æ—Ä–µ–Ω–∏–µ)
- –í—Ä–µ–º—è: ~3-5 —á–∞—Å–æ–≤

---

## üìä –û–ñ–ò–î–ê–ï–ú–û–ï –ö–û–õ–ò–ß–ï–°–¢–í–û –ö–û–ú–ë–ò–ù–ê–¶–ò–ô

### **–£–ø—Ä–æ—â–µ–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç (—Å–æ–∫—Ä–∞—â–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã):**

- BTC Trend: 3 √ó 2 = 6 –∫–æ–º–±–∏–Ω–∞—Ü–∏–π
- ETH Trend: 3 –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏
- SOL Trend: 3 –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏
- Dominance: 3 √ó 3 √ó 2 √ó 2 = 36 –∫–æ–º–±–∏–Ω–∞—Ü–∏–π
- Interest Zone: 3 √ó 3 √ó 3 √ó 3 = 81 –∫–æ–º–±–∏–Ω–∞—Ü–∏—è
- Fibonacci: 3 √ó 3 √ó 2 = 18 –∫–æ–º–±–∏–Ω–∞—Ü–∏–π
- Volume Imbalance: 3 √ó 3 √ó 3 √ó 2 = 54 –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏
- News: 3 √ó 2 √ó 2 = 12 –∫–æ–º–±–∏–Ω–∞—Ü–∏–π
- Whale: 3 √ó 3 √ó 3 = 27 –∫–æ–º–±–∏–Ω–∞—Ü–∏–π

**–ò—Ç–æ–≥–æ:** 6 √ó 3 √ó 3 √ó 36 √ó 81 √ó 18 √ó 54 √ó 12 √ó 27 = **~2.5 —Ç—Ä–∏–ª–ª–∏–æ–Ω–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏–π** ‚ùå

### **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç (–ø–æ—ç—Ç–∞–ø–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è):**

**–≠—Ç–∞–ø 1:** –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ –æ–¥–Ω–æ–º—É —Ñ–∏–ª—å—Ç—Ä—É (–∏—Å–ø–æ–ª—å–∑—É—è —É–∂–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö)
- –ö–∞–∂–¥—ã–π —Ñ–∏–ª—å—Ç—Ä: 10-50 –∫–æ–º–±–∏–Ω–∞—Ü–∏–π
- 9 —Ñ–∏–ª—å—Ç—Ä–æ–≤ √ó 30 –∫–æ–º–±–∏–Ω–∞—Ü–∏–π = 270 —Ç–µ—Å—Ç–æ–≤ ‚úÖ

**–≠—Ç–∞–ø 2:** –§–∏–Ω–∞–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤ –≤–º–µ—Å—Ç–µ (—Å–æ–∫—Ä–∞—â–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤)
- 3-5 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –Ω–∞ —Ñ–∏–ª—å—Ç—Ä
- –ò—Ç–æ–≥–æ: ~1000-5000 –∫–æ–º–±–∏–Ω–∞—Ü–∏–π ‚úÖ

---

## üéØ –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–´–ô –ü–û–î–•–û–î

### **–í–∞—Ä–∏–∞–Ω—Ç 1: –ü–æ—ç—Ç–∞–ø–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

1. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —Ñ–∏–ª—å—Ç—Ä –æ—Ç–¥–µ–ª—å–Ω–æ
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö
3. –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –≤–º–µ—Å—Ç–µ

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ë—ã—Å—Ç—Ä–µ–µ (270 —Ç–µ—Å—Ç–æ–≤ –≤–º–µ—Å—Ç–æ —Ç—Ä–∏–ª–ª–∏–æ–Ω–æ–≤)
- ‚úÖ –õ–µ–≥—á–µ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- ‚úÖ –ú–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã

### **–í–∞—Ä–∏–∞–Ω—Ç 2: –ì—Ä—É–ø–ø–æ–≤–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**

1. –ì—Ä—É–ø–ø–∞ 1: Trend —Ñ–∏–ª—å—Ç—Ä—ã (BTC, ETH, SOL)
2. –ì—Ä—É–ø–ø–∞ 2: Zone —Ñ–∏–ª—å—Ç—Ä—ã (Interest, Fibonacci)
3. –ì—Ä—É–ø–ø–∞ 3: Market —Ñ–∏–ª—å—Ç—Ä—ã (Dominance, Volume Imbalance)
4. –ì—Ä—É–ø–ø–∞ 4: External —Ñ–∏–ª—å—Ç—Ä—ã (News, Whale)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –£—á–∏—Ç—ã–≤–∞–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –≤ –≥—Ä—É–ø–ø–µ
- ‚úÖ –ë—ã—Å—Ç—Ä–µ–µ —á–µ–º –ø–æ–ª–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

---

## ‚úÖ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. ‚úÖ –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏-–æ–±–µ—Ä—Ç–∫–∏ –¥–ª—è core.py
2. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –≤ core.py
3. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
4. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ—ç—Ç–∞–ø–Ω—É—é –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é
5. ‚úÖ –ü—Ä–∏–º–µ–Ω–∏—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

---

## üìÅ –§–ê–ô–õ–´ –î–õ–Ø –ò–ó–ú–ï–ù–ï–ù–ò–Ø

1. `src/signals/core.py` - –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–æ–≤—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤
2. `scripts/optimize_all_filters_comprehensive.py` - –¥–æ–±–∞–≤–∏—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –Ω–æ–≤—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤
3. `config.py` - –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –Ω–æ–≤—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤
4. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã-–æ–±–µ—Ä—Ç–∫–∏ –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏–π —Ñ–∏–ª—å—Ç—Ä–æ–≤

