# üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú–´ –° –¶–ï–ù–û–ô –í–•–û–î–ê 0

## üéØ –ü–†–û–ë–õ–ï–ú–ê

–í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–∞—Ö –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∞—Å—å **—Ü–µ–Ω–∞ –≤—Ö–æ–¥–∞ 0**, —á—Ç–æ –¥–µ–ª–∞–ª–æ —Å–∏–≥–Ω–∞–ª—ã –Ω–µ–ø—Ä–∏–≥–æ–¥–Ω—ã–º–∏ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

### –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–±–ª–µ–º–Ω–æ–≥–æ —Å–∏–≥–Ω–∞–ª–∞:
```
üü¢ –ù–û–í–´–ô –¢–û–†–ì–û–í–´–ô –°–ò–ì–ù–ê–õ üì∞
üìä –°–∏–º–≤–æ–ª: HBARUSDT
üí∞ –¶–µ–Ω–∞ –≤—Ö–æ–¥–∞: 0  ‚Üê –ü–†–û–ë–õ–ï–ú–ê!
üìà –°—Ç–æ—Ä–æ–Ω–∞: long
üéØ TP1: 0 (+1.0%)  ‚Üê –ü–†–û–ë–õ–ï–ú–ê!
üöÄ TP2: 0 (+2.0%)  ‚Üê –ü–†–û–ë–õ–ï–ú–ê!
```

## üîç –ü–†–ò–ß–ò–ù–´ –ü–†–û–ë–õ–ï–ú–´

### 1. **–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ OHLC**
- –î–∞–Ω–Ω—ã–µ –æ —Ü–µ–Ω–∞—Ö –º–æ–≥–ª–∏ –±—ã—Ç—å –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- API –≤–æ–∑–≤—Ä–∞—â–∞–ª –ø—É—Å—Ç—ã–µ –∏–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç—å—é –∏–ª–∏ –ª–∏–º–∏—Ç–∞–º–∏ API

### 2. **–û—à–∏–±–∫–∏ –≤ —Ä–∞—Å—á–µ—Ç–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤**
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (Bollinger Bands, EMA, RSI) –º–æ–≥–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å NaN –∏–ª–∏ 0
- –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
- –û—à–∏–±–∫–∏ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ `ta` (Technical Analysis)

### 3. **–ü—Ä–æ–±–ª–µ–º—ã –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö —Å–∏–≥–Ω–∞–ª–æ–≤**
- –§—É–Ω–∫—Ü–∏–∏ `balanced_entry_signal`, `soft_entry_signal` –∏ –¥—Ä. –≤–æ–∑–≤—Ä–∞—â–∞–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Ü–µ–Ω—ã
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å —Ü–µ–Ω—ã –ø–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—Ç–æ–º

## ‚úÖ –†–ï–®–ï–ù–ò–ï

### 1. **–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–Ω—ã —Å–∏–≥–Ω–∞–ª–∞**

–í —Ñ—É–Ω–∫—Ü–∏–∏ `check_and_send_signals` –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Ü–µ–Ω—ã:

```python
# –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–∏–≥–Ω–∞–ª —Å–æ–≥–ª–∞—Å–Ω–æ —Ä–µ–∂–∏–º—É —Ñ–∏–ª—å—Ç—Ä–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
signal_type, signal_price = get_entry_signal_by_mode(df, current_index, filter_mode)

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ü–µ–Ω—ã —Å–∏–≥–Ω–∞–ª–∞
if signal_price is None or pd.isna(signal_price) or signal_price <= 0:
    print(f"[DEBUG] {symbol}: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ü–µ–Ω–∞ —Å–∏–≥–Ω–∞–ª–∞: {signal_price}, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ–∫—É—â—É—é —Ü–µ–Ω—É")
    signal_price = last['close']  # –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ–∫—É—â—É—é —Ü–µ–Ω—É –∫–∞–∫ fallback
```

### 2. **–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–∏–≥–Ω–∞–ª–æ–≤**

–í —Ñ—É–Ω–∫—Ü–∏–∏ `balanced_entry_signal` –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–Ω—ã –ø–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—Ç–æ–º:

```python
if all(long_conditions):
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ü–µ–Ω—ã –ø–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—Ç–æ–º
    if current_price is None or pd.isna(current_price) or current_price <= 0:
        print(f"[DEBUG] –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ü–µ–Ω–∞ –≤ LONG —Å–∏–≥–Ω–∞–ª–µ: {current_price}")
        return None, None
    return "LONG", current_price
elif all(short_conditions):
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ü–µ–Ω—ã –ø–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—Ç–æ–º
    if current_price is None or pd.isna(current_price) or current_price <= 0:
        print(f"[DEBUG] –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ü–µ–Ω–∞ –≤ SHORT —Å–∏–≥–Ω–∞–ª–µ: {current_price}")
        return None, None
    return "SHORT", current_price
```

## üîß –õ–û–ì–ò–ö–ê –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### **–£—Ä–æ–≤–µ–Ω—å 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö —Å–∏–≥–Ω–∞–ª–æ–≤**
- –ï—Å–ª–∏ —Ü–µ–Ω–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ–º `None, None` (—Å–∏–≥–Ω–∞–ª –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è)
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤ —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ —Ü–µ–Ω–∞–º–∏

### **–£—Ä–æ–≤–µ–Ω—å 2: Fallback –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –∫–æ–¥–µ**
- –ï—Å–ª–∏ `signal_price` –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ–º `last['close']` –∫–∞–∫ —Ä–µ–∑–µ—Ä–≤–Ω—É—é —Ü–µ–Ω—É
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç, —á—Ç–æ —Å–∏–≥–Ω–∞–ª –≤—Å–µ–≥–¥–∞ –∏–º–µ–µ—Ç –≤–∞–ª–∏–¥–Ω—É—é —Ü–µ–Ω—É

### **–£—Ä–æ–≤–µ–Ω—å 3: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏**
- –î–æ–±–∞–≤–ª–µ–Ω—ã –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–±–ª–µ–º
- –ü–æ–º–æ–≥–∞–µ—Ç –≤—ã—è–≤–∏—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢

### **–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```
üí∞ –¶–µ–Ω–∞ –≤—Ö–æ–¥–∞: 0
üéØ TP1: 0 (+1.0%)
üöÄ TP2: 0 (+2.0%)
```

### **–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```
üí∞ –¶–µ–Ω–∞ –≤—Ö–æ–¥–∞: 0.2500
üéØ TP1: 0.2525 (+1.0%)
üöÄ TP2: 0.2550 (+2.0%)
```

## üéØ –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê

1. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –°–∏–≥–Ω–∞–ª—ã –≤—Å–µ–≥–¥–∞ –∏–º–µ—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ü–µ–Ω—É
2. **–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å**: –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å API
3. **–û—Ç–ª–∞–¥–∫–∞**: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–º–æ–≥–∞–µ—Ç –≤—ã—è–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã
4. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ª–æ–≥–∏–∫—É

## üîÑ –°–û–í–ú–ï–°–¢–ò–ú–û–°–¢–¨

- ‚úÖ –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ fallback –ª–æ–≥–∏–∫–∞
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
- ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–µ –ø–æ—Å—Ç—Ä–∞–¥–∞–ª–∞

## üìù –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

–ü—Ä–æ–±–ª–µ–º–∞ —Å —Ü–µ–Ω–æ–π –≤—Ö–æ–¥–∞ 0 –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞. –¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞:

1. **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç** –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ü–µ–Ω—ã –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö
2. **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç fallback** –ø—Ä–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
3. **–õ–æ–≥–∏—Ä—É–µ—Ç** –ø—Ä–æ–±–ª–µ–º—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
4. **–ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç** –≤–∞–ª–∏–¥–Ω—ã–µ —Ü–µ–Ω—ã –≤–æ –≤—Å–µ—Ö —Å–∏–≥–Ω–∞–ª–∞—Ö

–°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–ª–∞ –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–æ–π –∏ —É—Å—Ç–æ–π—á–∏–≤–æ–π –∫ –æ—à–∏–±–∫–∞–º –¥–∞–Ω–Ω—ã—Ö! üöÄ