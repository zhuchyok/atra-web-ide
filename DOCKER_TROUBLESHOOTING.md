# üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å Docker Daemon

**–ü—Ä–æ–±–ª–µ–º–∞:** `Cannot connect to the Docker daemon at unix:///Users/bikos/.docker/run/docker.sock`

---

## üîç –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Docker Desktop

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∑–∞–ø—É—â–µ–Ω –ª–∏ Docker Desktop
ps aux | grep -i "docker desktop" | grep -v grep

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–∫–µ—Ç
ls -la /Users/bikos/.docker/run/docker.sock
```

### 2. –ï—Å–ª–∏ Docker Desktop –∑–∞–ø—É—â–µ–Ω, –Ω–æ —Å–æ–∫–µ—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:

**–†–µ—à–µ–Ω–∏–µ 1: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Docker Desktop**
1. –ó–∞–∫—Ä–æ–π—Ç–µ Docker Desktop –ø–æ–ª–Ω–æ—Å—Ç—å—é (Quit –∏–∑ –º–µ–Ω—é)
2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 10 —Å–µ–∫—É–Ω–¥
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker Desktop –∑–∞–Ω–æ–≤–æ
4. –î–æ–∂–¥–∏—Ç–µ—Å—å –ø–æ–ª–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ (–∏–∫–æ–Ω–∫–∞ –≤ –º–µ–Ω—é –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–µ–ª–µ–Ω–∞—è)

**–†–µ—à–µ–Ω–∏–µ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ —Å–æ–∫–µ—Ç
ls -la /Users/bikos/.docker/run/docker.sock

# –ï—Å–ª–∏ –Ω—É–∂–Ω–æ, –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∞
sudo chmod 666 /Users/bikos/.docker/run/docker.sock
```

**–†–µ—à–µ–Ω–∏–µ 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø—É—Ç—å**
```bash
# –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ /var/run/docker.sock (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
export DOCKER_HOST=unix:///var/run/docker.sock
docker ps
```

---

## ‚úÖ –ë–´–°–¢–†–û–ï –†–ï–®–ï–ù–ò–ï

### –®–∞–≥ 1: –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Docker Desktop

1. **–ó–∞–∫—Ä—ã—Ç—å Docker Desktop:**
   - –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É Docker –≤ –º–µ–Ω—é (–≤–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å)
   - –í—ã–±–µ—Ä–∏—Ç–µ "Quit Docker Desktop"
   - –ü–æ–¥–æ–∂–¥–∏—Ç–µ 10-15 —Å–µ–∫—É–Ω–¥

2. **–ó–∞–ø—É—Å—Ç–∏—Ç—å Docker Desktop:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ Docker Desktop –∏–∑ Applications
   - –î–æ–∂–¥–∏—Ç–µ—Å—å –ø–æ–ª–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ (30-60 —Å–µ–∫—É–Ω–¥)
   - –ò–∫–æ–Ω–∫–∞ –¥–æ–ª–∂–Ω–∞ —Å—Ç–∞—Ç—å –∑–µ–ª–µ–Ω–æ–π

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:**
   ```bash
   docker ps
   ```

4. **–ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Victoria:**
   ```bash
   cd /Users/bikos/Documents/atra-web-ide
   docker-compose -f knowledge_os/docker-compose.yml restart victoria-agent
   ```

---

## üîß –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–´–ï –†–ï–®–ï–ù–ò–Ø

### –ï—Å–ª–∏ Docker Desktop –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker Desktop**
- –°–∫–∞—á–∞–π—Ç–µ –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é —Å docker.com
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–Ω–æ–≤–æ

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Docker —á–µ—Ä–µ–∑ Colima (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Colima
brew install colima docker docker-compose

# –ó–∞–ø—É—Å—Ç–∏—Ç—å Colima
colima start

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
docker ps
```

**–í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Podman (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)**
```bash
brew install podman
podman machine start
```

---

## üìã –ü–†–û–í–ï–†–ö–ê –ü–û–°–õ–ï –†–ï–®–ï–ù–ò–Ø

–ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ Docker –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç:

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Docker
docker ps

# 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Victoria
cd /Users/bikos/Documents/atra-web-ide
docker-compose -f knowledge_os/docker-compose.yml restart victoria-agent

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î)
docker logs victoria-agent | grep -i "database\|—ç–∫—Å–ø–µ—Ä—Ç—ã\|fallback"

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å health
curl http://localhost:8010/health
```

---

## üö® –ï–°–õ–ò –ù–ò–ß–ï–ì–û –ù–ï –ü–û–ú–û–ì–ê–ï–¢

1. **–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ Mac Studio:**
   ```bash
   sudo reboot
   ```

2. **–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏:**
   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker Desktop
   - –î–æ–∂–¥–∏—Ç–µ—Å—å –ø–æ–ª–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
   - –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ Victoria

---

## ‚úÖ –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ Victoria:
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î `knowledge_postgres`
- ‚úÖ –í –ª–æ–≥–∞—Ö: `üîå –ò—Å–ø–æ–ª—å–∑—É—é DATABASE_URL –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —ç–∫—Å–ø–µ—Ä—Ç–∞–º –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏`
- ‚úÖ –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å: `‚ö†Ô∏è DATABASE_URL –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω` –∏–ª–∏ `fallback`
