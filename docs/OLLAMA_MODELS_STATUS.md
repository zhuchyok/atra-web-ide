# –°—Ç–∞—Ç—É—Å Ollama –º–æ–¥–µ–ª–µ–π

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 2026-01-27

## ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏

### –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- ‚úÖ **moondream:latest** (1.7 GB) - Vision –º–æ–¥–µ–ª—å –¥–ª—è —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤
- ‚úÖ **tinyllama:1.1b-chat** (637 MB) - –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–∞—è —Ç–µ–∫—Å—Ç–æ–≤–∞—è –º–æ–¥–µ–ª—å

### –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏:
- ‚ö†Ô∏è **llava:7b** (4.7 GB) - Vision –º–æ–¥–µ–ª—å –¥–ª—è PDF
  - API –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞, –Ω–æ –Ω–µ –≤–∏–¥–Ω–∞ –≤ `ollama list`
  - –ü—Ä–æ–≤–µ—Ä–∫–∞: `ollama show llava:7b`
  
- ‚ö†Ô∏è **phi3.5:3.8b** (2.5 GB) - –ë—ã—Å—Ç—Ä–∞—è —Ç–µ–∫—Å—Ç–æ–≤–∞—è –º–æ–¥–µ–ª—å
  - API –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞, –Ω–æ –Ω–µ –≤–∏–¥–Ω–∞ –≤ `ollama list`
  - –ü—Ä–æ–≤–µ—Ä–∫–∞: `ollama show phi3.5:3.8b`

## üìã –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

```bash
# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
ollama list

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏
ollama show moondream
ollama show llava:7b
ollama show phi3.5:3.8b
ollama show tinyllama:1.1b-chat

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –º–æ–¥–µ–ª–µ–π
ollama pull llava:7b
ollama pull phi3.5:3.8b
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ –∫–æ–¥–µ

–ú–æ–¥–µ–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ `knowledge_os/app/local_router.py`:

```python
OLLAMA_MODELS = {
    "fast": "phi3.5:3.8b",      # –ë—ã—Å—Ç—Ä–∞—è –º–æ–¥–µ–ª—å (2.5 GB)
    "vision": "moondream",      # Vision –º–æ–¥–µ–ª—å (1.6 GB)
    "vision_pdf": "llava:7b",    # Vision –¥–ª—è PDF (4.7 GB)
    "coding": "phi3.5:3.8b",    # –î–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ –∫–æ–¥–∞
    "reasoning": "phi3.5:3.8b", # –î–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ reasoning
    "default": "phi3.5:3.8b"    # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
}
```

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:
- –ü—Ä–∏ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–µ MLX –ø—Ä–æ—Å—Ç—ã–µ –∑–∞–¥–∞—á–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—é—Ç—Å—è –Ω–∞ Ollama
- Vision –∑–∞–¥–∞—á–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `moondream` (—Å–∫—Ä–∏–Ω—à–æ—Ç—ã) –∏–ª–∏ `llava:7b` (PDF)
- –ü—Ä–æ—Å—Ç—ã–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `phi3.5:3.8b`

### Fallback –ª–æ–≥–∏–∫–∞:
1. MLX API Server (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
2. Ollama (–ø—Ä–∏ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–µ MLX –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏)
3. –û–±–ª–∞–∫–æ (–ø–æ—Å–ª–µ–¥–Ω–∏–π fallback)

## ‚ö†Ô∏è –ó–∞–º–µ—á–∞–Ω–∏—è

- MLX API Server –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç rate limit - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏
- Moondream Station –Ω–µ –∑–∞–ø—É—â–µ–Ω (–ø–æ—Ä—Ç 2020) - –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- –í—Å–µ –º–æ–¥–µ–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ API, –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ –≤–∏–¥–Ω—ã –≤ `ollama list`
