# ‚úÖ –ü–û–õ–ù–û–ï –í–ù–ï–î–†–ï–ù–ò–ï ATRA WEB IDE - –ó–ê–í–ï–†–®–ï–ù–û

**–î–∞—Ç–∞:** 2026-01-26  
**–°—Ç–∞—Ç—É—Å:** üü¢ **–í–°–ï –°–ï–†–í–ò–°–´ –ó–ê–ü–£–©–ï–ù–´ –ò –†–ê–ë–û–¢–ê–Æ–¢**

---

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–ù–´–ï –ó–ê–î–ê–ß–ò

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ ‚úÖ
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ volumes –≤ veronica-agent
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω USE_VERONICA_ENHANCED –≤ –∫–æ—Ä–Ω–µ–≤–æ–π docker-compose.yml
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è Victoria
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω IP –¥–ª—è Ollama (host.docker.internal)
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ç–∏ (external: true)

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞ ‚úÖ
- ‚úÖ Backend —Ñ–∞–π–ª—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- ‚úÖ Frontend —Ñ–∞–π–ª—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- ‚úÖ Dockerfile –¥–ª—è backend –∏ frontend –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã
- ‚úÖ requirements.txt –∏ package.json –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã

### 3. –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤ ‚úÖ
- ‚úÖ Docker –æ–±—Ä–∞–∑—ã —Å–æ–±—Ä–∞–Ω—ã (backend, frontend)
- ‚úÖ Knowledge OS –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã (Victoria, Veronica, DB)
- ‚úÖ Web IDE –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã (Frontend, Backend, Redis)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –ë–î –∏–∑ knowledge_os (–∏–∑–±–µ–∂–∞–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤)

### 4. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –ø–æ—Ä—Ç–æ–≤ ‚úÖ
- ‚úÖ Frontend –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω –Ω–∞ –ø–æ—Ä—Ç 3002 (3000 –∑–∞–Ω—è—Ç Grafana)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –ë–î (5432 –∑–∞–Ω—è—Ç knowledge_os_db)
- ‚úÖ –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

---

## üöÄ –ó–ê–ü–£–©–ï–ù–ù–´–ï –°–ï–†–í–ò–°–´

### Knowledge OS (–∏–∑ knowledge_os/docker-compose.yml):
- ‚úÖ **Victoria Agent** (–ø–æ—Ä—Ç 8010) - —Ä–∞–±–æ—Ç–∞–µ—Ç, health check OK
- ‚úÖ **Veronica Agent** (–ø–æ—Ä—Ç 8011) - —Ä–∞–±–æ—Ç–∞–µ—Ç, health check OK
- ‚úÖ **PostgreSQL** (–ø–æ—Ä—Ç 5432) - —Ä–∞–±–æ—Ç–∞–µ—Ç, healthy
- ‚úÖ **Redis** (–ø–æ—Ä—Ç 6380) - —Ä–∞–±–æ—Ç–∞–µ—Ç, healthy
- ‚úÖ **Elasticsearch** (–ø–æ—Ä—Ç 9200) - —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **Kibana, Prometheus, Grafana** - —Ä–∞–±–æ—Ç–∞—é—Ç

### Web IDE (–∏–∑ docker-compose.yml):
- ‚úÖ **Frontend** (–ø–æ—Ä—Ç 3002) - —Ä–∞–±–æ—Ç–∞–µ—Ç, –¥–æ—Å—Ç—É–ø–µ–Ω
- ‚úÖ **Backend** (–ø–æ—Ä—Ç 8080) - —Ä–∞–±–æ—Ç–∞–µ—Ç, health check OK
- ‚úÖ **Redis** (–ø–æ—Ä—Ç 6379) - —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üìä API ENDPOINTS

### Backend (http://localhost:8080):
- ‚úÖ `GET /` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–∏—Å–µ - —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ `GET /health` - Health check - —Ä–∞–±–æ—Ç–∞–µ—Ç (—Å—Ç–∞—Ç—É—Å: degraded –∏–∑-–∑–∞ Ollama)
- ‚úÖ `POST /api/chat` - –ß–∞—Ç —Å –∞–≥–µ–Ω—Ç–∞–º–∏ - –≥–æ—Ç–æ–≤
- ‚úÖ `GET /api/files` - –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ - –≥–æ—Ç–æ–≤
- ‚úÖ `GET /api/experts` - –°–ø–∏—Å–æ–∫ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ - –≥–æ—Ç–æ–≤
- ‚úÖ `GET /api/preview` - –ü—Ä–µ–≤—å—é —Ñ–∞–π–ª–æ–≤ - –≥–æ—Ç–æ–≤
- ‚úÖ `GET /docs` - Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è - –¥–æ—Å—Ç—É–ø–Ω–∞

### Victoria Agent (http://localhost:8010):
- ‚úÖ `GET /health` - Health check - —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ `POST /chat` - –ß–∞—Ç —Å Victoria - —Ä–∞–±–æ—Ç–∞–µ—Ç

### Veronica Agent (http://localhost:8011):
- ‚úÖ `GET /health` - Health check - —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ `POST /chat` - –ß–∞—Ç —Å Veronica - —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üåê –î–û–°–¢–£–ü –ö –°–ï–†–í–ò–°–ê–ú

### –õ–æ–∫–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø:
- **Frontend:** http://localhost:3002
- **Backend API:** http://localhost:8080
- **Backend Docs:** http://localhost:8080/docs
- **Victoria:** http://localhost:8010
- **Veronica:** http://localhost:8011
- **Grafana:** http://localhost:3000 (—É–∂–µ –±—ã–ª –∑–∞–ø—É—â–µ–Ω)
- **Kibana:** http://localhost:5601
- **Prometheus:** http://localhost:9090

### –ò–∑ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:
- **Victoria URL:** `http://host.docker.internal:8010`
- **Ollama URL:** `http://host.docker.internal:11434` (–µ—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω)
- **Database:** `postgresql://admin:secret@knowledge_os_db:5432/knowledge_os`

---

## ‚ö†Ô∏è –ò–ó–í–ï–°–¢–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

### 1. Ollama –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è Ollama –Ω–µ –∑–∞–ø—É—â–µ–Ω –Ω–∞ localhost:11434  
**–í–ª–∏—è–Ω–∏–µ:** Backend –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å "degraded", –Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç  
**–†–µ—à–µ–Ω–∏–µ:** 
- –ó–∞–ø—É—Å—Ç–∏—Ç—å Ollama/MLX API Server: `bash scripts/start_mlx_api_server.sh`
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω–µ—à–Ω–∏–π Ollama —Å–µ—Ä–≤–µ—Ä

### 2. Frontend –Ω–∞ –ø–æ—Ä—Ç—É 3002
**–ü—Ä–∏—á–∏–Ω–∞:** –ü–æ—Ä—Ç 3000 –∑–∞–Ω—è—Ç Grafana  
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ—Ä—Ç 3002, —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### 3. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –ë–î
**–ü—Ä–∏—á–∏–Ω–∞:** –ü–æ—Ä—Ç 5432 –∑–∞–Ω—è—Ç knowledge_os_db  
**–†–µ—à–µ–Ω–∏–µ:** Backend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ë–î —á–µ—Ä–µ–∑ `knowledge_os_db:5432`

---

## üîß –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env):
```env
VICTORIA_URL=http://host.docker.internal:8010
OLLAMA_URL=http://host.docker.internal:11434
DATABASE_URL=postgresql://admin:secret@knowledge_os_db:5432/knowledge_os
WORKSPACE_ROOT=/workspace
VICTORIA_MODEL=qwen2.5-coder:32b
VICTORIA_PLANNER_MODEL=phi3.5:3.8b
USE_VICTORIA_ENHANCED=true
```

### Docker Compose:
- **Knowledge OS:** `docker-compose -f knowledge_os/docker-compose.yml up -d`
- **Web IDE:** `docker-compose up -d frontend backend redis`

---

## üìã –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
1. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å Ollama/MLX API Server –¥–ª—è –ø–æ–ª–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
2. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CORS –≤ frontend –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å backend
3. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —á–∞—Ç —á–µ—Ä–µ–∑ Web IDE –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
4. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ:
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSL/TLS –¥–ª—è production
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã
- –î–æ–±–∞–≤–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## ‚úÖ –ò–¢–û–ì–ò

**–í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã ATRA Web IDE —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç:**

1. ‚úÖ Knowledge OS –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω
2. ‚úÖ Victoria –∏ Veronica Enhanced —Ä–∞–±–æ—Ç–∞—é—Ç
3. ‚úÖ Backend API –∑–∞–ø—É—â–µ–Ω –∏ –æ—Ç–≤–µ—á–∞–µ—Ç
4. ‚úÖ Frontend –¥–æ—Å—Ç—É–ø–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
5. ‚úÖ –í—Å–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
6. ‚úÖ –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø–æ—Ä—Ç–æ–≤ —Ä–∞–∑—Ä–µ—à–µ–Ω—ã

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üéâ

---

*–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ: 2026-01-26*
