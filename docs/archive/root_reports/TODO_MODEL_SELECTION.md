# TODO: Динамический выбор моделей

## Проблема

Все компоненты используют только `deepseek-r1-distill-llama:70b`:
- 22 генерации в тесте - все с deepseek
- Другие модели (qwen, phi, tiny) загружены, но не используются

## Причина

1. `ExtendedThinkingEngine` жестко закодирован на `deepseek-r1-distill-llama:70b` по умолчанию
2. `VictoriaEnhanced` передает свою `model_name` (тоже deepseek) во все компоненты
3. Нет динамического выбора модели в зависимости от типа задачи

## Решение

Добавить динамический выбор модели в зависимости от типа задачи:

### Для кода → `qwen2.5-coder:32b`
- Задачи с "код", "программируй", "напиши функцию"
- Frontend/Backend задачи

### Для быстрых задач → `phi3.5:3.8b` или `tinyllama:1.1b-chat`
- Простые запросы (< 300 символов)
- Быстрые ответы
- Категория "fast"

### Для сложного reasoning → `deepseek-r1-distill-llama:70b`
- Сложные задачи анализа
- Планирование
- Стратегические решения

## Файлы для изменения

1. `knowledge_os/app/extended_thinking.py` - добавить динамический выбор модели
2. `knowledge_os/app/victoria_enhanced.py` - передавать категорию задачи
3. `knowledge_os/app/local_router.py` - уже есть `_select_model()`, можно использовать

## Дата создания

2026-01-27

## Статус

⏳ Ожидает обсуждения после завершения теста
