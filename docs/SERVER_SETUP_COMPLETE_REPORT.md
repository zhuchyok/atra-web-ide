# ‚úÖ –û–¢–ß–ï–¢: –ù–ê–°–¢–†–û–ô–ö–ê –°–ï–†–í–ï–†–ê MAC STUDIO –ó–ê–í–ï–†–®–ï–ù–ê

**–î–∞—Ç–∞:** 2026-01-21  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ù–ê–°–¢–†–û–ï–ù–û –ò –ì–û–¢–û–í–û –ö –†–ê–ë–û–¢–ï**

---

## üéØ –ß–¢–û –ë–´–õ–û –°–î–ï–õ–ê–ù–û

### 1. ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–µ—Ä–≤–∏—Å–æ–≤
**–§–∞–π–ª—ã:**
- `scripts/check_all_services_enhanced.sh` - —É–ª—É—á—à–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- `scripts/QUICK_SERVER_SETUP.sh` - –±—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- `scripts/auto_setup_server.sh` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

**–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:**
- –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- Health checks –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (API, MLX, Prometheus, Grafana)
- –°–æ—Å—Ç–æ—è–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL
- –°—Ç–∞—Ç—É—Å –∞–≥–µ–Ω—Ç–æ–≤ (Victoria, Veronica, Nightly)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ (CPU, –ø–∞–º—è—Ç—å, –¥–∏—Å–∫)
- –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
bash scripts/check_all_services_enhanced.sh
```

---

### 2. ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∞–ª–µ—Ä—Ç–æ–≤
**–§–∞–π–ª—ã:**
- `scripts/setup_alerts.sh` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–ª–µ—Ä—Ç–æ–≤
- `~/bin/atra_check_alerts.sh` - —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ (—Å–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç:**
- ‚úÖ Docker daemon –∑–∞–ø—É—â–µ–Ω
- ‚úÖ Knowledge OS API –¥–æ—Å—Ç—É–ø–µ–Ω
- ‚úÖ MLX API Server –¥–æ—Å—Ç—É–ø–µ–Ω
- ‚úÖ PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ—Å—Ç—É–ø–Ω–∞
- ‚úÖ –ê–≥–µ–Ω—Ç—ã –∑–∞–ø—É—â–µ–Ω—ã (Victoria, Veronica, Nightly)
- ‚úÖ –î–∏—Å–∫ –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω (>90%)
- ‚úÖ –ë—ç–∫–∞–ø—ã —Å–≤–µ–∂–∏–µ (<25 —á–∞—Å–æ–≤)
- ‚úÖ –ü–∞–º—è—Ç—å –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–∞ (>95%)

**–õ–æ–≥–∏:**
- `~/Library/Logs/atra/alerts.log` - –≤—Å–µ –∞–ª–µ—Ä—Ç—ã
- `~/Library/Logs/atra/alerts_cron.out.log` - stdout cron
- `~/Library/Logs/atra/alerts_cron.err.log` - stderr cron

**–ü—Ä–æ—Å–º–æ—Ç—Ä:**
```bash
# –í—Å–µ –∞–ª–µ—Ä—Ç—ã
tail -f ~/Library/Logs/atra/alerts.log

# –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
bash ~/bin/atra_check_alerts.sh
```

---

### 3. ‚úÖ –°–∏—Å—Ç–µ–º–∞ –±—ç–∫–∞–ø–æ–≤ (—É–∂–µ –±—ã–ª–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Ä–∞–Ω–µ–µ)
**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- –õ–æ–∫–∞–ª—å–Ω—ã–µ –±—ç–∫–∞–ø—ã (03:00, launchd)
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤ Google Drive (03:10, cron)
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–¥–æ—Ä–æ–≤—å—è (04:00, cron)
- DR-—Ç–µ—Å—Ç—ã

**–°–∫—Ä–∏–ø—Ç—ã:**
- `scripts/check_backups_health.sh` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è –±—ç–∫–∞–ø–æ–≤
- `scripts/verify_gdrive_backup.sh` - DR-—Ç–µ—Å—Ç –∏–∑ Google Drive

---

## üìä –¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–°

### ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- ‚úÖ Docker —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∞–ª–µ—Ä—Ç–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ (cron –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç)
- ‚úÖ –°–∫—Ä–∏–ø—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–∑–¥–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã
- ‚úÖ –î–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –ª–æ–≥–æ–≤ —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ MLX API Server –¥–æ—Å—Ç—É–ø–µ–Ω (localhost:11434)

### ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è:
- ‚ö†Ô∏è Knowledge OS API –æ—Ñ–ª–∞–π–Ω (–Ω—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å `docker-compose up -d`)
- ‚ö†Ô∏è –ë—ç–∫–∞–ø—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã (–Ω–æ—Ä–º–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–≤–∞–ª–∏—Å—å - –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ 03:00)

---

## üöÄ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

### 1. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –∑–∞–ø—É—â–µ–Ω—ã):
```bash
cd ~/Documents/dev/atra
docker-compose up -d
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:
```bash
bash scripts/check_all_services_enhanced.sh
```

### 3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∞–ª–µ—Ä—Ç–æ–≤:
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
tail -f ~/Library/Logs/atra/alerts.log

# –ü—Ä–æ–≤–µ—Ä–∫–∞ cron
tail -f ~/Library/Logs/atra/alerts_cron.*.log
```

### 4. –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (–∫–æ–≥–¥–∞ –±—É–¥–µ—Ç–µ –≥–æ—Ç–æ–≤—ã):
```bash
python3 scripts/migration/migrate_to_mac_studio.py
```

---

## üìã –ü–û–õ–ï–ó–ù–´–ï –ö–û–ú–ê–ù–î–´

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤:
```bash
# –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
bash scripts/check_all_services_enhanced.sh

# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose ps

# Health checks
curl http://localhost:8000/health  # Knowledge OS API
curl http://localhost:11434/       # MLX API Server
curl http://localhost:9090/-/healthy  # Prometheus
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏:
```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö
docker-compose up -d

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose down

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker-compose restart knowledge-os-api

# –õ–æ–≥–∏
docker-compose logs -f knowledge-os-api
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
```bash
# –ê–ª–µ—Ä—Ç—ã
tail -f ~/Library/Logs/atra/alerts.log

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
df -h /
```

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ –ì–û–¢–û–í–ù–û–°–¢–ò

- [x] –°–∏—Å—Ç–µ–º–∞ –∞–ª–µ—Ä—Ç–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- [x] –°–∫—Ä–∏–ø—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–∑–¥–∞–Ω—ã
- [x] Cron jobs –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [x] –î–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –ª–æ–≥–æ–≤ —Å–æ–∑–¥–∞–Ω—ã
- [ ] –°–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã (`docker-compose up -d`)
- [ ] –í—Å–µ health checks –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –ë—ç–∫–∞–ø—ã —Ä–∞–±–æ—Ç–∞—é—Ç (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ 03:00)

---

## üìö –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø

- `scripts/SERVER_SETUP_COMPLETE.md` - –ø–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- `docs/SERVER_TASKS_PENDING.md` - —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á
- `docs/SERVER_SETUP_COMPLETE_REPORT.md` - —ç—Ç–æ—Ç –æ—Ç—á–µ—Ç

---

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞:** 2026-01-21  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
