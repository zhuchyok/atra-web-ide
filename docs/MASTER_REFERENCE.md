# –ï–¥–∏–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø—Ä–æ–µ–∫—Ç–∞ ATRA Web IDE (Master Reference)

**¬´–ë–∏–±–ª–∏—è¬ª –ø—Ä–æ–µ–∫—Ç–∞** ‚Äî —ç—Ç–æ **—ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç + —Å–≤—è–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤**, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω —Å—Å—ã–ª–∞–µ—Ç—Å—è. –ö–æ–≥–¥–∞ –≥–æ–≤–æ—Ä—è—Ç **¬´–±–∏–±–ª–∏—è¬ª**, –∏–º–µ–µ—Ç—Å—è –≤ –≤–∏–¥—É: –∏–∑—É—á–∏—Ç—å **docs/MASTER_REFERENCE.md** –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã (PROJECT_ARCHITECTURE_AND_GUIDE, ARCHITECTURE_FULL, CURRENT_STATE_WORKER_AND_LLM, WORKER_THROUGHPUT, OLLAMA_MLX, VERIFICATION_CHECKLIST, CHANGES_FROM_OTHER_CHATS, DASHBOARDS_AND_AGENTS_FULL_PICTURE, –ø–ª–∞–Ω –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ .cursor/plans –∏ –¥—Ä.). –ó–∞–∫—Ä–µ–ø–ª–µ–Ω–æ –≤ **.cursorrules** (—Ä–∞–∑–¥–µ–ª ¬´–ë–∏–±–ª–∏—è –ø—Ä–æ–µ–∫—Ç–∞¬ª).

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ø—Ä–∏ –ª—é–±—ã—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ, –∏–∑–º–µ–Ω–µ–Ω–∏—è–º, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ, –ª–æ–≥–∏–∫–µ, –ø–æ—Ä—Ç–∞–º, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º ‚Äî **–∏—â–µ–º –∑–¥–µ—Å—å**. –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –∏–ª–∏ —Å–º–µ–Ω–µ –ø–æ–¥—Ö–æ–¥–∞ ‚Äî **–æ—Ç—Ä–∞–∂–∞–µ–º –∑–¥–µ—Å—å**. –î–æ–∫—É–º–µ–Ω—Ç –≤—Å–µ–≥–¥–∞ –∞–∫—Ç—É–∞–ª–µ–Ω.

**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 2026-02-04

**–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (2026-02-04):** **MLX API: —Ç–∞–π–º–∞—É—Ç—ã –ø–æ –º–æ–¥–µ–ª—è–º (–∑–∞–≥—Ä—É–∑–∫–∞ + –∏–Ω—Ñ–µ—Ä–µ–Ω—Å + –∑–∞–ø–∞—Å).** –£ –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª–∏ —Ä–∞–∑–Ω–æ–µ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞; —Ä–∞–Ω—å—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ 300 —Å. –í–≤–µ–¥–µ–Ω—ã: (1) **MODEL_TIME_ESTIMATES** –≤ `knowledge_os/app/mlx_api_server.py` ‚Äî –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª–∏ (104b, 70b, 32b, 3b, 1b –∏ –¥—Ä.) –∑–∞–¥–∞–Ω—ã load_sec, inference_sec_per_1k, margin_sec; –¥–ª—è –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö ‚Äî fallback –ø–æ —Ä–∞–∑–º–µ—Ä—É –∏–∑ –∏–º–µ–Ω–∏. (2) **get_model_timeout_estimate(model_key, max_tokens, load_time_actual)** ‚Äî –ø–æ–ª–Ω—ã–π —Ç–∞–π–º–∞—É—Ç = –∑–∞–≥—Ä—É–∑–∫–∞ (—Ñ–∞–∫—Ç –∏–∑ –∫—ç—à–∞ –∏–ª–∏ –æ—Ü–µ–Ω–∫–∞) + (max_tokens/1000 √ó inference_sec_per_1k) + margin. (3) –¢–∞–π–º–∞—É—Ç **–æ–∂–∏–¥–∞–Ω–∏—è —Å–ª–æ—Ç–∞** –≤ middleware –∑–∞–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ **MLX_QUEUE_WAIT_TIMEOUT** –∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∫ –º–∞–∫—Å–∏–º—É–º –ø–æ –≤—Å–µ–º –º–æ–¥–µ–ª—è–º (2k —Ç–æ–∫–µ–Ω–æ–≤). (4) –¢–∞–π–º–∞—É—Ç **–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏** –≤ _generate_text_internal –∏ —Ç–∞–π–º–∞—É—Ç **–æ—á–µ—Ä–µ–¥–∏** (add_request, wait_for) –∏—Å–ø–æ–ª—å–∑—É—é—Ç —ç—Ç—É –æ—Ü–µ–Ω–∫—É –ø–æ –º–æ–¥–µ–ª–∏ –∏ max_tokens. Health/read-only (/ , /health, /api/tags) –Ω–µ –∑–∞–Ω–∏–º–∞—é—Ç —Å–ª–æ—Ç. –°–º. CHANGES_FROM_OTHER_CHATS ¬ß0.3m.

**–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (2026-02-04):** **–î–∞—à–±–æ—Ä–¥ –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏: —Ä–µ–Ω–¥–µ—Ä —Ç–æ–ª—å–∫–æ –ø–æ —Ä–∞–∑–¥–µ–ª—É (–ø–æ–¥ –∫–ª—é—á).** –í Corporation Dashboard (8501) –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ **6 —Ä–∞–∑–¥–µ–ª–∞–º** –≤ —Å–∞–π–¥–±–∞—Ä–µ; –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Ä–∞–∑–¥–µ–ª–∞ —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è **—Ç–æ–ª—å–∫–æ –ø–æ–¥–≤–∫–ª–∞–¥–∫–∏ —ç—Ç–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞** (–ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ DASHBOARD_OPTIMIZATION_PLAN). –û–±–∑–æ—Ä ‚Äî –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (st.stop); –ó–∞–¥–∞—á–∏ ‚Äî 2 –ø–æ–¥–≤–∫–ª–∞–¥–∫–∏ (–°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á, –ü–æ—Å—Ç–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É); –†–∞–∑–≤–µ–¥–∫–∞ –∏ —Å–∏–º—É–ª—è—Ü–∏–∏ ‚Äî 3 (–°–∏–º—É–ª—è—Ç–æ—Ä, –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥, –†–∞–∑–≤–µ–¥–∫–∞); **–°—Ç—Ä–∞—Ç–µ–≥–∏—è –∏ —ç–∫—Å–ø–µ—Ä—Ç—ã** ‚Äî 5 –ø–æ–¥–≤–∫–ª–∞–¥–æ–∫ (–õ–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å, –°—Ç—Ä—É–∫—Ç—É—Ä–∞, OKR, –†–µ—à–µ–Ω–∏—è –°–æ–≤–µ—Ç–∞, –ê–∫–∞–¥–µ–º–∏—è –ò–ò), –∫–æ–Ω—Ç–µ–Ω—Ç –≤—ã–Ω–µ—Å–µ–Ω –≤ _render_liquidity, _render_structure, _render_okr, _render_board_decisions, _render_academy; –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –∫–∞—á–µ—Å—Ç–≤–æ / –°–∏—Å—Ç–µ–º–∞ –∏ –∞–≥–µ–Ω—Ç ‚Äî –∑–∞–≥–ª—É—à–∫–∏ —Å –ø–æ–¥—Å–∫–∞–∑–∫–æ–π (–ø–æ–¥–≤–∫–ª–∞–¥–∫–∏ –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è –ø–æ –ø–ª–∞–Ω—É). –ë–ª–æ–∫ –∏–∑ 23 –≤–∫–ª–∞–¥–æ–∫ —É–¥–∞–ª—ë–Ω (~2400 —Å—Ç—Ä–æ–∫); –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å –≤ _render_board_decisions. –°–º. DASHBOARDS_AND_AGENTS_FULL_PICTURE ¬ß4, CHANGES_FROM_OTHER_CHATS ¬ß0.3j.

**–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (2026-02-04):** **–ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è —Ä–∞–±–æ—Ç—ã.** –í .cursorrules –¥–æ–±–∞–≤–ª–µ–Ω —Ä–∞–∑–¥–µ–ª ¬´–ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è —Ä–∞–±–æ—Ç—ã¬ª: –¥–µ–ª–∞—Ç—å –∫–∞–∫ –Ω—É–∂–Ω–æ, —Å–æ–≤–µ—Ç–æ–≤–∞—Ç—å—Å—è —Å–æ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞–º–∏ (—Ä–æ–ª–∏ –≤ .cursor/rules/, VERIFICATION_CHECKLIST, CHANGES_FROM_OTHER_CHATS), –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å –æ—à–∏–±–∫–∏, —Å–≤–µ—Ä—è—Ç—å—Å—è —Å –º–∏—Ä–æ–≤—ã–º–∏ –ø—Ä–∞–∫—Ç–∏–∫–∞–º–∏, —É—Å—Ç—Ä–∞–Ω—è—Ç—å –ø—Ä–∏—á–∏–Ω—ã —Å–±–æ–µ–≤, —Å–≤–µ—Ä—è—Ç—å—Å—è —Å –±–∏–±–ª–∏–µ–π –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å –µ—ë. –í MASTER_REFERENCE –¥–æ–±–∞–≤–ª–µ–Ω –ø–æ–¥—Ä–∞–∑–¥–µ–ª ¬´–ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è —Ä–∞–±–æ—Ç—ã¬ª –≤ ¬ß ¬´–ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è¬ª. –°–º. CHANGES_FROM_OTHER_CHATS ¬ß0.3h.

**–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (2026-02-04):** **–ü–æ—Ä—è–¥–æ–∫ –≤–µ–∑–¥–µ.** (1) –§–∞–π–ª—ã .backup –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ **docs/archive/obsolete_backups/** (–Ω–∞–ø—Ä–∏–º–µ—Ä src/filters/manager.py.backup). (2) –í .gitignore –¥–æ–±–∞–≤–ª–µ–Ω—ã *.backup, *.bak, *.swp, *.tmp (–º–∏—Ä–æ–≤–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞: –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å –±—ç–∫–∞–ø—ã –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã). (3) –í PROJECT_ARCHITECTURE_AND_GUIDE ¬ß2 —É—Ç–æ—á–Ω–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: –∫–æ—Ä–µ–Ω—å (README, PLAN, VICTORIA, VERONICA, requirements), docs/archive (root_reports, obsolete_backups). –°–º. docs/archive/README.md.

**–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (2026-02-04):** **–ü–æ—Ä—è–¥–æ–∫ –≤ –ø–∞–ø–∫–∞—Ö: –∞—Ä—Ö–∏–≤ –∫–æ—Ä–Ω–µ–≤—ã—Ö –æ—Ç—á—ë—Ç–æ–≤.** –û–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ –æ—Ç—á—ë—Ç—ã –∏ —Å—Ç–∞—Ç—É—Å—ã –∏–∑ –∫–æ—Ä–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ **docs/archive/root_reports/** (–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ COMPLETE_*, FINAL_*, VICTORIA_*, TELEGRAM_* –∏ –¥—Ä.). –í –∫–æ—Ä–Ω–µ –æ—Å—Ç–∞–≤–ª–µ–Ω—ã: README.md, PLAN.md, VICTORIA.md, VERONICA.md, requirements.txt –∏ –∫–æ–Ω—Ñ–∏–≥–∏/—Å–∫—Ä–∏–ø—Ç—ã. –í .gitignore –¥–æ–±–∞–≤–ª–µ–Ω—ã –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã —Å–±–æ—Ä–∫–∏: target/, *.o, *.rlib, *.dylib, *.a. –ê–∫—Ç—É–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚Äî docs/ (MASTER_REFERENCE –∏ —Ç–∞–±–ª–∏—Ü–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ ¬ß8). –°–º. docs/archive/README.md.

**–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (2026-02-04):** **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ normalize_and_hash_batch –≤ embedding_optimizer.** –í `get_embeddings_batch` —Ö—ç—à–∏ –¥–ª—è —Å–ø–∏—Å–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤ –ø–æ–ª—É—á–∞—é—Ç—Å—è –æ–¥–Ω–∏–º –≤—ã–∑–æ–≤–æ–º `_get_text_hashes_batch(texts)` (–≤–Ω—É—Ç—Ä–∏ ‚Äî Rust `normalize_and_hash_batch` –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏), –∑–∞—Ç–µ–º –ø–æ–∏—Å–∫ –ø–æ –∫—ç—à—É —á–µ—Ä–µ–∑ `_get_cached_embedding_by_hash`. –û–¥–∏–Ω –ø–µ—Ä–µ—Ö–æ–¥ Python‚ÜîRust –Ω–∞ –±–∞—Ç—á –≤–º–µ—Å—Ç–æ N. –õ–æ–≥–∏–∫–∞ –∫—ç—à–∞ (–ø–∞–º—è—Ç—å ‚Üí –ë–î) –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ `_get_cached_embedding_by_hash`; `get_cached_embedding` –∏ –±–∞—Ç—á –µ—ë –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É—é—Ç. –¢–µ—Å—Ç—ã –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è —Å –æ–¥–∏–Ω–æ—á–Ω—ã–º —Ö—ç—à–µ–º ‚Äî –æ–∫. –°–º. CORPORATION_RUST_ROADMAP ¬ß5 (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ batch –≤ Python).

**–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (2026-02-04):** **–ö–æ—Ä–ø–æ—Ä–∞—Ü–∏—è –Ω–∞ Rust: –¥–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ –∏ batch.** (1) –î–æ–∫—É–º–µ–Ω—Ç [CORPORATION_RUST_ROADMAP.md](CORPORATION_RUST_ROADMAP.md) ‚Äî —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –ø–æ—ç—Ç–∞–ø–Ω–æ–≥–æ –Ω–∞—Ä–∞—â–∏–≤–∞–Ω–∏—è Rust (–≤–∏–¥–µ–Ω–∏–µ, –ø—Ä–∏–Ω—Ü–∏–ø—ã –ø–æ —á–µ–∫–ª–∏—Å—Ç—É –∏ –±–∏–±–ª–∏–∏, —Ñ–∞–∑—ã, —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏). (2) –í cache_normalizer_rs –¥–æ–±–∞–≤–ª–µ–Ω–∞ –±–∞—Ç—á-—Ñ—É–Ω–∫—Ü–∏—è **normalize_and_hash_batch(texts)** ‚Äî –º–µ–Ω—å—à–µ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ Python‚ÜîRust –ø—Ä–∏ –º–∞—Å—Å–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–µ; –∫–æ–Ω—Ç—Ä–∞–∫—Ç –∏ fallback —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã. –°–º. CHANGES_FROM_OTHER_CHATS ¬ß0.3c.

**–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (2026-02-04):** **Rust cache_normalizer: faster-hex.** –í `cache_normalizer_rs` –¥–ª—è hex-–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è MD5 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫—Ä–µ–π—Ç **faster-hex** (SIMD, –±—ã—Å—Ç—Ä–µ–µ `format!("{:x}")`); –≤ –±–∞—Ç—á–µ ‚Äî `Vec::with_capacity`. –ö–æ–Ω—Ç—Ä–∞–∫—Ç —Å Python —Å–æ—Ö—Ä–∞–Ω—ë–Ω (—Ç–µ—Å—Ç—ã –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è —Å hashlib). –°–º. OPTIMIZATION_AND_RUST_CANDIDATES ¬ß4.

**–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (2026-02-04):** **–£—Å–∫–æ—Ä–µ–Ω–∏–µ Rust cache_normalizer.** –í `knowledge_os/cache_normalizer_rs`: (1) –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –±–µ–∑ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–≥–æ `Vec` ‚Äî –æ–¥–∏–Ω –ø—Ä–æ—Ö–æ–¥ –≤ `String::with_capacity`; (2) –ø—Ä–æ—Ñ–∏–ª—å release: `opt-level=3`, `lto="thin"`, `codegen-units=1`; (3) —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã –≤ Rust (–ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞, –ø—Ä–æ–±–µ–ª—ã, –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å —Ö—ç—à–∞, MD5 –ø—É—Å—Ç–æ–π —Å—Ç—Ä–æ–∫–∏); (4) –ø—Ä–∏ Python 3.14 —Å–±–æ—Ä–∫–∞: `PYO3_USE_ABI3_FORWARD_COMPATIBILITY=1 maturin develop --release`. –ö–æ–Ω—Ç—Ä–∞–∫—Ç —Å Python —Å–æ—Ö—Ä–∞–Ω—ë–Ω (normalize_text, normalize_and_hash —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å hashlib). –ë–µ–Ω—á–º–∞—Ä–∫: 1000 –≤—ã–∑–æ–≤–æ–≤ ~0.001 —Å (Rust). –°–º. OPTIMIZATION_AND_RUST_CANDIDATES ¬ß4, cache_normalizer_rs/README.md.

**–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (2026-02-04):** **–ü—Ä–∏—á–∏–Ω–∞ —Å–±–æ—è –∏ –∑–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –ø–æ–≤—Ç–æ—Ä–æ–º (–º–µ–Ω—å—à–µ –≤—ã–ª–µ—Ç–æ–≤ –≤ —Ä—É—á–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É).** –ü—Ä–∏ –ø—É—Å—Ç–æ–º –æ—Ç–≤–µ—Ç–µ/—Ç–∞–π–º–∞—É—Ç–µ/–∏—Å–∫–ª—é—á–µ–Ω–∏–∏ –≤–æ—Ä–∫–µ—Ä —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç **last_error** –≤ metadata (timeout, —Ç–µ–∫—Å—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∏–ª–∏ empty_or_short_response), –ø–µ—Ä–µ–¥–∞—ë—Ç –µ–≥–æ –≤ –°–æ–≤–µ—Ç –ø—Ä–∏ —ç—Å–∫–∞–ª–∞—Ü–∏–∏ –∏ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Å deferred_to_human. –í –¥–∞—à–±–æ—Ä–¥–µ –¥–ª—è –∑–∞–¥–∞—á ¬´–†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞¬ª –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è **–ü—Ä–∏—á–∏–Ω–∞ —Å–±–æ—è** –∏–∑ metadata.last_error. –ß—Ç–æ–±—ã –Ω–µ –±–∏—Ç—å LLM —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Å–±–æ—è, –ø–µ—Ä–µ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø–æ–ø—ã—Ç–∫–æ–π –∑–∞–¥–∞—ë—Ç—Å—è –∑–∞–¥–µ—Ä–∂–∫–∞: **next_retry_after** (env `SMART_WORKER_RETRY_DELAY_SEC`, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 90 —Å); –≤–æ—Ä–∫–µ—Ä –≤—ã–±–∏—Ä–∞–µ—Ç pending-–∑–∞–¥–∞—á–∏ —Ç–æ–ª—å–∫–æ —Å `next_retry_after IS NULL OR next_retry_after < NOW()`. –¢–∞–∫ —Å–Ω–∏–∂–∞–µ—Ç—Å—è —á–∏—Å–ª–æ –∑–∞–¥–∞—á, –ø–æ–ø–∞–¥–∞—é—â–∏—Ö –≤ —Ä—É—á–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –∏–∑‚Äë–∑–∞ —Ç–∞–π–º–∞—É—Ç–æ–≤ –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π. –°–º. CHANGES_FROM_OTHER_CHATS ¬ß0.3k.

**–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (2026-02-04):** **Retry –∏ —ç—Å–∫–∞–ª–∞—Ü–∏—è –≤ –°–æ–≤–µ—Ç –î–∏—Ä–µ–∫—Ç–æ—Ä–æ–≤.** –í—Å–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Å –µ–¥–∏–Ω—ã–º –ª–∏–º–∏—Ç–æ–º –ø–æ–ø—ã—Ç–æ–∫: **MAX_ATTEMPTS=3** (env `SMART_WORKER_MAX_ATTEMPTS`). –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –Ω–µ—É–¥–∞—á–∏ (–æ—à–∏–±–∫–∞ LLM, –ø—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç, –ø—Ä–æ–≤–∞–ª –≤–∞–ª–∏–¥–∞—Ü–∏–∏) —Å—á—ë—Ç—á–∏–∫ –ø–æ–ø—ã—Ç–æ–∫ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è; –∑–∞–¥–∞—á–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ `pending` –∏ —Å–Ω–æ–≤–∞ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –æ—á–µ—Ä–µ–¥—å. –ü–æ—Å–ª–µ –∏—Å—á–µ—Ä–ø–∞–Ω–∏—è 3 –ø–æ–ø—ã—Ç–æ–∫: (1) –ø—Ä–æ–±—É–µ—Ç—Å—è rule_executor; (2) –ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ ‚Äî **—ç—Å–∫–∞–ª–∞—Ü–∏—è –≤ –°–æ–≤–µ—Ç –î–∏—Ä–µ–∫—Ç–æ—Ä–æ–≤** (`strategic_board.consult_board`, source=task_escalation); (3) –∑–∞–¥–∞—á–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `completed`, —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ—à–µ–Ω–∏–µ –°–æ–≤–µ—Ç–∞ (–µ—Å–ª–∏ –ø–æ–ª—É—á–µ–Ω–æ) –∏ –ø–æ–º–µ—Ç–∫—É `board_escalated`, `deferred_to_human`. –ù–µ—É—Å–ø–µ—à–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (task_result_validator) —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø–æ–ø—ã—Ç–∫–æ–π –∏ –≤–µ–¥—ë—Ç –∫ —Ç–æ–π –∂–µ —ç—Å–∫–∞–ª–∞—Ü–∏–∏ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ MAX_ATTEMPTS. –•–µ–ª–ø–µ—Ä `escalate_task_to_board` –≤ `smart_worker_autonomous.py`. –°–º. CHANGES_FROM_OTHER_CHATS ¬ß0.3.

**–¢–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–∞ –∫ LLM (2026-02-04):** –ß—Ç–æ–±—ã —á–∞—Å—Ç—å –∑–∞–¥–∞—á –Ω–µ —É—Ö–æ–¥–∏–ª–∞ –≤ —Ä—É—á–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∏ —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö MLX/Ollama (¬´–Ω–µ –¥–æ–∂–∏–¥–∞–µ–º—Å—è –æ—Ç–≤–µ—Ç–∞¬ª), —Ç–∞–π–º–∞—É—Ç HTTP-–∑–∞–ø—Ä–æ—Å–∞ –∫ —É–∑–ª–∞–º –∑–∞–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ **LOCAL_ROUTER_LLM_TIMEOUT** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é **300** —Å) –≤ local_router –∏ ai_core (Ollama fallback). –í–æ—Ä–∫–µ—Ä (SMART_WORKER_LLM_TIMEOUT=300) –∏ —Ä–æ—É—Ç–µ—Ä –∂–¥—É—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ –¥–æ–ª–≥–æ. –°–º. CHANGES_FROM_OTHER_CHATS ¬ß0.3a, VERIFICATION_CHECKLIST ¬ß3 (–ß–∞—Å—Ç—å –∑–∞–¥–∞—á –Ω–µ –¥–æ–∂–∏–¥–∞–µ—Ç—Å—è –æ—Ç–≤–µ—Ç–∞).

**–ü—Ä–æ–∫—Å–∏ Claude Code ‚Üí Victoria (2026-02-04):** –í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥–æ–±–∞–≤–ª–µ–Ω **proxy/** ‚Äî FastAPI-—Å–µ—Ä–≤–∏—Å, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–π –∑–∞–ø—Ä–æ—Å—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ Anthropic Messages API (`POST /v1/messages`) –∏ –ø–µ—Ä–µ–≤–æ–¥–∏—â–∏–π –∏—Ö –≤ Victoria `POST /run`. –û—Ç–≤–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ Anthropic. Claude Code –ø—Ä–∏ `ANTHROPIC_BASE_URL=http://localhost:8040` (–∏–ª–∏ 185:8040) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä—ã –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏. –ó–∞–ø—É—Å–∫: `VICTORIA_URL=http://localhost:8010 uvicorn proxy.main:app --host 0.0.0.0 --port 8040`. –°–º. proxy/README.md, docs/CLAUDE_CODE_LOCAL_MODELS.md ¬ß4.

**–†–∞–Ω–µ–µ (2026-02-04):** **–ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –∑–∞–¥–∞—á.** –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á `completed` —Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π –∏ –≤—Å–µ—Ö `cancelled` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏: (1) **Nightly Learner** ‚Äî Phase 17 –≤ –∫–∞–∂–¥–æ–º —Ü–∏–∫–ª–µ; (2) **Enhanced Orchestrator** ‚Äî —Ä–∞–∑ –≤ —Å—É—Ç–∫–∏ (–∫–ª—é—á Redis `last_tasks_cleanup`). –†—É—á–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–∞ –¥–∞—à–±–æ—Ä–¥–µ (–∫–Ω–æ–ø–∫–∏ ¬´–û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ¬ª, ¬´–û—á–∏—Å—Ç–∏—Ç—å cancelled¬ª).

**–†–∞–Ω–µ–µ (2026-02-04):** **–î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –∑–∞–¥–∞—á –æ—Ç –æ–±—É—á–µ–Ω–∏—è (Curiosity / –ò–°–°–õ–ï–î–û–í–ê–ù–ò–ï).** –û–¥–Ω–∞ –∏ —Ç–∞ –∂–µ –∑–∞–¥–∞—á–∞ (title + description) –¥–ª—è –æ–¥–Ω–æ–≥–æ —ç–∫—Å–ø–µ—Ä—Ç–∞ –Ω–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è —á–∞—â–µ –æ–¥–Ω–æ–≥–æ —Ä–∞–∑–∞ –∑–∞ 30 –¥–Ω–µ–π. –•–µ–ª–ø–µ—Ä `knowledge_os/app/task_dedup.py`: `same_task_for_expert_in_last_n_days(conn, title, description, assignee_expert_id, days=30)`. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: Enhanced Orchestrator Phase 5 (Curiosity) ‚Äî –ø–µ—Ä–µ–¥ INSERT –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ `get_best_expert_for_domain` –∏ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø–æ —ç–∫—Å–ø–µ—Ä—Ç—É; Streaming Orchestrator `_run_curiosity_engine` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ INSERT –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ assignee. –ü—Ä–∏ –¥—É–±–ª–∏–∫–∞—Ç–µ ‚Äî skip —Å –ª–æ–≥–æ–º. –û—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –∑–∞–¥–∞—á–∞–º, —Å–æ–∑–¥–∞–≤–∞–µ–º—ã–º –∏–∑ –æ–±—É—á–µ–Ω–∏—è (curiosity_engine_starvation). –°–º. CHANGES_FROM_OTHER_CHATS ¬ß0.2, VERIFICATION_CHECKLIST_OPTIMIZATIONS ¬ß3 (–ø—Ä–∏—á–∏–Ω–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤), ¬ß5 (–ø—Ä–∏ —Å–ª–µ–¥—É—é—â–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞), –ø—É–Ω–∫—Ç 37 —á–µ–∫–ª–∏—Å—Ç–∞.

**–†–∞–Ω–µ–µ (2026-02-03):** **–≠–º–±–µ–¥–¥–∏–Ω–≥–∏ 768 –∏ –≤–µ–±-–ø–æ–∏—Å–∫.** (1) –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ 768 (nomic-embed-text): –º–∏–≥—Ä–∞—Ü–∏—è `fix_embedding_dimensions_768.sql`, semantic_cache (EMBEDDING_DIM, –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ save), –¥–∞—à–±–æ—Ä–¥/fallback –∏ scout/tacit_knowledge_miner ‚Äî –≤–µ–∑–¥–µ 768. –£—Å—Ç—Ä–∞–Ω—è–µ—Ç –æ—à–∏–±–∫—É ¬´expected 384 dimensions, not 768¬ª –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ –≤ –∫—ç—à. (2) –ü–∞–∫–µ—Ç `duckduckgo-search` –¥–æ–±–∞–≤–ª–µ–Ω –≤ requirements (knowledge_os –∏ –∫–æ—Ä–µ–Ω—å) –¥–ª—è Veronica/–≤–µ–±-–ø–æ–∏—Å–∫–∞. –°–º. CHANGES_FROM_OTHER_CHATS ¬ß0.1, CHECK_TASKS_IN_PROGRESS_20260203.

**–†–∞–Ω–µ–µ (2026-02-03):** **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–µ–∫—Ç–æ–≤ —Å –¥–∞—à–±–æ—Ä–¥–∞.** –î–æ–±–∞–≤–ª–µ–Ω—ã: `GET /api/projects` (—Å–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤); –≤–∫–ª–∞–¥–∫–∞ –¥–∞—à–±–æ—Ä–¥–∞ ¬´üìÅ –ü—Ä–æ–µ–∫—Ç—ã¬ª; —Ñ–∏–ª—å—Ç—Ä –∑–∞–¥–∞—á –ø–æ project_context; –≤—ã–±–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–¥–∞—á–∏ (–≤—Å–µ —Ñ–æ—Ä–º—ã) –∏ –∑–∞–ø–∏—Å—å –≤ `tasks.project_context`. ¬ß1–± –¥–æ–ø–æ–ª–Ω–µ–Ω. –°–º. CHANGES_FROM_OTHER_CHATS ¬ß0.

**–†–∞–Ω–µ–µ (2026-02-03):** **–ö–æ—Ä–ø–æ—Ä–∞—Ü–∏—è –∫–∞–∫ –º–æ–∑–≥, —Ä–µ–µ—Å—Ç—Ä –ø—Ä–æ–µ–∫—Ç–æ–≤.** –¢–∞–±–ª–∏—Ü–∞ `projects` (–º–∏–≥—Ä–∞—Ü–∏—è add_projects_table.sql), –∑–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–µ—Å—Ç—Ä–∞ –≤ Victoria/Veronica –∏–∑ –ë–î —Å fallback –Ω–∞ env; —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞: —Å–∫—Ä–∏–ø—Ç `scripts/register_project.py` –∏ `POST /api/projects/register`; –∫–æ–ª–æ–Ω–∫–∞ `tasks.project_context` –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏; ¬ß1–∞, ¬ß1–±, ¬ß1–≤ –≤ –±–∏–±–ª–∏–∏, NEW_PROJECT_MINIMAL_STEPS.md, .env.client.example. –°–º. CHANGES_FROM_OTHER_CHATS ¬ß0.

**–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (2026-01-27):** **–ü–ª–∞–Ω –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞—É–¥–∏—Ç (–≤—ã–ø–æ–ª–Ω–µ–Ω–æ).** –ü–æ –ø–ª–∞–Ω–∞–º verification_and_architecture_plan –∏ –∞—É–¥–∏—Ç_–∏_–ø–ª–∞–Ω: –≤ PROJECT_ARCHITECTURE_AND_GUIDE –¥–æ–±–∞–≤–ª–µ–Ω ¬ß10.2 ¬´–ó–∞–¥–∞—á–∏ –∏–∑ –ë–î: tasks ‚Üí –≤–æ—Ä–∫–µ—Ä ‚Üí Ollama/MLX¬ª (–ø–æ—Ç–æ–∫ –æ—Ç –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–æ LocalAIRouter); –≤ CURRENT_STATE_WORKER_AND_LLM ¬ß6 ‚Äî —è–≤–Ω–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ —á–µ–∫–ª–∏—Å—Ç –ø—É–Ω–∫—Ç—ã 14‚Äì19. WORKER_THROUGHPUT —É–∂–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç –ø—É–Ω–∫—Ç—ã 14‚Äì19; Smart Worker –∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ WORKER_THROUGHPUT/OLLAMA_MLX –≤ PROJECT_ARCHITECTURE —É–∂–µ –±—ã–ª–∏. –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è: backend/Victoria/Veronica health 200; —Ç–µ—Å—Ç—ã knowledge_os (json_fast, rest_api, victoria_chat_and_request) ‚Äî 23 passed. –°–º. VERIFICATION_CHECKLIST_OPTIMIZATIONS –ø—É–Ω–∫—Ç—ã 14‚Äì19, 21, 36.

**–ê–Ω–∞–ª–∏–∑ —Å–µ—Å—Å–∏–∏ (2026-01-27): —á—Ç–æ —É–ª—É—á—à–∏–ª–∏, —á—Ç–æ –Ω–µ —É—Ö—É–¥—à–∏–ª–∏.**  
–£–ª—É—á—à–µ–Ω–æ: (1) –°–æ–≤–µ—Ç –î–∏—Ä–µ–∫—Ç–æ—Ä–æ–≤ –≤ —á–∞—Ç–µ ‚Äî —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ–ª—É—á–∞—é—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –∏ –æ—Ç–≤–µ—Ç —á–µ—Ä–µ–∑ Victoria; (2) –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚Äî –ø–æ—Ç–æ–∫ –∑–∞–¥–∞—á (tasks ‚Üí –≤–æ—Ä–∫–µ—Ä ‚Üí LLM) –≤ PROJECT_ARCHITECTURE ¬ß10.2, —è–≤–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ —á–µ–∫–ª–∏—Å—Ç 14‚Äì19 –≤ CURRENT_STATE; (3) —Ç—Ä–∏ –ø–ª–∞–Ω–∞ –∑–∞–∫—Ä—ã—Ç—ã (board_victoria_chat_integration, verification_and_architecture_plan, –∞—É–¥–∏—Ç_–∏_–ø–ª–∞–Ω). –ù–µ —É—Ö—É–¥—à–µ–Ω–æ: —Ç–µ—Å—Ç—ã knowledge_os 23 passed, –ª–∏–Ω—Ç–µ—Ä –±–µ–∑ –æ—à–∏–±–æ–∫ –ø–æ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–º —Ñ–∞–π–ª–∞–º (chat, strategic_classifier, strategic_board, rest_api); fallback –ø—Ä–∏ –æ—à–∏–±–∫–µ board/consult —Å–æ—Ö—Ä–∞–Ω—ë–Ω; –∫–æ–Ω—Ç—Ä–∞–∫—Ç Victoria (goal, project_context) –Ω–µ –º–µ–Ω—è–ª—Å—è. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ (VERIFICATION_CHECKLIST, –ø—Ä–∏—á–∏–Ω—ã —Å–±–æ–µ–≤, ¬´–ø—Ä–∏ —Å–ª–µ–¥—É—é—â–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö¬ª) —É—á—Ç–µ–Ω—ã; –±–∏–±–ª–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞.

**–†–∞–Ω–µ–µ (2026-01-27):** **–°–æ–≤–µ—Ç –î–∏—Ä–µ–∫—Ç–æ—Ä–æ–≤ ‚Äî Victoria ‚Äî –ß–∞—Ç.** –°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã –≤ —á–∞—Ç–µ: –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä (strategic_classifier) ‚Üí –≤—ã–∑–æ–≤ Knowledge OS `POST /api/board/consult` ‚Üí —Ä–µ—à–µ–Ω–∏–µ –°–æ–≤–µ—Ç–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `board_decisions` (session_id, user_id, source=chat) ‚Üí –ø—Ä–æ–º–ø—Ç —Å –±–ª–æ–∫–æ–º [–†–ï–®–ï–ù–ò–ï –°–û–í–ï–¢–ê –î–ò–†–ï–ö–¢–û–†–û–í] –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ Victoria ‚Üí –æ—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –¥–ª—è SSE (stream) –∏ –¥–ª—è POST /api/chat/send. –î–∞—à–±–æ—Ä–¥ (8501): –≤–∫–ª–∞–¥–∫–∞ ¬´–†–µ—à–µ–Ω–∏—è –°–æ–≤–µ—Ç–∞¬ª ‚Äî —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫—É, —Ä–∏—Å–∫—É, correlation_id. –ú–∏–≥—Ä–∞—Ü–∏—è: `knowledge_os/db/migrations/add_board_decisions.sql`. –ü—Ä–∏ –æ—à–∏–±–∫–µ board/consult —á–∞—Ç –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å Victoria –±–µ–∑ —Ä–µ—à–µ–Ω–∏—è (fallback). –°–º. CHANGES_FROM_OTHER_CHATS ¬ß11.

**–†–∞–Ω–µ–µ (2026-02-03):** **Phase 16 Nightly Learner.** –ü—Ä–∏ merge –≤ main –∑–∞ 24—á —Å–æ–∑–¥–∞—ë—Ç—Å—è –∑–∞–¥–∞—á–∞ ¬´–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é¬ª –¥–ª—è Technical Writer (assignee_hint). Living Organism ¬ß8, –ø—Ä–∞–≤–∏–ª–æ –±–∏–±–ª–∏–∏.

**–†–∞–Ω–µ–µ:** Phase 15 –∞–≤—Ç–æ-–ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ. –ü–ª–∞–Ω—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã.

**–†–∞–Ω–µ–µ (2026-02-03):** **Retention traces + —Å—Ç–∞—Ç—É—Å Living Organism.** cleanup_old_traces –≤ CORPORATION_PLANNING_CALENDAR; ¬ß5–∞ ¬´Living Organism / Living Brain: —Å—Ç–∞—Ç—É—Å –ø–ª–∞–Ω–æ–≤¬ª ‚Äî —Ç–∞–±–ª–∏—Ü–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤ –∏ –ø–ª–∞–Ω—ã.

**–†–∞–Ω–µ–µ (2026-02-03):** **correlation_id –≤–æ –≤—Å–µ—Ö —Ç–æ—á–∫–∞—Ö –≤—Ö–æ–¥–∞ Victoria.** Terminal /ask –∏ Editor /autocomplete –ø–µ—Ä–µ–¥–∞—é—Ç correlation_id –≤ VictoriaClient.run(). –ü–æ–ª–Ω–∞—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞: —á–∞—Ç, —Ç–µ—Ä–º–∏–Ω–∞–ª, —Ä–µ–¥–∞–∫—Ç–æ—Ä ‚Üí Victoria.

**–†–∞–Ω–µ–µ (2026-02-03):** **correlation_id –ø–æ —Ü–µ–ø–æ—á–∫–µ —á–∞—Ç ‚Üí Victoria.** Backend –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç correlation_id –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ; VictoriaClient –ø–µ—Ä–µ–¥–∞—ë—Ç –≤ X-Correlation-ID; Victoria —Å–µ—Ä–≤–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–≥–æ –≤ –ª–æ–≥–∞—Ö –∏ –æ—Ç–≤–µ—Ç–∞—Ö. SSE: –ø–µ—Ä–≤—ã–π step —Å–æ–¥–µ—Ä–∂–∏—Ç correlation_id –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏. ARCHITECTURE_IMPROVEMENTS_ANALYSIS ¬ß1.3.

**–†–∞–Ω–µ–µ (2026-02-03):** **Phase 14 Nightly Learner: git diff ‚Üí –∑–∞–¥–∞—á–∏ –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Ç–µ—Å—Ç–æ–≤.** –ê–Ω–∞–ª–∏–∑ git log –∑–∞ 24—á; –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ knowledge_os .py –±–µ–∑ —Ç–µ—Å—Ç–æ–≤ ‚Üí –∑–∞–¥–∞—á–∞ ¬´–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å pytest –¥–ª—è –º–æ–¥—É–ª—è X¬ª (assignee_hint: QA). –õ–∏–º–∏—Ç 3 –∑–∞–¥–∞—á–∏ –∑–∞ —Ü–∏–∫–ª. Living Brain ¬ß6.1.

**–†–∞–Ω–µ–µ (2026-02-03):** **–†–æ–±–∞—Å—Ç–Ω–æ—Å—Ç—å –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –∏ —á–µ–∫–ª–∏—Å—Ç.** Phase 1.5: –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ parent_task_id –≤ —Å—Ö–µ–º–µ ‚Äî skip (try/except), –ª–æ–≥ ¬´Phase 1.5 skipped¬ª. VERIFICATION_CHECKLIST: –ø.27 Tacit Knowledge, –ø.28 –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è; –ø—Ä–∏—á–∏–Ω—ã —Å–±–æ–µ–≤: Tacit Knowledge, parent_task_id.

**–†–∞–Ω–µ–µ (2026-02-03):** **Tacit Knowledge –≤ ai_core: –±–∞–≥ –∏ —É—Å–∏–ª–µ–Ω–∏–µ.** (1) –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –±–∞–≥: is_coding_task –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –¥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è ‚Üí Tacit Knowledge –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–ª. is_coding_task –ø–µ—Ä–µ–Ω–µ—Å—ë–Ω –≤—ã—à–µ –±–ª–æ–∫–∞ Tacit Knowledge. (2) –†–∞—Å—à–∏—Ä–µ–Ω—ã keywords –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è coding-–∑–∞–¥–∞—á: –Ω–∞–ø–∏—à–∏, —Å–æ–∑–¥–∞–π, —Ä–µ–∞–ª–∏–∑—É–π, –¥–æ–±–∞–≤—å, –∏—Å–ø—Ä–∞–≤—å, —Ñ—É–Ω–∫—Ü–∏, –∫–ª–∞—Å—Å, –º–æ–¥—É–ª—å, api, endpoint. (3) ROLE_PROMPT_TEMPLATES: –¥–æ–±–∞–≤–ª–µ–Ω —à–∞–±–ª–æ–Ω –¥–ª—è Prompt Engineer (–ê—Ä–∏–Ω–∞).

**–†–∞–Ω–µ–µ (2026-02-03):** **Code-Smell Predictor: –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.** code_auditor –∏—Å–ø–æ–ª—å–∑—É–µ—Ç CodeSmellPredictor –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–¥–∞—á; enhanced_orchestrator –¥–∞—ë—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∑–∞–¥–∞—á–∞–º —Å source=code_auditor (severity=high ‚Üí +40). Smart Worker –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏—Ö –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ –∑–∞–¥–∞—á–∏. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞.

**–†–∞–Ω–µ–µ (2026-02-03):** **–î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á –∏–∑ –ë–î (Phase 1.5).** Enhanced Orchestrator: –¥–ª—è –∑–∞–¥–∞—á priority=high/urgent –∏–ª–∏ metadata.complex=true –≤—ã–∑—ã–≤–∞–µ—Ç Victoria –¥–ª—è —Ä–∞–∑–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –ø–æ–¥–∑–∞–¥–∞—á–∏; —Å–æ–∑–¥–∞—ë—Ç –∑–∞–ø–∏—Å–∏ –≤ tasks —Å parent_task_id; –Ω–∞–∑–Ω–∞—á–∞–µ—Ç –∫–∞–∂–¥—É—é –ø–æ–¥–∑–∞–¥–∞—á—É —ç–∫—Å–ø–µ—Ä—Ç—É; –ø–æ–º–µ—á–∞–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª metadata.decomposed=true. –õ–∏–º–∏—Ç 3 –∑–∞–¥–∞—á–∏ –∑–∞ —Ü–∏–∫–ª, max 5 –ø–æ–¥–∑–∞–¥–∞—á. –°–º. ORCHESTRATION_IMPROVEMENTS ¬ß3.2.

**–†–∞–Ω–µ–µ (2026-02-03):** **Backend: session_id –∏ chat_history –≤ VictoriaClient.** VictoriaClient.run() –∏ run_stream() –ø—Ä–∏–Ω–∏–º–∞—é—Ç session_id, chat_history; payload –¥–ª—è Victoria POST /run –≤–∫–ª—é—á–∞–µ—Ç –∏—Ö. Chat router (SSE –∏ /send) –ø–µ—Ä–µ–¥–∞—ë—Ç session_id –∏ chat_history_vic (–∏–∑ conversation_context). ConversationContextManager.to_victoria_chat_history() –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç.

**–†–∞–Ω–µ–µ (2026-02-03):** **–§–∞–∑–∞ –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤ –≤ Nightly Learner (Phase 13).** –ó–∞–ø—É—Å–∫ pytest (test_json_fast_http_client, test_rest_api); —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ knowledge_nodes; –ø—Ä–∏ –ø—Ä–æ–≤–∞–ª–µ ‚Äî –∑–∞–¥–∞—á–∞ –¥–ª—è QA. –°–º. CORPORATION_PLANNING_CALENDAR.

**–†–∞–Ω–µ–µ (2026-02-03):** **Session context –≤ Victoria –ø—Ä–∏ session_id.** –ü—Ä–∏ –≤—ã–∑–æ–≤–µ Victoria API —Å session_id –±–µ–∑ chat_history ‚Äî victoria_server –≤—ã–∑—ã–≤–∞–µ—Ç session_context_manager.get_session_context –∏ –ø–æ–¥–º–µ—à–∏–≤–∞–µ—Ç –≤ context["chat_history"]. –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –ø—Ä—è–º—ã—Ö –≤—ã–∑–æ–≤–æ–≤ (—Å–∫—Ä–∏–ø—Ç—ã, Telegram). Backend —É–∂–µ –ø–µ—Ä–µ–¥–∞—ë—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤ goal —á–µ—Ä–µ–∑ context_prefix.

**–†–∞–Ω–µ–µ (2026-02-03):** **–†–µ—Ç—Ä–∏–≤–∞–ª –ø–æ —É—Å–ø–µ—à–Ω—ã–º —Ä–µ—à–µ–Ω–∏—è–º –≤ ai_core.** –í _get_knowledge_context –¥–æ–±–∞–≤–ª–µ–Ω —Ç—Ä–µ—Ç–∏–π –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å: –≤—ã–±–æ—Ä–∫–∞ –∏–∑ knowledge_nodes –≥–¥–µ source_ref='autonomous_worker', confidence_score>=0.8, –ø–æ similarity –∫ –∑–∞–ø—Ä–æ—Å—É (limit 2). –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ [–ü–†–ò–ú–ï–† –£–°–ü–ï–®–ù–û–ì–û –†–ï–®–ï–ù–ò–Ø] –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç ‚Äî –ø–æ—Ö–æ–∂–∏–µ —Ü–µ–ª–∏ –ø–æ–ª—É—á–∞—é—Ç –ø—Ä–∏–º–µ—Ä—ã –≤ –ø—Ä–æ–º–ø—Ç.

**–†–∞–Ω–µ–µ (2026-02-03):** **ReActAgent: —Ä–µ—Ñ–ª–µ–∫—Å–∏—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è request_approval.** (1) –ü—Ä–∏ observation —Å Error/–æ—à–∏–±–∫–∞/—Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–¥–æ–±—Ä–µ–Ω–∏–µ ‚Äî –ø—Ä–æ–º–ø—Ç —Ä–µ—Ñ–ª–µ–∫—Å–∏–∏ —è–≤–Ω–æ –ø—Ä–æ—Å–∏—Ç –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏—á–∏–Ω—É –∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –¥—Ä—É–≥–æ–π –ø–æ–¥—Ö–æ–¥. (2) –ü–µ—Ä–µ–¥ create_file/write_file –ø—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ approval_manager –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è get_hitl().request_approval() ‚Äî —Å–æ–∑–¥–∞—ë—Ç—Å—è –∑–∞–ø—Ä–æ—Å —Å request_id –¥–ª—è –±—É–¥—É—â–µ–≥–æ UI; –∞–≥–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å request_id.

**–†–∞–Ω–µ–µ (2026-02-03):** **Victoria task_plan_struct: —É–ª—É—á—à–µ–Ω–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ JSON.** –í _think_and_create_prompt_for_veronica –¥–æ–±–∞–≤–ª–µ–Ω _try_parse_llm_json: –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ø—ã—Ç–æ–∫ (trailing comma, markdown fences), –º–µ–Ω—å—à–µ –ø–∞–¥–µ–Ω–∏–π –ø—Ä–∏ ¬´–ø–æ—á—Ç–∏-–≤–∞–ª–∏–¥–Ω–æ–º¬ª JSON –æ—Ç LLM ‚Üí —á–∞—â–µ task_plan_struct –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ Victoria. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –±–∞–≥: –ø—Ä–∏ prompt_data=None —Ü–∏–∫–ª –ø–æ subtasks –≤—ã–∑—ã–≤–∞–ª AttributeError ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (prompt_data or {}).get.

**–†–∞–Ω–µ–µ (2026-02-03):** **–ñ–∏–≤–æ–π –º–æ–∑–≥: Prompt Engineer, Self-Check‚Üí–∑–∞–¥–∞—á–∏, –∫–∞–ª–µ–Ω–¥–∞—Ä—å, –±–∏–±–ª–∏—è.** (1) –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ä–æ–ª—å Prompt Engineer (–ê—Ä–∏–Ω–∞) –≤ employees.json; Knowledge Applicator —Å–æ–∑–¥–∞—ë—Ç –∑–∞–¥–∞—á–∏ —Å assignee_hint ¬´Prompt Engineer¬ª. (2) Self-Check –ø—Ä–∏ DEGRADED/UNHEALTHY –±–µ–∑ auto_fix —Å–æ–∑–¥–∞—ë—Ç –∑–∞–¥–∞—á—É –≤ –ë–î (assignee_hint: SRE). (3) –°–æ–∑–¥–∞–Ω CORPORATION_PLANNING_CALENDAR.md ‚Äî –µ–¥–∏–Ω—ã–π –æ–±–∑–æ—Ä –∞–≤—Ç–æ–Ω–æ–º–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤. (4) –£—Ç–æ—á–Ω–µ–Ω–æ: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ —Ü–µ–ø–æ—á–∫–µ –ë–î —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ (task_result_validator –≤ Smart Worker). –°–º. CHANGES_FROM_OTHER_CHATS ¬ß10.

**–†–∞–Ω–µ–µ (2026-02-03):** **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∞–≥–µ–Ω—Ç–∞ –∏ HITL.** –î–æ–±–∞–≤–ª–µ–Ω ¬ß3–∞: —Ä–∞–∑–ª–∏—á–∏–µ Base vs Enhanced –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º (write_file —Ç–æ–ª—å–∫–æ –≤ ReAct); approval_manager (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞) vs request_approval (HITL –Ω–µ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –∞–≥–µ–Ω—Ç–µ); –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –¥–æ—Ä–∞–±–æ—Ç–æ–∫ –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞.

**–†–∞–Ω–µ–µ (2026-02-03):** **–ü—Ä–∞–≤–∏–ª–æ ¬´–±–∏–±–ª–∏—è –ø—Ä–∏ –ª—é–±—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö¬ª.** –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ .cursorrules –∏ ¬ß6 —ç—Ç–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞: (1) –¥–æ –ø—Ä–∞–≤–æ–∫ ‚Äî –∏–∑—É—á–∞—Ç—å –±–∏–±–ª–∏—é; (2) –ø–æ—Å–ª–µ –ø—Ä–∞–≤–æ–∫ ‚Äî —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–¥–µ—Å—å –∏ –≤ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–æ–∫–∞—Ö. –ë–∏–±–ª–∏—è –≤—Å–µ–≥–¥–∞ –∞–∫—Ç—É–∞–ª—å–Ω–∞.

**–†–∞–Ω–µ–µ (2026-02-03):** **–£–∑–ª—ã –∑–Ω–∞–Ω–∏–π –∏ RAG (–ø–æ–ª—å–∑–∞ –æ—Ç –∑–Ω–∞–Ω–∏–π).** –í –ë–î —Ö—Ä–∞–Ω–∏—Ç—Å—è –ø–æ–ª–Ω—ã–π content; —Ä–∞–Ω—å—à–µ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç Victoria –ø–µ—Ä–µ–¥–∞–≤–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ 200 —Å–∏–º–≤–æ–ª–æ–≤ –Ω–∞ —É–∑–µ–ª (¬´—á–∞—Å—Ç–∏—á–∫–∏¬ª). –í–≤–µ–¥–µ–Ω–æ: RAG_SNIPPET_CHARS (500 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), RAG_TOP1_FULL_MAX_CHARS (2000) ‚Äî –¥–ª—è —Ç–æ–ø-1 –ø–æ similarity –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –ø–æ–ª–Ω—ã–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç –¥–æ –ª–∏–º–∏—Ç–∞ (–º–∏—Ä–æ–≤–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞: –æ–¥–∏–Ω –ø–æ–ª–Ω—ã–π —á–∞–Ω–∫ —É–ª—É—á—à–∞–µ—Ç –æ—Ç–≤–µ—Ç). Fallback ILIKE –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç usage_count: ORDER BY confidence_score DESC NULLS LAST, created_at DESC. –ü—Ä–∏ –∑–∞–ø–∏—Å–∏ –≤ knowledge_nodes –ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å embedding (smart_worker —É–∂–µ –ø–∏—à–µ—Ç embedding –¥–ª—è –æ—Ç—á—ë—Ç–æ–≤). –ß–µ–∫–ª–∏—Å—Ç: [VERIFICATION_CHECKLIST_OPTIMIZATIONS.md](VERIFICATION_CHECKLIST_OPTIMIZATIONS.md) ¬ß3 (RAG —á–∞—Å—Ç–∏—á–∫–∏, embedding), ¬ß5 (—É–∑–ª—ã –∑–Ω–∞–Ω–∏–π).

**–†–∞–Ω–µ–µ (2026-02-03):** **MLX API: —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥.** (1) **Metal OOM** ‚Äî –ø—Ä–æ—Ü–µ—Å—Å MLX –ø–∞–¥–∞–µ—Ç –ø—Ä–∏ –Ω–µ—Ö–≤–∞—Ç–∫–µ GPU-–ø–∞–º—è—Ç–∏ (`[METAL] Insufficient Memory`, ¬´Python –∑–∞–≤–µ—Ä—à–∏–ª–∞ —Ä–∞–±–æ—Ç—É¬ª). –†–µ—à–µ–Ω–∏–µ: MLX_MAX_CONCURRENT=1 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ start_mlx_api_server.sh; –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∫—Ä–∞—à–∞—Ö ‚Äî –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç. (2) **InvalidStateError –ø—Ä–∏ —Ç–∞–π–º–∞—É—Ç–µ:** –≤ mlx_api_server –ø–µ—Ä–µ–¥ set_result/set_exception –ø—Ä–æ–≤–µ—Ä–∫–∞ `if not result_future.done()` ‚Äî –∏–Ω–∞—á–µ –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ wait_for –ø–∞–¥–∞–ª–æ. (3) **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ MLX:** scripts/monitor_mlx_api_server.sh –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –∏ GET :11435/health –∫–∞–∂–¥—ã–µ 30 —Å; –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ ‚Äî –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ (–ª–∏–º–∏—Ç 5/—á–∞—Å). –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–¥–∏–Ω —Ä–∞–∑: `bash scripts/setup_system_auto_recovery.sh` ‚Äî —Å–æ–∑–¥–∞—ë—Ç com.atra.mlx-monitor –≤ launchd. –ß–µ–∫–ª–∏—Å—Ç –ø—Ä–∏—á–∏–Ω –∏ —Ä–µ—à–µ–Ω–∏–π: [VERIFICATION_CHECKLIST_OPTIMIZATIONS.md](VERIFICATION_CHECKLIST_OPTIMIZATIONS.md) ¬ß3 (Metal OOM, InvalidStateError), ¬ß5 (MLX).

**–†–∞–Ω–µ–µ (2026-02-03):** –ì–∏–ø–æ—Ç–µ–∑—ã ‚Üí –¥–µ–±–∞—Ç—ã: –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫—Ä–æ—Å—Å-–¥–æ–º–µ–Ω–Ω–æ–π –≥–∏–ø–æ—Ç–µ–∑—ã (Cross-Domain Linker –≤ Enhanced/Streaming/plain Orchestrator) –∏–ª–∏ –≥–∏–ø–æ—Ç–µ–∑—ã Expert Council –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `create_debate_for_hypothesis()` ‚Üí `run_expert_council()` ‚Üí INSERT –≤ `expert_discussions`. Debate Processor (–≤ Nightly Learner) –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–µ–±–∞—Ç—ã –∏ –ø—Ä–∏ consensus_score ‚â• 0.5 —Å–æ–∑–¥–∞—ë—Ç –∑–∞–¥–∞—á–∏. –°–º. [HYPOTHESES_SYSTEM_STATUS.md](mac-studio/HYPOTHESES_SYSTEM_STATUS.md).

**–†–∞–Ω–µ–µ (2026-02-03):** Ollama: –∑–∞–ø—É—Å–∫ –æ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Äî –º–æ–¥–µ–ª–∏ –≤ `~/.ollama/` (per-user). –ï—Å–ª–∏ `brew services start ollama` —Å—Ç–∞—Ä—Ç—É–µ—Ç –æ—Ç nik, –∞ –º–æ–¥–µ–ª–∏ —É bikos ‚Äî —Å–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `models: []`, 404. –†–µ—à–µ–Ω–∏–µ: `brew services stop ollama`, –∑–∞—Ç–µ–º `ollama serve` –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –ø–æ–¥ bikos. –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–∏—á–∏–Ω–∞ —Å–±–æ—è –≤ VERIFICATION_CHECKLIST_OPTIMIZATIONS.md, —Ä–∞–∑–¥–µ–ª 3. Docker ‚Äî –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç atra: Redis –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä **knowledge_os_redis**, –ø–æ—Ä—Ç —Ö–æ—Å—Ç–∞ **6381** (6380 ‚Äî atra). –£–¥–∞–ª–µ–Ω—ã —Å–∏—Ä–æ—Ç—ã knowledge_dashboard, knowledge_os_api (—Ä–æ–ª–∏ —É corporation-dashboard –∏ knowledge_rest). –í —á–µ–∫–ª–∏—Å—Ç–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∏—á–∏–Ω—ã —Å–±–æ–µ–≤ (–∫–æ–Ω—Ñ–ª–∏–∫—Ç Redis/–ø–æ—Ä—Ç) –∏ –ø—É–Ω–∫—Ç ¬´–ü—Ä–∏ —Å–ª–µ–¥—É—é—â–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö¬ª –ø—Ä–æ Docker/Redis. –ü–æ—Ä—Ç 6381 –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω –≤ seed_validation_answers, query_expansion, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ. –í–æ—Ä–∫–µ—Ä: —É–±—Ä–∞–Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ asyncpg –≤ —Ä–∞–Ω—Ç–∞–π–º–µ (12-Factor); –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π ‚Äî —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ setup-—Å–∫—Ä–∏–ø—Ç. –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º –≤–æ—Ä–∫–µ—Ä–∞: SMART_WORKER_ADAPTIVE_CONCURRENCY=true –≤ compose ‚Äî effective_N –ø–æ CPU/RAM –∏ MLX/Ollama (–ø–æ—Ç–æ–ª–æ–∫ SMART_WORKER_MAX_CONCURRENT=15). –ü–æ–¥—Ä–æ–±–Ω–æ: [VERIFICATION_CHECKLIST_OPTIMIZATIONS.md](VERIFICATION_CHECKLIST_OPTIMIZATIONS.md), [CHANGES_FROM_OTHER_CHATS.md](CHANGES_FROM_OTHER_CHATS.md) ¬ß9.1, [PROJECT_ARCHITECTURE_AND_GUIDE.md](PROJECT_ARCHITECTURE_AND_GUIDE.md).

---

## –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è

- **–í–æ–ø—Ä–æ—Å ¬´–∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω–æ?¬ª** ‚Äî —Ä–∞–∑–¥–µ–ª—ã –Ω–∏–∂–µ + —Å—Å—ã–ª–∫–∏ –Ω–∞ –¥–µ—Ç–∞–ª—å–Ω—ã–µ –¥–æ–∫–∏.
- **–í–æ–ø—Ä–æ—Å ¬´–≥–¥–µ –æ–ø–∏—Å–∞–Ω–∏–µ X?¬ª** ‚Äî —Ç–∞–±–ª–∏—Ü–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ –∫–æ–Ω—Ü–µ + –ø–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º.
- **–°–¥–µ–ª–∞–ª–∏ –Ω–æ–≤–æ–µ –∏–ª–∏ –∏–∑–º–µ–Ω–∏–ª–∏ –ø–æ–¥—Ö–æ–¥** ‚Äî –¥–æ–±–∞–≤–∏—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å —Ä–∞–∑–¥–µ–ª –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ —Å–≤—è–∑–∞–Ω–Ω–æ–º –¥–æ–∫–µ (WORKER_THROUGHPUT, ARCHITECTURE_FULL, CURRENT_STATE_WORKER_AND_LLM –∏ —Ç.–¥.).

### –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è —Ä–∞–±–æ—Ç—ã (—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ —Å .cursorrules)

–ü—Ä–∏ –ª—é–±—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö: (1) **–¥–µ–ª–∞—Ç—å –∫–∞–∫ –Ω—É–∂–Ω–æ** –ø–æ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–µ; (2) **—Å–æ–≤–µ—Ç–æ–≤–∞—Ç—å—Å—è —Å–æ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞–º–∏** ‚Äî —Ä–æ–ª–∏ –≤ `.cursor/rules/`, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –≤ VERIFICATION_CHECKLIST_OPTIMIZATIONS, CHANGES_FROM_OTHER_CHATS; (3) **–ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç** ‚Äî —Ç–µ—Å—Ç—ã, —Å—Ü–µ–Ω–∞—Ä–∏–∏, –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å –≤—ã—è–≤–ª–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏; (4) **—Å–≤–µ—Ä—è—Ç—å—Å—è —Å –º–∏—Ä–æ–≤—ã–º–∏ –ø—Ä–∞–∫—Ç–∏–∫–∞–º–∏** (12-Factor, backpressure, adaptive concurrency –∏ —Ç.–¥.); (5) **—É—Å—Ç—Ä–∞–Ω—è—Ç—å –ø—Ä–∏—á–∏–Ω—ã —Å–±–æ–µ–≤**, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ —Å–ª–µ–¥—Å—Ç–≤–∏—è, —É—á–∏—Ç—ã–≤–∞—Ç—å ¬ß5 —á–µ–∫–ª–∏—Å—Ç–∞ ¬´–ü—Ä–∏ —Å–ª–µ–¥—É—é—â–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö¬ª; (6) **—Å–≤–µ—Ä—è—Ç—å—Å—è —Å –±–∏–±–ª–∏–µ–π –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å –µ—ë** ‚Äî –¥–æ –ø—Ä–∞–≤–æ–∫ —á–∏—Ç–∞—Ç—å MASTER_REFERENCE –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã, –ø–æ—Å–ª–µ ‚Äî –¥–æ–ø–æ–ª–Ω—è—Ç—å —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ CHANGES_FROM_OTHER_CHATS –∏ –¥—Ä.

---

## 1. –ü—Ä–æ–µ–∫—Ç –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–∫—Ä–∞—Ç–∫–æ)

| –ß—Ç–æ | –ì–¥–µ –ø–æ–¥—Ä–æ–±–Ω–æ |
|-----|---------------|
| –°—Ç—Ä—É–∫—Ç—É—Ä–∞, –ø–æ—Ä—Ç—ã, –∑–∞–ø—É—Å–∫, API, –º–µ—Ç—Ä–∏–∫–∏ | [PROJECT_ARCHITECTURE_AND_GUIDE.md](PROJECT_ARCHITECTURE_AND_GUIDE.md) |
| –°—Ö–µ–º–∞ Victoria ‚Üí –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä ‚Üí —ç–∫—Å–ø–µ—Ä—Ç—ã ‚Üí Smart Worker ‚Üí Ollama/MLX | [ARCHITECTURE_FULL.md](ARCHITECTURE_FULL.md) |
| –ü—Ä–æ—Ü–µ—Å—Å Victoria –æ—Ç –∑–∞–ø—Ä–æ—Å–∞ –¥–æ –æ—Ç–≤–µ—Ç–∞ | [VICTORIA_PROCESS_FULL.md](VICTORIA_PROCESS_FULL.md) |
| –ö—Ç–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–¥–∞—á—É, –∫—Ç–æ –∫–æ–º—É –¥–æ–∫–ª–∞–¥—ã–≤–∞–µ—Ç | [ARCHITECTURE_FULL.md](ARCHITECTURE_FULL.md), [VERONICA_REAL_ROLE.md](VERONICA_REAL_ROLE.md) |

- **–ü—Ä–æ–µ–∫—Ç:** ATRA Web IDE ‚Äî –±—Ä–∞—É–∑–µ—Ä–Ω–∞—è –æ–±–æ–ª–æ—á–∫–∞ –¥–ª—è –ò–ò-–∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏ Singularity 9.0 (—á–∞—Ç, —Ä–µ–¥–∞–∫—Ç–æ—Ä, —Ñ–∞–π–ª—ã, –ø—Ä–µ–≤—å—é).
- **–¶–µ–ª—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:** —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –∞–≥–µ–Ω—Ç —Å ¬´—Å—É–ø–µ—Ä-–∫–æ–º–∞–Ω–¥–æ–π¬ª ‚Äî –≤—Å—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è –∞–≤—Ç–æ–Ω–æ–º–∏–∏ –≤ –æ–¥–Ω–æ–º –∫–æ–Ω—Ç—É—Ä–µ: Victoria (Team Lead, —Ç—Ä–∏ —É—Ä–æ–≤–Ω—è) + 85 —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –≤ –ë–î + –°–æ–≤–µ—Ç –î–∏—Ä–µ–∫—Ç–æ—Ä–æ–≤ (—Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è) + Veronica (–∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ —à–∞–≥–æ–≤) + Enhanced Orchestrator + Smart Worker (–∑–∞–¥–∞—á–∏ –∏–∑ –ë–î ‚Üí Ollama/MLX) + –¥–∞—à–±–æ—Ä–¥—ã (–∑–∞–¥–∞—á–∏, —ç–∫—Å–ø–µ—Ä—Ç—ã, –†–µ—à–µ–Ω–∏—è –°–æ–≤–µ—Ç–∞, –∫–∞—á–µ—Å—Ç–≤–æ). –ß–∞—Ç, –∑–∞–¥–∞—á–∏, —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—É—é –ë–î –∏ API.
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç:** MAIN_PROJECT=atra-web-ide; –∞–≥–µ–Ω—Ç—ã Victoria –∏ Veronica –æ–±—â–∏–µ –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤; –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ `project_context` –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö.

### 1–∞. –†–µ–µ—Å—Ç—Ä –ø—Ä–æ–µ–∫—Ç–æ–≤ (—Ç–∞–±–ª–∏—Ü–∞ projects)

- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã –¥–ª—è —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏ –∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–º—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω–æ—Å—Ç—å). Victoria –∏ Veronica –∑–∞–≥—Ä—É–∂–∞—é—Ç —Å–ø–∏—Å–æ–∫ –∏ –∫–æ–Ω—Ñ–∏–≥ –∏–∑ –ë–î; –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤ —Ä–µ–µ—Å—Ç—Ä–µ –±–µ–∑ –ø—Ä–∞–≤–æ–∫ –∫–æ–¥–∞ –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏.
- **–°—Ö–µ–º–∞ (–º–∏–≥—Ä–∞—Ü–∏—è `knowledge_os/db/migrations/add_projects_table.sql`):** —Ç–∞–±–ª–∏—Ü–∞ `projects`: `id` (UUID), `slug` (VARCHAR, UNIQUE) ‚Äî –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö (`project_context`), `name`, `description`, `workspace_path`, `is_active` (BOOLEAN, default true), `created_at`, `updated_at`. –°–∏–¥–µ—Ä: –∑–∞–ø–∏—Å–∏ –¥–ª—è `atra-web-ide` –∏ `atra`.
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏:** –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ Knowledge OS REST API (`_ensure_projects_table_migration`) –∏–ª–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ Enhanced Orchestrator (Phase 0.5, –æ–±—â–∏–π –ø—Ä–æ–≥–æ–Ω –º–∏–≥—Ä–∞—Ü–∏–π –∏–∑ `db/migrations/`).

### 1–±. –ö–æ—Ä–ø–æ—Ä–∞—Ü–∏—è –∫–∞–∫ –º–æ–∑–≥ –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

- **–ú–æ–¥–µ–ª—å:** –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏—è (Victoria, Veronica, –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä, —ç–∫—Å–ø–µ—Ä—Ç—ã –≤ –ë–î, –∑–Ω–∞–Ω–∏—è) ‚Äî –µ–¥–∏–Ω—ã–π –æ–±—â–∏–π —Å–ª–æ–π (¬´–º–æ–∑–≥¬ª). –í—Å–µ –ø—Ä–æ–µ–∫—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤ —Å–≤–æ–∏—Ö –∑–æ–Ω–∞—Ö: —Ä–∞–∑–ª–∏—á–∏–µ —Ç–æ–ª—å–∫–æ –ø–æ `project_context` –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö –∏ –≤ –¥–∞–Ω–Ω—ã—Ö (—Ç–∞–±–ª–∏—Ü–∞ `tasks.project_context`). –ü—Ä–æ–µ–∫—Ç—ã –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –∫–æ–¥ –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏; –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ –∏—Ö —Ä–∞–±–æ—Ç–µ —á–µ—Ä–µ–∑ API.
- **–ò–∑–æ–ª—è—Ü–∏—è:** –≤ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ –∫ Victoria/Veronica –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è `project_context`; –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ —Ä–µ–µ—Å—Ç—Ä—É (—Ç–∞–±–ª–∏—Ü–∞ `projects`, is_active=true). –í –ë–î –∑–∞–¥–∞—á–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–æ–º–µ—á–µ–Ω—ã `project_context` –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –≤ –¥–∞—à–±–æ—Ä–¥–∞—Ö –∏ –æ—Ç—á—ë—Ç–∞—Ö.
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å –¥–∞—à–±–æ—Ä–¥–∞:** –≤ –¥–∞—à–±–æ—Ä–¥–µ –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏ (Knowledge OS dashboard): –≤–∫–ª–∞–¥–∫–∞ ¬´üìÅ –ü—Ä–æ–µ–∫—Ç—ã¬ª ‚Äî —Å–ø–∏—Å–æ–∫ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤; –≤–æ –≤–∫–ª–∞–¥–∫–µ ¬´üõ†Ô∏è –ó–∞–¥–∞—á–∏¬ª ‚Äî —Ñ–∏–ª—å—Ç—Ä –ø–æ –ø—Ä–æ–µ–∫—Ç—É –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ project_context –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö; –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–¥–∞—á–∏ (–°–∏–º—É–ª—è—Ç–æ—Ä, –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥, –†–∞–∑–≤–µ–¥–∫–∞, –ü–æ—Å—Ç–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É) ‚Äî –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞, –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∏—à–µ—Ç—Å—è –≤ `tasks.project_context`. API —Å–ø–∏—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤: `GET /api/projects` (Knowledge OS REST API, –ø–æ—Ä—Ç 8002).

### 1–≤. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

1. **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ —Ä–µ–µ—Å—Ç—Ä–µ** ‚Äî –æ–¥–∏–Ω —Ä–∞–∑:
   - –°–∫—Ä–∏–ø—Ç: `python scripts/register_project.py <slug> "<name>" [--description "‚Ä¶"] [--workspace-path /path]` (–∏–∑ –∫–æ—Ä–Ω—è —Ä–µ–ø–æ; —Ç—Ä–µ–±—É–µ—Ç—Å—è `DATABASE_URL`).
   - –ò–ª–∏ API: `POST /api/projects/register` (Knowledge OS REST API, –ø–æ—Ä—Ç 8002), –∑–∞–≥–æ–ª–æ–≤–æ–∫ `X-API-Key`, —Ç–µ–ª–æ: `{"slug": "...", "name": "...", "description": "...", "workspace_path": "..."}`.
2. **–í —Ä–µ–ø–æ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:** –≤ `.env` –∑–∞–¥–∞—Ç—å `VICTORIA_URL`, `KNOWLEDGE_OS_API_URL` (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏), `PROJECT_CONTEXT=<slug>`. –í –∑–∞–ø—Ä–æ—Å–∞—Ö –∫ backend/Victoria –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å `project_context` (—Ç–µ–ª–æ –∏–ª–∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –ø–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É).
3. **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ:** —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å `.cursorrules` –¥–ª—è –ø–æ–¥—Å–∫–∞–∑–æ–∫ Cursor (—Å–º. [knowledge_os/docs/STEP_BY_STEP_NEW_PROJECT_SETUP.md](knowledge_os/docs/STEP_BY_STEP_NEW_PROJECT_SETUP.md)).
4. –ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∞–≥–µ–Ω—Ç—ã, –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä, —ç–∫—Å–ø–µ—Ä—Ç—ã –∏ –∑–Ω–∞–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã –ø—Ä–æ–µ–∫—Ç—É –±–µ–∑ –¥–∞–ª—å–Ω–µ–π—à–∏—Ö –ø—Ä–∞–≤–æ–∫ –≤ –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏. –ü—Ä–∏ –≤–∞—Ä–∏–∞–Ω—Ç–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–µ–µ—Å—Ç—Ä–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ Victoria/Veronica ‚Äî –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∞–≥–µ–Ω—Ç–æ–≤ –ø–æ–¥—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç; –ø—Ä–∏ TTL-–∫—ç—à–µ ‚Äî –ø–æ–¥—Ö–≤–∞—Ç –±–µ–∑ —Ä–µ—Å—Ç–∞—Ä—Ç–∞.

–ö—Ä–∞—Ç–∫–∏–π —á–µ–∫–ª–∏—Å—Ç: [NEW_PROJECT_MINIMAL_STEPS.md](NEW_PROJECT_MINIMAL_STEPS.md). –®–∞–±–ª–æ–Ω .env –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞-–∫–ª–∏–µ–Ω—Ç–∞: [.env.client.example](../.env.client.example).

---

## 2. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –ø–æ—Ä—Ç—ã (—Å–≤–æ–¥–∫–∞)

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ü–æ—Ä—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|------|----------|
| Frontend | 3000 ‚Üí 3002 | Svelte, —á–∞—Ç, —Ä–µ–¥–∞–∫—Ç–æ—Ä. –í docker-compose Web IDE –ø—Ä–æ–±—Ä–æ—à–µ–Ω –Ω–∞ 3002. |
| Backend | 8080 | FastAPI: —á–∞—Ç/stream, plan, RAG, –º–µ—Ç—Ä–∏–∫–∏, A/B. –°–µ–º–∞—Ñ–æ—Ä –Ω–∞ Victoria. |
| Victoria | 8010 | Team Lead, –æ–¥–∏–Ω —Å–µ—Ä–≤–∏—Å, —Ç—Ä–∏ —É—Ä–æ–≤–Ω—è (Agent, Enhanced, Initiative). |
| Veronica | 8011 | Local Developer, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ Victoria. |
| PostgreSQL | 5432 | knowledge_postgres, –ë–î knowledge_os. |
| Redis | 6379 (–≤ —Å–µ—Ç–∏), 6381 (—Ö–æ—Å—Ç) | knowledge_os_redis –∏–∑ Knowledge OS (atra ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç). |
| Prometheus Web IDE | 9091 | –ú–µ—Ç—Ä–∏–∫–∏ backend. |
| Grafana Web IDE | 3002 | –î–∞—à–±–æ—Ä–¥—ã —á–∞—Ç–∞/–±—ç–∫–µ–Ω–¥–∞. |
| Prometheus Knowledge OS | 9092 | –ú–µ—Ç—Ä–∏–∫–∏ Knowledge OS. |
| Grafana Knowledge OS | 3001 | –î–∞—à–±–æ—Ä–¥—ã –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏, –ë–ó, –∞–≥–µ–Ω—Ç–æ–≤. |
| Smart Worker | ‚Äî | –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–¥–∞—á –∏–∑ –ë–î (pending ‚Üí in_progress ‚Üí completed). |
| Ollama | 11434 | LLM –Ω–∞ —Ö–æ—Å—Ç–µ. |
| MLX API | 11435 | LLM –Ω–∞ —Ö–æ—Å—Ç–µ. |
| Corporation Dashboard | 8501 | Streamlit, –∑–∞–¥–∞—á–∏, —ç–∫—Å–ø–µ—Ä—Ç—ã, —Ä–∞–∑–≤–µ–¥–∫–∞, —Å–∏–º—É–ª—è—Ü–∏–∏, **–†–µ—à–µ–Ω–∏—è –°–æ–≤–µ—Ç–∞**. |
| Knowledge REST API | 8002 | knowledge_rest: –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Ç–∞, **POST /api/board/consult** (–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –°–æ–≤–µ—Ç–∞). |

–ü–æ–ª–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∞ –¥–∞—à–±–æ—Ä–¥–æ–≤ –∏ –∞–≥–µ–Ω—Ç–æ–≤: [DASHBOARDS_AND_AGENTS_FULL_PICTURE.md](DASHBOARDS_AND_AGENTS_FULL_PICTURE.md).

---

## 3. –õ–æ–≥–∏–∫–∞: —á–∞—Ç –∏ –∑–∞–¥–∞—á–∏

- **–ß–∞—Ç:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí Frontend (3002) –∏–ª–∏ API ‚Üí Backend (8080) ‚Üí Victoria (8010) POST /run. –û—Ç–≤–µ—Ç SSE –∏–ª–∏ 202 + task_id. **–°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã:** –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º Victoria backend –≤—ã–∑—ã–≤–∞–µ—Ç –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä `is_strategic_question()`; –ø—Ä–∏ True ‚Äî –∑–∞–ø—Ä–æ—Å –≤ Knowledge OS `POST /api/board/consult` (source=chat, session_id, user_id, correlation_id); —Ä–µ—à–µ–Ω–∏–µ –°–æ–≤–µ—Ç–∞ –ø–∏—à–µ—Ç—Å—è –≤ `board_decisions` –∏ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –ø—Ä–æ–º–ø—Ç Victoria –±–ª–æ–∫–æ–º [–†–ï–®–ï–ù–ò–ï –°–û–í–ï–¢–ê –î–ò–†–ï–ö–¢–û–†–û–í]. –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ board/consult —á–∞—Ç –∏–¥—ë—Ç –≤ Victoria –±–µ–∑ —Ä–µ—à–µ–Ω–∏—è (fallback).
- **–ó–∞–¥–∞—á–∏ –≤ –ë–î:** –î–≤–∞ –≤—Ö–æ–¥–∞ ‚Äî (1) –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å/API/–¥–∞—à–±–æ—Ä–¥ —Å–æ–∑–¥–∞—ë—Ç task —Å assignee_expert_id=NULL; (2) Enhanced Orchestrator –Ω–∞–∑–Ω–∞—á–∞–µ—Ç —ç–∫—Å–ø–µ—Ä—Ç–∞. Smart Worker –±–µ—Ä—ë—Ç pending –ø–æ assignee_expert_id, –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –≤ in_progress, heartbeat –∫–∞–∂–¥—ã–µ 15 —Å–µ–∫, –≤—ã–∑—ã–≤–∞–µ—Ç ai_core.run_smart_agent_async; –ø–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ ‚Äî **task_result_validator** –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç; –ø—Ä–∏ –ø—Ä–æ–≤–∞–ª–µ (score < 0.5) –∑–∞–¥–∞—á–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ pending; –ø—Ä–∏ —É—Å–ø–µ—Ö–µ ‚Äî completed. –ó–∞–≤–∏—Å—à–∏–µ (updated_at —Å—Ç–∞—Ä—à–µ SMART_WORKER_STUCK_MINUTES) —Å–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è –≤ pending.
- **–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** Victoria –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ Veronica —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ç—ã–µ —à–∞–≥–∏ –∏–ª–∏ –æ–¥–Ω–æ –¥–µ–π—Å—Ç–≤–∏–µ; —Ü–µ–ª—ã–µ –∑–∞–¥–∞—á–∏ —Ä–µ—à–∞—é—Ç Victoria + —ç–∫—Å–ø–µ—Ä—Ç—ã –∏–∑ –ë–î (85). PREFER_EXPERTS_FIRST=true: (1) task_detector ‚Äî ¬´—Å–¥–µ–ª–∞–π/–Ω–∞–ø–∏—à–∏ –∫–æ–¥¬ª ‚Üí enhanced; (2) victoria_enhanced._should_delegate_task ‚Äî –≤ Veronica —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ç—ã–µ –æ–¥–Ω–æ—à–∞–≥–æ–≤—ã–µ (_is_simple_veronica_request). –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è: –ø—É–Ω–∫—Ç 20 —á–µ–∫–ª–∏—Å—Ç–∞, —Ç–µ—Å—Ç—ã TestPreferExpertsFirstDelegation.
- **–ì–∏–ø–æ—Ç–µ–∑—ã ‚Üí –¥–µ–±–∞—Ç—ã:** –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –≥–∏–ø–æ—Ç–µ–∑—ã (Cross-Domain Linker, Expert Council) –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `create_debate_for_hypothesis()` ‚Üí `run_expert_council()` ‚Üí INSERT –≤ `expert_discussions`. Nightly Learner –≤—ã–∑—ã–≤–∞–µ—Ç Debate Processor, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏ consensus_score ‚â• 0.5 —Å–æ–∑–¥–∞—ë—Ç –∑–∞–¥–∞—á–∏. –ó–Ω–∞–Ω–∏—è –∏–∑ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –∑–∞–¥–∞—á –ø–∏—à—É—Ç—Å—è –≤ `knowledge_nodes` —Å embedding –¥–ª—è RAG.
- **–£–∑–ª—ã –∑–Ω–∞–Ω–∏–π (knowledge_nodes) –∏ RAG:** –í –ë–î —Ö—Ä–∞–Ω–∏—Ç—Å—è **–ø–æ–ª–Ω—ã–π** content (–æ—Ç—á—ë—Ç—ã, –∏–Ω—Å–∞–π—Ç—ã). –ü–æ–∏—Å–∫: –≤–µ–∫—Ç–æ—Ä–Ω—ã–π (–ø–æ embedding) –∏ —Ç–µ–∫—Å—Ç–æ–≤—ã–π (ILIKE). –í –∫–æ–Ω—Ç–µ–∫—Å—Ç Victoria –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —Å–Ω–∏–ø–ø–µ—Ç –Ω–∞ —É–∑–µ–ª (RAG_SNIPPET_CHARS, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 500) –∏ –¥–ª—è **—Ç–æ–ø-1** –ø–æ similarity ‚Äî –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –¥–æ RAG_TOP1_FULL_MAX_CHARS (2000). –≠–º–±–µ–¥–¥–∏–Ω–≥–∏ –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ —É —á–∞—Å—Ç–∏ —É–∑–ª–æ–≤ ‚Äî —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –Ω–∏–º; –æ—Å—Ç–∞–ª—å–Ω—ã–µ —É—á–∞—Å—Ç–≤—É—é—Ç –≤ ILIKE. –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –∑–∞–ø–∏—Å–µ–π –≤ knowledge_nodes –ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å embedding. **–†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤:** –≤–µ–∑–¥–µ **768** (nomic-embed-text); —Ç–∞–±–ª–∏—Ü—ã semantic_ai_cache, embedding_cache, knowledge_nodes ‚Äî vector(768). –ú–∏–≥—Ä–∞—Ü–∏—è `fix_embedding_dimensions_768.sql` –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫–æ–ª–æ–Ω–∫–∏ –∫ 768. –î–∞—à–±–æ—Ä–¥/—Å–ø–∏—Å–∫–∏: –≤ SELECT –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å LEFT(content, N). –°–º. [VERIFICATION_CHECKLIST_OPTIMIZATIONS.md](VERIFICATION_CHECKLIST_OPTIMIZATIONS.md) ¬ß3, ¬ß5.

–î–µ—Ç–∞–ª–∏: [ARCHITECTURE_FULL.md](ARCHITECTURE_FULL.md), [CHAT_ORCHESTRATOR_FLOW.md](CHAT_ORCHESTRATOR_FLOW.md), [CURRENT_STATE_WORKER_AND_LLM.md](CURRENT_STATE_WORKER_AND_LLM.md), [HYPOTHESES_SYSTEM_STATUS.md](mac-studio/HYPOTHESES_SYSTEM_STATUS.md).

### 3–∞. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∞–≥–µ–Ω—Ç–∞ –∏ Human-in-the-Loop

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø–æ –ø—É—Ç—è–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**
- **Victoria Base / Executor** (`src/agents/core/executor.py`, victoria_server): —Ç–æ–ª—å–∫–æ `read_file`, `list_directory`, `run_terminal_cmd`, `ssh_run`, `finish` ‚Äî **write_file –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç**
- **Victoria Enhanced + ReAct** (`knowledge_os/app/react_agent.py`): –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä, –≤–∫–ª—é—á–∞—è `create_file`, `write_file`, `search_knowledge`

**–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π:**
- **approval_manager** ‚Äî –ø—Ä–∏ `AGENT_APPROVAL_REQUIRED=true` –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø–∏—Å—å –≤ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ —Ñ–∞–π–ª—ã (package.json, .env, Dockerfile). –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∞–≥–µ–Ω—Ç—É –æ—à–∏–±–∫—É. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ ReActAgent.
- **human_in_the_loop.request_approval** ‚Äî –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π HITL (–æ–∂–∏–¥–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è). –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ `human_in_the_loop.py`, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ AdaptiveAgent; **–Ω–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ ReActAgent / –æ—Å–Ω–æ–≤–Ω–æ–π –∞–≥–µ–Ω—Ç—Å–∫–∏–π —Ü–∏–∫–ª**

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –¥–æ—Ä–∞–±–æ—Ç–æ–∫ –¥–ª—è ¬´–ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ¬ª –∞–≥–µ–Ω—Ç–∞:** (1) –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è `request_approval` –≤ ReActAgent –ø–µ—Ä–µ–¥ `create_file`/`write_file` –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π; (2) –î–æ–±–∞–≤–∏—Ç—å `write_file` –≤ Victoria Base –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏; (3) –†–µ—Ñ–ª–µ–∫—Å–∏—è –∏ –ø–µ—Ä–µ–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –æ—à–∏–±–∫–∞—Ö; (4) –ü–µ—Å–æ—á–Ω–∏—Ü–∞/–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è `run_terminal_cmd`. –ü–æ–¥—Ä–æ–±–Ω–æ: –ø–ª–∞–Ω—ã Living Organism, Living Brain –≤ .cursor/plans.

### 3–±. –°–æ–≤–µ—Ç –î–∏—Ä–µ–∫—Ç–æ—Ä–æ–≤ –∏ —á–∞—Ç (2026-01-27)

- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ø–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–º –≤–æ–ø—Ä–æ—Å–∞–º (–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã, —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥, —Å—Ä–æ–∫–∏, –∫–∞—á–µ—Å—Ç–≤–æ vs —Å–∫–æ—Ä–æ—Å—Ç—å –∏ —Ç.–¥.) —á–∞—Ç –∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä—É–µ—Ç—Å—è —Å ¬´–°–æ–≤–µ—Ç–æ–º –î–∏—Ä–µ–∫—Ç–æ—Ä–æ–≤¬ª (LLM –ø–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É OKR/–∑–∞–¥–∞—á/–∑–Ω–∞–Ω–∏–π), –ø–æ–ª—É—á–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –∏ –ø–µ—Ä–µ–¥–∞—ë—Ç –µ–≥–æ Victoria –¥–ª—è —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.
- **–ü–æ—Ç–æ–∫:** (1) –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä `backend/app/services/strategic_classifier.py` ‚Äî `is_strategic_question(content)` (—ç–≤—Ä–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º); (2) –ø—Ä–∏ True backend –≤—ã–∑—ã–≤–∞–µ—Ç Knowledge OS `POST /api/board/consult` (—Ç–µ–ª–æ: question, session_id, user_id, correlation_id, source=chat); (3) `knowledge_os/app/strategic_board.py` ‚Äî `consult_board()` —Å–æ–±–∏—Ä–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç (OKR, tasks, –ø–æ—Å–ª–µ–¥–Ω—è—è –¥–∏—Ä–µ–∫—Ç–∏–≤–∞), –≤—ã–∑—ã–≤–∞–µ—Ç LLM (ai_core.run_smart_agent_async), –ø–∞—Ä—Å–∏—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É (decision, rationale, risks, confidence, recommend_human_review), –ø–∏—à–µ—Ç –≤ —Ç–∞–±–ª–∏—Ü—É `board_decisions` (–º–∏–≥—Ä–∞—Ü–∏—è `add_board_decisions.sql`); (4) –æ—Ç–≤–µ—Ç API (directive_text, structured_decision, risk_level, recommend_human_review) –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤ –ø—Ä–æ–º–ø—Ç Victoria –±–ª–æ–∫–æ–º [–†–ï–®–ï–ù–ò–ï –°–û–í–ï–¢–ê –î–ò–†–ï–ö–¢–û–†–û–í]; (5) Victoria —Ñ–æ—Ä–º—É–ª–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é; –ø—Ä–∏ recommend_human_review –≤ –æ—Ç–≤–µ—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ.
- **–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å:** –ø—Ä–∏ –æ—à–∏–±–∫–µ –∏–ª–∏ —Ç–∞–π–º–∞—É—Ç–µ board/consult —á–∞—Ç –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Å –æ–±—ã—á–Ω—ã–º –≤—ã–∑–æ–≤–æ–º Victoria (–±–µ–∑ –±–ª–æ–∫–∞ —Ä–µ—à–µ–Ω–∏—è). API board/consult –∑–∞—â–∏—â—ë–Ω X-API-Key (—Ç–æ—Ç –∂–µ API_KEY, —á—Ç–æ –¥–ª—è log_interaction).
- **–î–∞—à–±–æ—Ä–¥:** Corporation Dashboard (8501), –≤–∫–ª–∞–¥–∫–∞ ¬´–†–µ—à–µ–Ω–∏—è –°–æ–≤–µ—Ç–∞¬ª ‚Äî —Å–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Å–µ–π –∏–∑ `board_decisions` —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫—É (chat/api/nightly/dashboard), —É—Ä–æ–≤–Ω—é —Ä–∏—Å–∫–∞, correlation_id (–æ—Ç–ª–∞–¥–∫–∞). –ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –¥–∏—Ä–µ–∫—Ç–∏–≤—ã –∏ structured_decision –≤ —Ä–∞—Å–∫—Ä—ã–≤–∞—é—â–∏—Ö—Å—è –±–ª–æ–∫–∞—Ö.
- **–ü–æ–ª–Ω–æ–µ –∑–∞—Å–µ–¥–∞–Ω–∏–µ –°–æ–≤–µ—Ç–∞:** `run_board_meeting()` (nightly –∏–ª–∏ –≤—Ä—É—á–Ω—É—é) ‚Äî –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –∑–∞ 24—á, –¥–∏—Ä–µ–∫—Ç–∏–≤–∞ –ø–∏—à–µ—Ç—Å—è –≤ `board_decisions` (source=nightly), `knowledge_nodes` (type=board_directive), `expert_discussions`.

---

## 4. –í–æ—Ä–∫–µ—Ä –∏ LLM (—Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)

- **–ö—Ç–æ –Ω–∞–∑–Ω–∞—á–∞–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫ (MLX/Ollama):** **–û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä** –ø—Ä–∏ assign_task_to_best_expert –ø–∏—à–µ—Ç `metadata.preferred_source` –ø–æ –æ—Ç–¥–µ–ª—É —ç–∫—Å–ø–µ—Ä—Ç–∞ (ML/Backend/R&D/Performance/Trading/Quant ‚Üí mlx; –æ—Å—Ç–∞–ª—å–Ω—ã–µ ‚Üí ollama). **–í–æ—Ä–∫–µ—Ä** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç preferred_source –∏–∑ metadata; –µ—Å–ª–∏ –Ω–µ—Ç ‚Äî fallback –ø–æ intelligent_model_router (—Å–ª–æ–∂–Ω–æ—Å—Ç—å). –ù–µ ¬´–Ω–∞ –±—É–º¬ª ‚Äî –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä —Ä–µ—à–∞–µ—Ç.
- **–ú–æ–¥–µ–ª—å:** –∏–∑ —Å–∫–∞–Ω–µ—Ä–∞ (`available_models_scanner`) –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞–¥–∞—á–∏; –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –∑–∞–¥–∞—Ç—å preferred_model –≤ metadata.
- **–ë–ª–æ–∫–∏ –ø–æ –º–æ–¥–µ–ª–∏:** –≤–æ—Ä–∫–µ—Ä –≥—Ä—É–ø–ø–∏—Ä—É–µ—Ç –∑–∞–¥–∞—á–∏ –ø–æ **(preferred_source, preferred_model)**. –ú–æ–¥–µ–ª—å –±–µ—Ä—ë—Ç—Å—è –∏–∑ —Å–∫–∞–Ω–µ—Ä–∞; –µ—Å–ª–∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä —Ä–µ—à–∏–ª —Ç—è–∂—ë–ª—É—é ‚Äî –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã —Å–∫–∞–Ω–µ—Ä–∞ —ç—Ç–æ —É—á–∏—Ç—ã–≤–∞—é—Ç. –ó–∞–¥–∞—á–∏ –∏–¥—É—Ç –≤ —Ä–∞–±–æ—Ç—É –±–ª–æ–∫–∞–º–∏.
- **–†–µ–∂–∏–º –æ–±—Ä–∞–±–æ—Ç–∫–∏:** –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é **—á–µ—Ä–µ–¥–æ–≤–∞–Ω–∏–µ –±–ª–æ–∫–æ–≤** (SMART_WORKER_INTERLEAVE_BLOCKS=true) ‚Äî MLX –∏ Ollama —Ä–∞–±–æ—Ç–∞—é—Ç **–æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ** (round-robin). –ü—Ä–∏ **SMART_WORKER_INTERLEAVE_BLOCKS=false** ‚Äî —Å–Ω–∞—á–∞–ª–∞ –≤–µ—Å—å –±–ª–æ–∫ 1 (–æ–¥–Ω–∞ –º–æ–¥–µ–ª—å), –ø–æ—Ç–æ–º –±–ª–æ–∫ 2. **–í–∞–∂–Ω–æ:** –ø—Ä–∏ —Å–º–µ–Ω–µ –º–æ–¥–µ–ª–∏ –Ω–∞ Ollama/MLX –Ω—É–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å **–≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–∏** (30‚Äì90 —Å–µ–∫ –¥–ª—è —Ç—è–∂—ë–ª—ã—Ö) –∏ **–∑–∞–ø–∞—Å –Ω–∞ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ**; –∏–Ω–∞—á–µ –∑–∞–ø—Ä–æ—Å—ã —É—Ö–æ–¥—è—Ç –¥–æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –º–æ–¥–µ–ª–∏ ‚Üí —Ç–∞–π–º–∞—É—Ç—ã –∏ –∑–∞–≤–∏—Å–∞–Ω–∏—è. –°–º. —Ä–∞–∑–¥–µ–ª 3 —á–µ–∫–ª–∏—Å—Ç–∞: ¬´–ó–∞–≤–∏—Å–∞–Ω–∏–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –º–æ–¥–µ–ª–∏¬ª.
- **–í–æ—Ä–∫–µ—Ä:** run_in_executor –¥–ª—è file_context_enricher; –ø—É–ª –ë–î max(15, SMART_WORKER_MAX_CONCURRENT+8); STUCK_MINUTES=15; —Å–µ–º–∞—Ñ–æ—Ä –≤–º–µ—Å—Ç–æ –æ–∂–∏–¥–∞–Ω–∏—è –±–∞—Ç—á–∞; –±–∞—Ç—á–∏ –ø–æ (source, model) —Å –∫—ç—à–µ–º —Å–∫–∞–Ω–µ—Ä–∞ 120 —Å–µ–∫.
- **–ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º –≤–æ—Ä–∫–µ—Ä–∞ (—Å–∫–æ–ª—å–∫–æ –∑–∞–¥–∞—á ¬´–≤ —Ä–∞–±–æ—Ç–µ¬ª –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ):** –ø—Ä–∏ **SMART_WORKER_ADAPTIVE_CONCURRENCY=false** ‚Äî —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π **SMART_WORKER_MAX_CONCURRENT** (–≤ compose –∑–∞–¥–∞–Ω–æ 15). –ü—Ä–∏ **SMART_WORKER_ADAPTIVE_CONCURRENCY=true** –≤–æ—Ä–∫–µ—Ä —Å—á–∏—Ç–∞–µ—Ç **effective_N** –ø–æ CPU/–ø–∞–º—è—Ç–∏ —Ö–æ—Å—Ç–∞ –∏ –∑–∞–≥—Ä—É–∑–∫–µ MLX/Ollama (–º–æ–¥—É–ª—å adaptive_concurrency, –∫—ç—à 15 —Å–µ–∫); —Å–µ–º–∞—Ñ–æ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç min(effective_N, MAX_CONCURRENT). –ü–æ–¥—Ä–æ–±–Ω–æ: [ADAPTIVE_WORKER_CONCURRENCY_PLAN.md](ADAPTIVE_WORKER_CONCURRENCY_PLAN.md), [CURRENT_STATE_WORKER_AND_LLM.md](CURRENT_STATE_WORKER_AND_LLM.md).
- **Ollama/MLX:** URL –∏–∑ env (OLLAMA_API_URL, MLX_API_URL); –≤ Docker fallback host.docker.internal. –ó–∞—â–∏—Ç–∞ –æ—Ç —ç—Ö–æ: _is_echo_response (–ø–æ–ª–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –∏–ª–∏ –∫–æ—Ä–æ—Ç–∫–∏–π –æ—Ç–≤–µ—Ç ‚â•50 —Å–∏–º–≤–æ–ª–æ–≤ –∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –Ω–∞—á–∞–ª–∞); –ø—Ä–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–∏ ‚Äî —Å–ª–µ–¥—É—é—â–∏–π —É–∑–µ–ª –∏–ª–∏ None. **Ollama:** –º–æ–¥–µ–ª–∏ –≤ `~/.ollama/` (per-user); –∑–∞–ø—É—Å–∫ `ollama serve` ‚Äî –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —É –∫–æ—Ç–æ—Ä–æ–≥–æ –µ—Å—Ç—å –º–æ–¥–µ–ª–∏ (–∏–Ω–∞—á–µ `models: []`); `brew services stop ollama` + `ollama serve` –µ—Å–ª–∏ —Å–µ—Ä–≤–∏—Å –±—ã–ª –æ—Ç –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- **–û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤ Ollama –∏ MLX:** –¥–∞. –ó–∞–¥–∞—á–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ø–æ –±–ª–æ–∫–∞–º (–∏—Å—Ç–æ—á–Ω–∏–∫ + –º–æ–¥–µ–ª—å), –Ω–µ –ø–æ ¬´–ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è–º¬ª; —á–µ—Ä–µ–¥–æ–≤–∞–Ω–∏–µ –±–ª–æ–∫–æ–≤ –¥–∞—ë—Ç –∑–∞–≥—Ä—É–∑–∫—É –æ–±–æ–∏—Ö –±—ç–∫–µ–Ω–¥–æ–≤ —Å —Å–∞–º–æ–≥–æ –Ω–∞—á–∞–ª–∞. LocalAIRouter –¥–µ—Ä–∂–∏—Ç –æ–±–∞ —É–∑–ª–∞ (MLX 11435, Ollama 11434). **–û–¥–Ω–∞ –∑–∞–¥–∞—á–∞** ‚Üí –æ–¥–∏–Ω –±—ç–∫–µ–Ω–¥ (—Ç–æ—Ç, —á—Ç–æ –Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –±–ª–æ–∫–∞). **–ú–Ω–æ–≥–æ –∑–∞–¥–∞—á** ‚Üí –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –ø–æ —Å–µ–º–∞—Ñ–æ—Ä—É, –ø—Ä–∏ —á–µ—Ä–µ–¥–æ–≤–∞–Ω–∏–∏ ‚Äî –∏ —Ç–∞–º –∏ —Ç–∞–º –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–¥—ë—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.
- **LocalAIRouter:** ML-–º–æ–¥–µ–ª—å –∫—ç—à–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–ª–∞—Å—Å–∞ (–æ–¥–∏–Ω —Ä–∞–∑ –Ω–∞ –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤).

–ü–æ–¥—Ä–æ–±–Ω–æ: [WORKER_THROUGHPUT_AND_STUCK_TASKS.md](WORKER_THROUGHPUT_AND_STUCK_TASKS.md), [OLLAMA_MLX_CONNECTION_AND_ECHO.md](OLLAMA_MLX_CONNECTION_AND_ECHO.md), [CURRENT_STATE_WORKER_AND_LLM.md](CURRENT_STATE_WORKER_AND_LLM.md).

---

## 5. –ê–≤—Ç–æ–º–∞—Ç–∏–∫–∞ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

- **system_auto_recovery.sh** (launchd, –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω): Wi‚ÄëFi, –∏–Ω—Ç–µ—Ä–Ω–µ—Ç, Docker, atra-network, Knowledge OS docker-compose up -d, Web IDE docker-compose up -d, MLX (11435), Ollama (11434), –ø—Ä–æ–≤–µ—Ä–∫–∞ Victoria (:8010/status), Veronica (:8011), —Å–≤–æ–¥–∫–∞.
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ MLX API Server (–º–∏—Ä–æ–≤—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏: health check + –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫):** `scripts/monitor_mlx_api_server.sh` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏ GET :11435/health –∫–∞–∂–¥—ã–µ 30 —Å; –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ (Metal OOM, –∫—Ä–∞—à) –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ health ‚Äî –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ start_mlx_api_server.sh (–ª–∏–º–∏—Ç 5 –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–≤/—á–∞—Å). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è /health (–ª–µ–≥—á–µ /api/tags); / , /health, /api/tags –Ω–µ –∑–∞–Ω–∏–º–∞—é—Ç —Å–ª–æ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ ‚Äî –æ—Ç–≤–µ—á–∞—é—Ç —Å—Ä–∞–∑—É. **–¢–∞–π–º–∞—É—Ç—ã –ø–æ –º–æ–¥–µ–ª—è–º:** –∑–∞–≥—Ä—É–∑–∫–∞ + –∏–Ω—Ñ–µ—Ä–µ–Ω—Å (—Å–µ–∫/1k —Ç–æ–∫–µ–Ω–æ–≤) + –∑–∞–ø–∞—Å –∑–∞–¥–∞–Ω—ã –≤ MODEL_TIME_ESTIMATES; —Ç–∞–π–º–∞—É—Ç –æ–∂–∏–¥–∞–Ω–∏—è —Å–ª–æ—Ç–∞ ‚Äî MLX_QUEUE_WAIT_TIMEOUT –∏–ª–∏ –º–∞–∫—Å –ø–æ –º–æ–¥–µ–ª—è–º; –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –æ—á–µ—Ä–µ–¥—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç get_model_timeout_estimate. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `bash scripts/setup_system_auto_recovery.sh` ‚Äî —Å–æ–∑–¥–∞—ë—Ç—Å—è launchd-–∞–≥–µ–Ω—Ç com.atra.mlx-monitor. –õ–æ–≥–∏: ~/Library/Logs/atra-mlx-monitor.log. –ü—Ä–∏—á–∏–Ω—ã –ø–∞–¥–µ–Ω–∏–π MLX –∏ —Ä–µ—à–µ–Ω–∏—è: [VERIFICATION_CHECKLIST_OPTIMIZATIONS.md](VERIFICATION_CHECKLIST_OPTIMIZATIONS.md) ¬ß3 (Metal OOM, InvalidStateError). –°–º. CHANGES ¬ß0.3m.
- **check_and_start_containers.sh:** —Ä—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤; –ø—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–Ω—ã—Ö Enhanced/Initiative ‚Äî –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ victoria-agent.
- **–ö–∞–ª–µ–Ω–¥–∞—Ä—å –∞–≤—Ç–æ–Ω–æ–º–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤:** [CORPORATION_PLANNING_CALENDAR.md](CORPORATION_PLANNING_CALENDAR.md) ‚Äî —á—Ç–æ –∫–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –∫—É–¥–∞ –ø–∏—à–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞: `bash scripts/setup_system_auto_recovery.sh` (–æ–¥–∏–Ω —Ä–∞–∑ –ø–æ—Å–ª–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏–ª–∏ —Å–º–µ–Ω—ã –º–∞—à–∏–Ω—ã).
- **Retention environmental_traces:** `knowledge_os/scripts/cleanup_old_traces.py` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ —Å–ª–µ–¥–æ–≤ —Å—Ç–∞—Ä—à–µ TRACES_RETENTION_DAYS (90). Cron: —Ä–∞–∑ –≤ —Å—É—Ç–∫–∏. –°–º. CORPORATION_PLANNING_CALENDAR.

### 5–∞. Living Organism / Living Brain: —Å—Ç–∞—Ç—É—Å –ø–ª–∞–Ω–æ–≤ (2026-02-03)

| –ü–ª–∞–Ω | –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | –ì–¥–µ |
|------|-------------|-----|
| –ë–∏–±–ª–∏—è, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, HITL | ‚úÖ | ¬ß3–∞, .cursorrules |
| Prompt Engineer (–ê—Ä–∏–Ω–∞) | ‚úÖ | employees.json, ROLE_PROMPT_TEMPLATES |
| Self-Check ‚Üí –∑–∞–¥–∞—á–∏ | ‚úÖ | self_check_system._create_recovery_task |
| CORPORATION_PLANNING_CALENDAR | ‚úÖ | docs/CORPORATION_PLANNING_CALENDAR.md |
| Victoria task_plan_struct | ‚úÖ | victoria_enhanced._try_parse_llm_json |
| –î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á | ‚úÖ | enhanced_orchestrator Phase 1.5 |
| –†–µ—Ñ–ª–µ–∫—Å–∏—è + request_approval | ‚úÖ | react_agent |
| –†–µ—Ç—Ä–∏–≤–∞–ª —É—Å–ø–µ—à–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π | ‚úÖ | ai_core._get_knowledge_context |
| session_context –≤ Victoria | ‚úÖ | victoria_server, VictoriaClient |
| –ê–≤—Ç–æ—Ç–µ—Å—Ç—ã (Phase 13) | ‚úÖ | nightly_learner |
| Test Generation (Phase 14) | ‚úÖ | nightly_learner, git diff |
| correlation_id –≤–µ–∑–¥–µ | ‚úÖ | chat, terminal, editor ‚Üí Victoria |
| Tacit Knowledge –±–∞–≥-—Ñ–∏–∫—Å | ‚úÖ | ai_core is_coding_task |
| Code-Smell, ROLE_PROMPT | ‚úÖ | sync_employees, code_auditor |
| AUTO_PROFILING_GUIDE | ‚úÖ | docs/AUTO_PROFILING_GUIDE.md |
| Retention traces | ‚úÖ | cleanup_old_traces.py, CORPORATION_PLANNING_CALENDAR |

| Phase 15 –∞–≤—Ç–æ-–ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ | ‚úÖ | nightly_learner (–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ), cProfile ‚Üí knowledge_nodes |
| Dashboard auto-apply (safe) | ‚úÖ | dashboard_daily_improver, AUTO_APPLY_DASHBOARD=true, max_entries –ø–∞—Ç—á |
| Predictive Monitor | ‚úÖ | predictive_monitor.py, –≤–Ω—É—Ç—Ä–∏ Self-Check; —Ç—Ä–µ–Ω–¥—ã stuck/pending ‚Üí –∑–∞–¥–∞—á–∏ |
| SSE progress events | ‚úÖ | backend chat: type=progress { step, total, status } |
| –ë–∞—Ç—á–∏–Ω–≥ –º–µ–ª–∫–∏—Ö –∑–∞–¥–∞—á | ‚úÖ | enhanced_orchestrator Phase 1.6, BATCH_SMALL_TASKS_ENABLED, batch_group –≤ metadata |
| Smart Worker batch LLM | ‚úÖ | SMART_WORKER_BATCH_GROUP_LLM=true, –æ–¥–∏–Ω –≤—ã–∑–æ–≤ LLM –Ω–∞ batch_group (2‚Äì3 –∑–∞–¥–∞—á–∏) |
| Doc sync task (Phase 16) | ‚úÖ | nightly_learner: –ø—Ä–∏ merge –≤ main –∑–∞ 24—á ‚Üí –∑–∞–¥–∞—á–∞ –¥–ª—è Technical Writer |

**–í –ø–ª–∞–Ω–∞—Ö:** (–ø—É—Å—Ç–æ ‚Äî –≤—Å–µ –ø—É–Ω–∫—Ç—ã Living Brain/Organism –≤—ã–ø–æ–ª–Ω–µ–Ω—ã)

**–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø–ª–∞–Ω–æ–≤ (2026-02-03):** Living Brain –∏ Living Organism ‚Äî –≤—Å–µ todos completed. –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è: 23 —Ç–µ—Å—Ç–∞ passed, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (orchestrator, worker, victoria, nightly –∏ –¥—Ä.) —Ä–∞–±–æ—Ç–∞—é—Ç. –ë–∞—Ç—á–∏–Ω–≥ –≤–∫–ª—é—á—ë–Ω –≤ docker-compose.

---

## 6. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è

- **–ü—Ä–∞–≤–∏–ª–æ ¬´–±–∏–±–ª–∏—è –ø—Ä–∏ –ª—é–±—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö¬ª:** –ü—Ä–∏ –ª—é–±–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ (–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, API, –ø–æ—Ä—Ç—ã, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –Ω–æ–≤—ã–µ —Ñ–∏—á–∏): **(1) –¥–æ –ø—Ä–∞–≤–æ–∫** ‚Äî –∏–∑—É—á–∏—Ç—å MASTER_REFERENCE –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫–∏; **(2) –ø–æ—Å–ª–µ –ø—Ä–∞–≤–æ–∫** ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å MASTER_REFERENCE (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ä–∞–∑–¥–µ–ª) –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ CHANGES_FROM_OTHER_CHATS, ARCHITECTURE_FULL –∏ –¥—Ä. –ë–∏–±–ª–∏—è –≤—Å–µ–≥–¥–∞ –∞–∫—Ç—É–∞–ª—å–Ω–∞.
- **–ü—Ä–∞–≤–∏–ª–æ:** –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ñ–∏—á–∏ –∏–ª–∏ —Å–º–µ–Ω–µ –ø–æ–¥—Ö–æ–¥–∞ ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ä–∞–∑–¥–µ–ª) –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω—ã–π –¥–æ–∫ (ARCHITECTURE_FULL, WORKER_THROUGHPUT, CURRENT_STATE_WORKER_AND_LLM –∏ —Ç.–¥.).
- **–°–æ–≤–µ—Ç–æ–≤–∞—Ç—å—Å—è —Å —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞–º–∏:** —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ Backend (–ò–≥–æ—Ä—å), QA (–ê–Ω–Ω–∞), SRE (–ï–ª–µ–Ω–∞), Performance (–û–ª—å–≥–∞) –∑–∞–∫—Ä–µ–ø–ª–µ–Ω—ã –≤ [VERIFICATION_CHECKLIST_OPTIMIZATIONS.md](VERIFICATION_CHECKLIST_OPTIMIZATIONS.md). **–ö–∞–∫ –ø—Ä–∏–º–µ–Ω—è—Ç—å:** –≤ –Ω–∞—á–∞–ª–µ —á–µ–∫–ª–∏—Å—Ç–∞ ‚Äî —Ç–∞–±–ª–∏—Ü–∞ ¬´–ö–æ–≥–¥–∞ / –ß—Ç–æ –¥–µ–ª–∞—Ç—å / –ì–¥–µ —Å–º–æ—Ç—Ä–µ—Ç—å¬ª: –ø–µ—Ä–µ–¥ –ø—Ä–∞–≤–∫–∞–º–∏ ‚Äî ¬ß5 ¬´–ü—Ä–∏ —Å–ª–µ–¥—É—é—â–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö¬ª –ø–æ –∑–∞—Ç—Ä–æ–Ω—É—Ç–æ–º—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É; –ø—Ä–∏ —Å–±–æ–µ ‚Äî ¬ß3 ¬´–ü—Ä–∏—á–∏–Ω—ã —Å–±–æ–µ–≤¬ª (–Ω–∞–π—Ç–∏ –ø–æ —Å–∏–º–ø—Ç–æ–º—É, –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø–æ —Ä–µ—à–µ–Ω–∏—é, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É); –ø–æ—Å–ª–µ –ø—Ä–∞–≤–æ–∫ ‚Äî ¬ß1 ¬´–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å¬ª –ø–æ –ø—É–Ω–∫—Ç–∞–º (–≤–æ—Ä–∫–µ—Ä/Ollama/MLX: 14‚Äì19, —á–∞—Ç: 21, –°–æ–≤–µ—Ç –î–∏—Ä–µ–∫—Ç–æ—Ä–æ–≤: 36) –∏ —Ç–µ—Å—Ç—ã –∏–∑ ¬ß2. **–ò—Å–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–∏—á–∏–Ω—ã –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è**, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ —Å–∏–º–ø—Ç–æ–º ‚Äî —Ç–æ–≥–¥–∞ –≤ –±—É–¥—É—â–µ–º –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –Ω—É–∂–Ω–æ.
- **–ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:** –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–±–æ—Ç—ã ‚Äî –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç (—Ç–µ—Å—Ç—ã ¬ß2, –ø—É–Ω–∫—Ç—ã ¬ß1 —á–µ–∫–ª–∏—Å—Ç–∞, –ª–æ–≥–∏), –≤—ã—è–≤–ª–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å —Å—Ä–∞–∑—É –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–ø–æ–ª–Ω—è—Ç—å ¬ß3 ¬´–ü—Ä–∏—á–∏–Ω—ã —Å–±–æ–µ–≤¬ª –∏ ¬ß5 ¬´–ü—Ä–∏ —Å–ª–µ–¥—É—é—â–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö¬ª, —á—Ç–æ–±—ã –≤ –±—É–¥—É—â–µ–º –Ω–µ –ø–æ–≤—Ç–æ—Ä—è–ª–æ—Å—å.
- **–ú–∏—Ä–æ–≤—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏:** —Ä–∞–∑–¥–µ–ª 4 —Ç–æ–≥–æ –∂–µ —á–µ–∫–ª–∏—Å—Ç–∞ (–ø—É–ª—ã, shutdown, resilience, run_in_executor, heartbeat + —Ç–∞–π–º–∞—É—Ç). –ü—Ä–∏ –¥–æ—Ä–∞–±–æ—Ç–∫–∞—Ö —Å–≤–µ—Ä—è—Ç—å—Å—è —Å –Ω–∏–º–∏.
- **–†–µ—à–µ–Ω–∏—è –ø–æ Rust:** –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ Rust-–º–æ–¥—É–ª–µ–π —Å–≤–µ—Ä—è—Ç—å—Å—è —Å [CORPORATION_RUST_ROADMAP.md](CORPORATION_RUST_ROADMAP.md) (–ø—Ä–∏–Ω—Ü–∏–ø—ã, —Ñ–∞–∑—ã) –∏ ¬ß5 —á–µ–∫–ª–∏—Å—Ç–∞ (cache_normalizer_rs, —Å—Ç—Ä–∞—Ç–µ–≥–∏—è ¬´–∫–æ—Ä–ø–æ—Ä–∞—Ü–∏—è –Ω–∞ Rust¬ª).
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** —Ç–æ–ª—å–∫–æ –∏–∑ requirements.txt; –±–µ–∑ subprocess pip install –≤ —Ä–∞–Ω—Ç–∞–π–º–µ. –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –ø–∞–∫–µ—Ç–∞ ‚Äî –æ–¥–Ω–æ —á—ë—Ç–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏.
- **Cursor:** —Ä–æ–ª–∏ –≤ .cursor/rules/; –∫–æ–º–∞–Ω–¥–∞ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –≤ configs/experts/team.md –∏ employees.json; –∏–Ω–¥–µ–∫—Å –≤ .cursor/README.md. –ù–æ–≤—ã–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –≤ employees.json, –∑–∞—Ç–µ–º `python scripts/sync_employees.py`.
- **–¢–µ—Å—Ç—ã –∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è:** [VERIFICATION_CHECKLIST_OPTIMIZATIONS.md](VERIFICATION_CHECKLIST_OPTIMIZATIONS.md) (—Ä–∞–∑–¥–µ–ª 1 ‚Äî –ø—É–Ω–∫—Ç—ã –ø–æ –æ–±–ª–∞—Å—Ç–∏: –≤–æ—Ä–∫–µ—Ä/Ollama 14‚Äì19, —á–∞—Ç 21, –°–æ–≤–µ—Ç –î–∏—Ä–µ–∫—Ç–æ—Ä–æ–≤ 36). –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –≤–æ—Ä–∫–µ—Ä–µ/Ollama/LLM/–¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–∏/—á–∞—Ç–µ/–°–æ–≤–µ—Ç–µ ‚Äî –ø—Ä–æ–π—Ç–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø—É–Ω–∫—Ç—ã ¬ß1, –ø—Ä–æ–≥–Ω–∞—Ç—å —Ç–µ—Å—Ç—ã (`knowledge_os`: `pytest tests/test_json_fast_http_client.py tests/test_rest_api.py tests/test_victoria_chat_and_request.py -v`) –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–±–Ω–æ–≤–∏—Ç—å ¬ß3 –∏–ª–∏ ¬ß5 —á–µ–∫–ª–∏—Å—Ç–∞ –∏ CURRENT_STATE_WORKER_AND_LLM.md. –ß–∞—Ç —Å Victoria: –∫–æ–Ω—Ç—Ä–∞–∫—Ç goal + project_context, fallback –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏, —Å–ª–æ—Ç –≤ with_victoria_slot (–ø—É–Ω–∫—Ç 21).

---

## 7. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–∫–ª—é—á–µ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|--------------|----------|
| USE_VICTORIA_ENHANCED | true | –í–∫–ª—é—á–∏—Ç—å Victoria Enhanced (ReAct, Department Heads, –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ). |
| ENABLE_EVENT_MONITORING | true | –í–∫–ª—é—á–∏—Ç—å Victoria Initiative (Event Bus, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, skills). |
| PREFER_EXPERTS_FIRST | true | Execution-–∑–∞–¥–∞—á–∏ –≤ Victoria Enhanced, –≤ Veronica ‚Äî —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ç—ã–µ. |
| SMART_WORKER_STUCK_MINUTES | 15 | –ß–µ—Ä–µ–∑ —Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç –∑–∞–¥–∞—á–∞ –≤ in_progress –±–µ–∑ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è updated_at —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–∞–≤–∏—Å—à–µ–π. |
| SMART_WORKER_MAX_CONCURRENT | 15 | –ü–æ—Ç–æ–ª–æ–∫: –º–∞–∫—Å. –∑–∞–¥–∞—á ¬´–≤ —Ä–∞–±–æ—Ç–µ¬ª –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. |
| SMART_WORKER_ADAPTIVE_CONCURRENCY | true | –ü—Ä–∏ true ‚Äî effective_N –ø–æ CPU/RAM –∏ MLX/Ollama (–ø–æ—Ç–æ–ª–æ–∫ MAX_CONCURRENT); –ø—Ä–∏ false ‚Äî —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π N. |
| ADAPTIVE_MLX_SAFE_MAX | 2 | –ü–æ—Ç–æ–ª–æ–∫ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ MLX —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –≤–æ—Ä–∫–µ—Ä–∞ (MLX –≤—ã–ª–µ—Ç–∞–µ—Ç –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–º –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–µ). |
| SMART_WORKER_BATCH_BY_MODEL | true | –ë–∞—Ç—á–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á–∏ –ø–æ (source, model). |
| SMART_WORKER_HEAVY_LIGHT_PAIRING | true | 50/50 MLX/Ollama + —Ç—è–∂—ë–ª—ã–π/–ª—ë–≥–∫–∏–π pairing: –∫–æ–≥–¥–∞ Ollama —Ç—è–∂—ë–ª–∞—è ‚Äî MLX –ª—ë–≥–∫–∞—è, –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç. false = intelligent_model_router –ø–æ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏. |
| SMART_WORKER_INTERLEAVE_BLOCKS | true | –ß–µ—Ä–µ–¥–æ–≤–∞—Ç—å –±–ª–æ–∫–∏ (MLX –∏ Ollama –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ); –ø—Ä–∏ pairing ‚Äî —Ç—è–∂—ë–ª—ã–π –Ω–∞ –æ–¥–Ω–æ–º, –ª—ë–≥–∫–∏–π –Ω–∞ –¥—Ä—É–≥–æ–º. |
| SMART_WORKER_HEAVY_MODEL_TIMEOUT_MULTIPLIER | 1.5 | –î–ª—è —Ç—è–∂—ë–ª—ã—Ö –º–æ–¥–µ–ª–µ–π (70b, 104b, 32b) ‚Äî –º–Ω–æ–∂–∏—Ç–µ–ª—å —Ç–∞–π–º–∞—É—Ç–∞. –£—á–∏—Ç—ã–≤–∞–µ—Ç –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ (30‚Äì90 —Å–µ–∫). |
| OLLAMA_API_URL, MLX_API_URL | host.docker.internal / localhost | URL Ollama –∏ MLX. |
| DATABASE_URL | postgresql://...knowledge_postgres:5432/knowledge_os | –ë–î Knowledge OS. |
| MAX_CONCURRENT_VICTORIA | 50 | –°–µ–º–∞—Ñ–æ—Ä –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Victoria –≤ backend. |
| RAG_CONTEXT_LIMIT | 5 | –ú–∞–∫—Å. —É–∑–ª–æ–≤ –∑–Ω–∞–Ω–∏–π –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ Victoria. |
| RAG_SIMILARITY_THRESHOLD | 0.6 | –ü–æ—Ä–æ–≥ similarity –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è —É–∑–ª–∞ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç (RAG). |
| RAG_SNIPPET_CHARS | 500 | –°–∏–º–≤–æ–ª–æ–≤ –Ω–∞ —É–∑–µ–ª –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ (—Å–Ω–∏–ø–ø–µ—Ç). –†–∞–Ω—å—à–µ 200. |
| RAG_TOP1_FULL_MAX_CHARS | 2000 | –î–ª—è —Ç–æ–ø-1 –ø–æ similarity ‚Äî –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –¥–æ —ç—Ç–æ–≥–æ –ª–∏–º–∏—Ç–∞; 0 = –æ—Ç–∫–ª—é—á–µ–Ω–æ. |
| AUTO_APPLY_DASHBOARD | false | –ü—Ä–∏ true ‚Äî Dashboard Daily Improver –∞–≤—Ç–æ-–ø–∞—Ç—á–∏—Ç max_entries –≤ st.cache_data (Living Organism ¬ß3). |
| PREDICTIVE_STUCK_COUNT_THRESHOLD | 5 | –ü–æ—Ä–æ–≥: –ø—Ä–∏ in_progress –±–µ–∑ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è >15 –º–∏–Ω ‚â• N ‚Äî —Å–æ–∑–¥–∞—ë—Ç—Å—è –∑–∞–¥–∞—á–∞. |
| PREDICTIVE_PENDING_COUNT_THRESHOLD | 30 | –ü–æ—Ä–æ–≥: –ø—Ä–∏ pending —Å—Ç–∞—Ä—à–µ 1—á ‚â• N ‚Äî —Å–æ–∑–¥–∞—ë—Ç—Å—è –∑–∞–¥–∞—á–∞. |
| BATCH_SMALL_TASKS_ENABLED | true (docker) | –ü—Ä–∏ true ‚Äî Phase 1.6 –ø–æ–º–µ—á–∞–µ—Ç –∑–∞–¥–∞—á–∏ –æ–¥–Ω–æ–≥–æ domain (low/medium) batch_group. |
| BATCH_SMALL_TASKS_THRESHOLD | 3 | –ú–∏–Ω. –∑–∞–¥–∞—á –≤ domain –¥–ª—è batch_group. |
| SMART_WORKER_BATCH_GROUP_LLM | true (docker) | –ü—Ä–∏ true ‚Äî –≤–æ—Ä–∫–µ—Ä –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á–∏ —Å batch_group –æ–¥–Ω–∏–º –≤—ã–∑–æ–≤–æ–º LLM (2‚Äì3 –Ω–∞ –±–∞—Ç—á). |
| SMART_WORKER_BATCH_GROUP_MAX | 3 | –ú–∞–∫—Å. –∑–∞–¥–∞—á –≤ –æ–¥–Ω–æ–º –±–∞—Ç—á-–≤—ã–∑–æ–≤–µ LLM. |

---

## 8. –¢–∞–±–ª–∏—Ü–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–≥–¥–µ —á—Ç–æ –∏—Å–∫–∞—Ç—å)

| –¢–µ–º–∞ | –î–æ–∫—É–º–µ–Ω—Ç |
|------|----------|
| –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –ø–æ—Ä—Ç—ã, –∑–∞–ø—É—Å–∫ | [PROJECT_ARCHITECTURE_AND_GUIDE.md](PROJECT_ARCHITECTURE_AND_GUIDE.md) |
| –°—Ö–µ–º–∞ Victoria ‚Üí –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä ‚Üí —ç–∫—Å–ø–µ—Ä—Ç—ã ‚Üí –≤–æ—Ä–∫–µ—Ä | [ARCHITECTURE_FULL.md](ARCHITECTURE_FULL.md) |
| –ü—Ä–æ—Ü–µ—Å—Å Victoria –æ—Ç –∑–∞–ø—Ä–æ—Å–∞ –¥–æ –æ—Ç–≤–µ—Ç–∞ | [VICTORIA_PROCESS_FULL.md](VICTORIA_PROCESS_FULL.md) |
| –í–æ—Ä–∫–µ—Ä: –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å, –∑–∞–≤–∏—Å–∞–Ω–∏—è, –±–∞—Ç—á–∏ | [WORKER_THROUGHPUT_AND_STUCK_TASKS.md](WORKER_THROUGHPUT_AND_STUCK_TASKS.md) |
| Ollama/MLX: URL, —ç—Ö–æ, —Å–∫–∞–Ω–µ—Ä | [OLLAMA_MLX_CONNECTION_AND_ECHO.md](OLLAMA_MLX_CONNECTION_AND_ECHO.md) |
| –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤–æ—Ä–∫–µ—Ä–∞ –∏ LLM | [CURRENT_STATE_WORKER_AND_LLM.md](CURRENT_STATE_WORKER_AND_LLM.md) |
| –ß–µ–∫–ª–∏—Å—Ç –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ (1‚Äì24), –ø—Ä–∏—á–∏–Ω—ã —Å–±–æ–µ–≤, –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö | [VERIFICATION_CHECKLIST_OPTIMIZATIONS.md](VERIFICATION_CHECKLIST_OPTIMIZATIONS.md) |
| –°–≤–æ–¥–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏–∑ —á–∞—Ç–æ–≤ | [CHANGES_FROM_OTHER_CHATS.md](CHANGES_FROM_OTHER_CHATS.md) |
| –î–∞—à–±–æ—Ä–¥—ã –∏ –∞–≥–µ–Ω—Ç—ã (–ø–æ–ª–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∞) | [DASHBOARDS_AND_AGENTS_FULL_PICTURE.md](DASHBOARDS_AND_AGENTS_FULL_PICTURE.md) |
| –†–æ–ª—å Veronica, PREFER_EXPERTS_FIRST | [VERONICA_REAL_ROLE.md](VERONICA_REAL_ROLE.md) |
| –ß–∞—Ç –∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä | [CHAT_ORCHESTRATOR_FLOW.md](CHAT_ORCHESTRATOR_FLOW.md) |
| –°–æ–≤–µ—Ç –î–∏—Ä–µ–∫—Ç–æ—Ä–æ–≤: —á–∞—Ç ‚Üí board/consult ‚Üí Victoria | ¬ß3–± —ç—Ç–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞; [CHANGES_FROM_OTHER_CHATS.md](CHANGES_FROM_OTHER_CHATS.md) ¬ß11 |
| **–ê–≤—Ç–æ-—Ä–∞—Å—á—ë—Ç –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞ –≤–æ—Ä–∫–µ—Ä–∞ (CPU/–ø–∞–º—è—Ç—å, MLX+Ollama, —Ç—è–∂—ë–ª—ã–µ/–ª—ë–≥–∫–∏–µ)** | [ADAPTIVE_WORKER_CONCURRENCY_PLAN.md](ADAPTIVE_WORKER_CONCURRENCY_PLAN.md) |
| –ì–∏–ø–æ—Ç–µ–∑—ã, –¥–µ–±–∞—Ç—ã, —Ü–µ–ø–æ—á–∫–∞ –≥–∏–ø–æ—Ç–µ–∑–∞ ‚Üí –¥–µ–±–∞—Ç ‚Üí –∑–∞–¥–∞—á–∞ | [HYPOTHESES_SYSTEM_STATUS.md](mac-studio/HYPOTHESES_SYSTEM_STATUS.md) |
| –ö–∞–ª–µ–Ω–¥–∞—Ä—å –∞–≤—Ç–æ–Ω–æ–º–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤ (—á—Ç–æ –∫–æ–≥–¥–∞ –∫–∞–∫) | [CORPORATION_PLANNING_CALENDAR.md](CORPORATION_PLANNING_CALENDAR.md) |
| –ê–≤—Ç–æ-–ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ (cProfile, py-spy) ‚Äî Living Brain ¬ß6.3 | [AUTO_PROFILING_GUIDE.md](AUTO_PROFILING_GUIDE.md) |
| Grafana (–Ω–∞—Å—Ç—Ä–æ–π–∫–∞) | [GRAFANA_SETUP.md](GRAFANA_SETUP.md) |
| –ü–ª–∞–Ω –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –ø–æ–ª–Ω–∞—è —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—è | .cursor/plans/VERIFICATION_AND_FULL_PICTURE_PLAN.md |
| **–ö–æ—Ä–ø–æ—Ä–∞—Ü–∏—è –Ω–∞ Rust: –¥–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ (–≤–∏–¥–µ–Ω–∏–µ, —Ñ–∞–∑—ã, –ø—Ä–∏–Ω—Ü–∏–ø—ã)** | [CORPORATION_RUST_ROADMAP.md](CORPORATION_RUST_ROADMAP.md) |
| –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏ –∫–∞–Ω–¥–∏–¥–∞—Ç—ã –Ω–∞ Rust (cache_normalizer, –ø–æ—Ä—è–¥–æ–∫ –ø–µ—Ä–µ–≤–æ–¥–∞) | [OPTIMIZATION_AND_RUST_CANDIDATES.md](OPTIMIZATION_AND_RUST_CANDIDATES.md) |
| –ê—Ä—Ö–∏–≤ (–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –æ—Ç—á—ë—Ç—ã –∏–∑ –∫–æ—Ä–Ω—è) | [archive/README.md](archive/README.md) |

---

---

## 9. –ß—Ç–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

| –ß—Ç–æ –º–µ–Ω—è–ª–∏ | –ß—Ç–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å / –ø—Ä–æ–≤–µ—Ä–∏—Ç—å |
|------------|-------------------------------|
| MLX API (–ø–∞–¥–µ–Ω–∏–µ, Metal OOM) | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (com.atra.mlx-monitor). –†—É—á–Ω–æ–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫: `bash scripts/start_mlx_api_server.sh`. –ü—Ä–æ–≤–µ—Ä–∫–∞: `curl -s http://localhost:11435/health`. |
| –ö–æ–¥ –≤–æ—Ä–∫–µ—Ä–∞ (smart_worker_autonomous, local_router, ai_core) | `docker compose -f knowledge_os/docker-compose.yml restart knowledge_os_worker` |
| –ö–æ–¥ Victoria / Veronica | `docker compose -f knowledge_os/docker-compose.yml restart victoria-agent veronica-agent` |
| Provisioning Grafana (dashboard.yml, datasources, JSON) | `docker compose restart grafana` (Web IDE) –∏–ª–∏ `docker compose -f knowledge_os/docker-compose.yml restart grafana` (Knowledge OS). –ü–æ—Å–ª–µ —Ä–µ—Å—Ç–∞—Ä—Ç–∞ –¥–∞—à–±–æ—Ä–¥—ã –ø–æ–¥—Ö–≤–∞—Ç—ã–≤–∞—é—Ç—Å—è –∏–∑ –ø–∞–ø–æ–∫ ¬´Web IDE¬ª / ¬´Knowledge OS¬ª –≤ –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏. |
| Backend (config, routers) | `docker compose restart backend` –∏–ª–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ uvicorn |
| –†–µ–µ—Å—Ç—Ä –ø—Ä–æ–µ–∫—Ç–æ–≤ (—Ç–∞–±–ª–∏—Ü–∞ projects) | –†–µ—Å—Ç–∞—Ä—Ç Victoria/Veronica —á—Ç–æ–±—ã –ø–æ–¥—Ö–≤–∞—Ç–∏—Ç—å –Ω–æ–≤—ã–π slug: `docker compose -f knowledge_os/docker-compose.yml restart victoria-agent veronica-agent`. –õ–∏–±–æ –ø–æ–¥–æ–∂–¥–∞—Ç—å TTL –∫—ç—à–∞ (–ø—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫—ç—à–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–∏). |
| –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å—Ç–µ–∫–∞ | –°–Ω–∞—á–∞–ª–∞ Knowledge OS: `docker compose -f knowledge_os/docker-compose.yml up -d`; —á–µ—Ä–µ–∑ 15‚Äì20 —Å–µ–∫ Web IDE: `docker compose up -d`. –ü—Ä–æ–≤–µ—Ä–∫–∞: `curl -s http://localhost:8080/health`, `curl -s http://localhost:8010/status`. |

---

*–ü—Ä–∏ –ª—é–±—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ, –ª–æ–≥–∏–∫–µ, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –∏–ª–∏ –ø–æ–¥—Ö–æ–¥–∞—Ö ‚Äî –æ–±–Ω–æ–≤–ª—è—Ç—å —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ä–∞–∑–¥–µ–ª. –î–æ–∫—É–º–µ–Ω—Ç –≤—Å–µ–≥–¥–∞ –∞–∫—Ç—É–∞–ª–µ–Ω.*
