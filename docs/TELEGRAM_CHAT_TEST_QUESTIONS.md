# Тест чата Victoria в Telegram — примеры вопросов

Проверка чата с Victoria через Telegram-бота простыми, средними и сложными вопросами.

---

## 1. Автоматический тест (без Telegram)

Скрипт вызывает Victoria POST /run с теми же payload, что и бот:

```bash
cd /path/to/atra-web-ide
# Только простой вопрос (быстро)
python3 scripts/test_telegram_chat_victoria.py --quick
# Все три: простой, средний, сложный (может занять 2–5 мин)
python3 scripts/test_telegram_chat_victoria.py
```

Требуется: Victoria на http://localhost:8010 (`docker-compose -f knowledge_os/docker-compose.yml up -d`).

---

## 2. Ручной тест в Telegram

Убедитесь, что бот запущен (`pgrep -fl victoria_telegram_bot`) и ваш `TELEGRAM_USER_ID` в .env совпадает с вашим ID в Telegram. Отправьте боту сообщения:

### Простые (быстрый ответ)

- Привет! Как дела?
- Кто ты?
- Что умеешь?
- Спасибо, пока!

### Средние (ответ за 30–90 сек)

- Объясни кратко, как настроить docker для проекта на Python.
- Покажи список файлов в корне проекта.
- Какие порты использует наш проект?

### Сложные (ответ 1–3 мин)

- Спланируй поэтапно внедрение мониторинга в наш стек: Prometheus, Grafana, алерты. Только план, без кода.
- Опиши архитектуру: как чат из фронта доходит до Victoria и обратно.

---

## 3. Что проверять

| Уровень   | Ожидание |
|-----------|----------|
| Простой   | Ответ за несколько секунд, без «Отправляю запрос в Victoria...» надолго. |
| Средний   | Сообщение «⏳ Отправляю запрос...», затем ответ в пределах 1–2 мин. |
| Сложный   | Возможны сообщения «⏳ Victoria обрабатывает запрос...» каждые 2 мин; итоговый ответ в пределах 3–5 мин. |

При ошибках: смотрите `docs/TELEGRAM_VICTORIA_TROUBLESHOOTING.md` и логи бота (`tail -f telegram_bot.log` или вывод в терминале).
