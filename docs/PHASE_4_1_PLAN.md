# –§–∞–∑–∞ 4.1: –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

## ‚úÖ –°–¥–µ–ª–∞–Ω–æ

### 1. –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **–°–∫—Ä–∏–ø—Ç:** `scripts/analyze_low_relevance.py`
- **–ó–∞–ø—É—Å–∫:** `python scripts/analyze_low_relevance.py [threshold]`
- **–í—ã—Ö–æ–¥:** `problematic_queries_analysis.json`

### 2. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞ (—Ç–µ–∫—É—â–∏–µ)
- **–ü—Ä–æ–±–ª–µ–º–Ω—ã—Ö (relevance < 80%):** 4 –∏–∑ 15
- **–ö—Ä–∏—Ç–∏—á–Ω—ã–µ (relevance = 0%):** "–∫–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Victoria", "–º–µ—Ç—Ä–∏–∫–∏ Prometheus"
- **–ö–æ—Ä–æ—Ç–∫–∏–µ (rel 61‚Äì77%):** "—Å–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç –ø–æ–¥–ø–∏—Å–∫–∞", "—Å–ø—Ä–∞–≤–∫–∞ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é"

### 3. –£–ª—É—á—à–µ–Ω–∏—è query expansion
- –†–∞—Å—à–∏—Ä–µ–Ω—ã —Ç–µ—Ä–º–∏–Ω—ã –¥–ª—è "–∫–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Victoria" –∏ "–º–µ—Ç—Ä–∏–∫–∏ Prometheus"
- –î–æ–±–∞–≤–ª–µ–Ω—ã fallback –¥–ª—è "victoria" –∏ "prometheus"

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –î–µ–Ω—å 1‚Äì2: –§–∏–∫—Å—ã
- [x] –ó–∞–ø—É—Å—Ç–∏—Ç—å `analyze_low_relevance.py`
- [x] –£–ª—É—á—à–∏—Ç—å query expansion –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- [x] –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞–π–ø–ª–∞–π–Ω –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏
- [x] `analyze_coherence_issues.py` ‚Äî –Ω–∞–π–¥–µ–Ω–∞ –ø—Ä–∏—á–∏–Ω–∞: –æ—Ç–≤–µ—Ç—ã –±–µ–∑ —Ç–æ—á–∫–∏
- [x] –§–∏–∫—Å: `_truncate_response` –¥–æ–±–∞–≤–ª—è–µ—Ç —Ç–æ—á–∫—É –≤ –∫–æ–Ω—Ü–µ –æ—Ç–≤–µ—Ç–∞

### –î–µ–Ω—å 3‚Äì4: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ validation set
- [ ] –°–æ–±—Ä–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã: `collect_real_queries.py`
- [ ] –°–æ–∑–¥–∞—Ç—å `generate_query_variations.py` (—Å–∏–Ω—Ç–µ—Ç–∏–∫–∞)
- [ ] –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –∏ –¥–µ–¥—É–ø–ª–∏—Ü–∏—Ä–æ–≤–∞—Ç—å

### –î–µ–Ω—å 5: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- [ ] AdvancedQualityMonitor —Å ML-–¥–µ—Ç–µ–∫—Ü–∏–µ–π –∞–Ω–æ–º–∞–ª–∏–π
- [ ] –î–∞—à–±–æ—Ä–¥ v2 —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π

### –î–µ–Ω—å 6: Self-healing
- [ ] SelfHealingSystem
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ RAG pipeline

---

## üéØ –¶–µ–ª–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –°–µ–π—á–∞—Å | 7 –¥–Ω–µ–π | 30 –¥–Ω–µ–π |
|---------|--------|--------|---------|
| Relevance | 80.1% | 85% | 90%+ |
| Faithfulness | 100% | 100% | 100% |
| Coherence | 93.3% | 95% | 97%+ |
| Validation set | 15 | 50+ | 150+ |

---

## –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ê–Ω–∞–ª–∏–∑
python scripts/analyze_low_relevance.py

# –ü–æ–ª–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ —Ñ–∏–∫—Å–æ–≤)
./scripts/run_quality_pipeline.sh
```
