# üì¶ –í—Å–µ –º–æ–¥–µ–ª–∏ –Ω–∞ Mac Studio M4 Max

**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-01-21  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –û–ë–ù–û–í–õ–ï–ù–ê**

---

## üéØ –ü–†–ò–û–†–ò–¢–ï–¢–ù–´–ï –ú–û–î–ï–õ–ò

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ—Ç –ª—É—á—à—É—é –¥–æ—Å—Ç—É–ø–Ω—É—é –º–æ–¥–µ–ª—å —Å fallback –Ω–∞ –º–µ–Ω–µ–µ –º–æ—â–Ω—ã–µ –≤–µ—Ä—Å–∏–∏.

### 1. **Reasoning (–°–ª–æ–∂–Ω—ã–µ –∑–∞–¥–∞—á–∏, –ª–æ–≥–∏–∫–∞)**

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**
1. ‚úÖ `deepseek-r1-distill-llama-70b` (55GB) - **–°–ê–ú–´–ô –ú–û–©–ù–´–ô** ‚≠ê
2. ‚ö†Ô∏è `llama3.3:70b` (35GB) - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞
3. ‚úÖ `deepseek-r1:7b` (4.7GB) - **–£–°–¢–ê–ù–û–í–õ–ï–ù** (fallback)

### 2. **Coding (–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞, –∫–æ–¥)**

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**
1. ‚ö†Ô∏è `qwen2.5-coder-32b` (35GB) - **–°–ê–ú–´–ô –ú–û–©–ù–´–ô** ‚≠ê
2. ‚úÖ `qwen2.5-coder:7b` (4.7GB) - **–£–°–¢–ê–ù–û–í–õ–ï–ù** (fallback)
3. ‚úÖ `qwen2.5-coder:3b` (1.9GB) - **–£–°–¢–ê–ù–û–í–õ–ï–ù** (–±—ã—Å—Ç—Ä—ã–π fallback)

### 3. **Fast (–ë—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã)**

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**
1. ‚ö†Ô∏è `phi3.5-mini-4k-instruct` (2GB) - **–û–ü–¢–ò–ú–ê–õ–¨–ù–´–ô** ‚≠ê
2. ‚ö†Ô∏è `phi3-mini-4k-instruct` (2GB) - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞
3. ‚úÖ `phi4:latest` (9.1GB) - **–£–°–¢–ê–ù–û–í–õ–ï–ù** (–Ω–æ –±–æ–ª—å—à–µ)

### 4. **Tiny (–û—á–µ–Ω—å –±—ã—Å—Ç—Ä—ã–µ –∑–∞–¥–∞—á–∏)**

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**
1. ‚ö†Ô∏è `tinyllama:1.1b-chat-v1.0-q4_0` (0.7GB) - **–°–ê–ú–´–ô –ú–ê–õ–ï–ù–¨–ö–ò–ô** ‚≠ê
2. ‚ö†Ô∏è `qwen2.5-3b-instruct` (2GB) - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞
3. ‚úÖ `qwen2.5-coder:3b` (1.9GB) - **–£–°–¢–ê–ù–û–í–õ–ï–ù** (fallback)

### 5. **Vision (–ê–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)**

1. ‚úÖ `moondream:latest` (1.7GB) - **–£–°–¢–ê–ù–û–í–õ–ï–ù**

### 6. **Large (–û—á–µ–Ω—å —Å–ª–æ–∂–Ω—ã–µ –∑–∞–¥–∞—á–∏)**

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**
1. ‚ö†Ô∏è `command-r-plus` (65GB) - **–û–ß–ï–ù–¨ –ú–û–©–ù–ê–Ø** ‚≠ê‚≠ê
2. ‚ö†Ô∏è `llama3.3:70b` (35GB) - –±–æ–ª—å—à–∞—è –º–æ–¥–µ–ª—å
3. ‚ö†Ô∏è `qwen2.5-coder-32b` (35GB) - –±–æ–ª—å—à–∞—è –º–æ–¥–µ–ª—å –¥–ª—è –∫–æ–¥–∞

---

## üîß –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò–ô –í–´–ë–û–†

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–µ–π —á–µ—Ä–µ–∑ Ollama API
2. ‚úÖ –í—ã–±–∏—Ä–∞–µ—Ç —Å–∞–º—É—é –º–æ—â–Ω—É—é –¥–æ—Å—Ç—É–ø–Ω—É—é –º–æ–¥–µ–ª—å
3. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç fallback –Ω–∞ –º–µ–Ω–µ–µ –º–æ—â–Ω—ã–µ –≤–µ—Ä—Å–∏–∏
4. ‚úÖ –õ–æ–≥–∏—Ä—É–µ—Ç –∫–∞–∫–æ–π –∏–º–µ–Ω–Ω–æ –≤—ã–±–æ—Ä –±—ã–ª —Å–¥–µ–ª–∞–Ω

### –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã:
```
üîç –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ 'reasoning' –∏–∑ 3 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤...
   –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥–µ–ª–∏ 1/3: deepseek-r1-distill-llama-70b
   ‚è≠Ô∏è  –ú–æ–¥–µ–ª—å deepseek-r1-distill-llama-70b –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
   –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥–µ–ª–∏ 2/3: llama3.3:70b
   ‚è≠Ô∏è  –ú–æ–¥–µ–ª—å llama3.3:70b –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
   –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥–µ–ª–∏ 3/3: deepseek-r1:7b
‚úÖ –í—ã–±—Ä–∞–Ω–∞ –º–æ–¥–µ–ª—å: deepseek-r1:7b (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3)
```

---

## üìä –¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–°

### ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç:
- `deepseek-r1:7b` (4.7GB) - Reasoning fallback
- `qwen2.5-coder:7b` (4.7GB) - Coding fallback
- `qwen2.5-coder:3b` (1.9GB) - Tiny fallback
- `phi4:latest` (9.1GB) - Fast fallback
- `moondream:latest` (1.7GB) - Vision

### ‚ö†Ô∏è –ú–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ):
- `deepseek-r1-distill-llama-70b` (55GB) - Reasoning ‚≠ê
- `qwen2.5-coder-32b` (35GB) - Coding ‚≠ê
- `phi3.5-mini-4k-instruct` (2GB) - Fast ‚≠ê
- `tinyllama:1.1b-chat-v1.0-q4_0` (0.7GB) - Tiny ‚≠ê
- `llama3.3:70b` (35GB) - Large ‚≠ê
- `command-r-plus` (65GB) - Very Large ‚≠ê‚≠ê

---

## üöÄ –£–°–¢–ê–ù–û–í–ö–ê –ü–†–ò–û–†–ò–¢–ï–¢–ù–´–• –ú–û–î–ï–õ–ï–ô

```bash
# Reasoning (55GB)
ollama pull deepseek-r1-distill-llama-70b

# Coding (35GB)
ollama pull qwen2.5-coder-32b

# Fast (2GB)
ollama pull phi3.5-mini-4k-instruct

# Tiny (0.7GB)
ollama pull tinyllama:1.1b-chat-v1.0-q4_0

# Large (35GB)
ollama pull llama3.3:70b

# Very Large (65GB)
ollama pull command-r-plus
```

---

## üìã –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø

### MODEL_PRIORITIES (local_router.py):
```python
MODEL_PRIORITIES = {
    "reasoning": [
        "deepseek-r1-distill-llama-70b",  # 55GB
        "llama3.3:70b",                    # 35GB
        "deepseek-r1:7b",                  # 4.7GB ‚úÖ
    ],
    "coding": [
        "qwen2.5-coder-32b",               # 35GB
        "qwen2.5-coder:7b",                # 4.7GB ‚úÖ
        "qwen2.5-coder:3b",                # 1.9GB ‚úÖ
    ],
    # ...
}
```

---

## ‚úÖ –í–°–Å –ù–ê–°–¢–†–û–ï–ù–û!

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –í—ã–±–∏—Ä–∞–µ—Ç –ª—É—á—à—É—é –¥–æ—Å—Ç—É–ø–Ω—É—é –º–æ–¥–µ–ª—å
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç fallback –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- ‚úÖ –õ–æ–≥–∏—Ä—É–µ—Ç –≤—Å–µ –≤—ã–±–æ—Ä—ã
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å —Ç–µ–∫—É—â–∏–º–∏ –º–æ–¥–µ–ª—è–º–∏
- ‚úÖ –ì–æ—Ç–æ–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –º–æ—â–Ω—ã–µ –º–æ–¥–µ–ª–∏ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

*–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–æ–π —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ ATRA - 2025-01-21*

