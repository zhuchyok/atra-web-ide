# ‚úÖ Ollama –º–æ–¥–µ–ª–∏ –Ω–∞ Mac Studio M4 Max

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 2025-01-21  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–£–°–¢–ê–ù–û–í–õ–ï–ù–´ –ò –†–ê–ë–û–¢–ê–Æ–¢**

---

## üì¶ –£–°–¢–ê–ù–û–í–õ–ï–ù–ù–´–ï –ú–û–î–ï–õ–ò

### 1. **deepseek-r1:7b** (4.7 GB) - Reasoning
- **–†–∞–∑–º–µ—Ä:** 7.6B –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** Reasoning, —Å–ª–æ–∂–Ω—ã–µ –∑–∞–¥–∞—á–∏
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

### 2. **qwen2.5-coder:7b** (4.7 GB) - Coding
- **–†–∞–∑–º–µ—Ä:** 7.6B –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

### 3. **phi4:latest** (9.1 GB) - Fast/Balanced
- **–†–∞–∑–º–µ—Ä:** 14.7B –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏, –±—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

### 4. **qwen2.5-coder:3b** (1.9 GB) - Tiny/Fast
- **–†–∞–∑–º–µ—Ä:** 3.1B –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ë—ã—Å—Ç—Ä—ã–µ –∑–∞–¥–∞—á–∏, –ª–µ–≥–∫–∏–µ –º–æ–¥–µ–ª–∏
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

### 5. **moondream:latest** (1.7 GB) - Vision
- **–†–∞–∑–º–µ—Ä:** 1B –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** Vision tasks, –∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

### 6. **nomic-embed-text:latest** (274 MB) - Embeddings
- **–†–∞–∑–º–µ—Ä:** 137M –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** Text embeddings, –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

---

## üîß –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø

### MODEL_MAP (local_router.py):
```python
MODEL_MAP = {
    "coding": "qwen2.5-coder:7b",      # 7.6B –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
    "reasoning": "deepseek-r1:7b",      # 7.6B –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
    "fast": "phi4:latest",              # 14.7B –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (—Å–∞–º–∞—è –±–æ–ª—å—à–∞—è!)
    "tiny": "qwen2.5-coder:3b",         # 3.1B –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
    "vision": "moondream:latest",       # 1B –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
    "default": "qwen2.5-coder:7b"       # 7.6B –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
}
```

### URL –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
```python
MAC_STUDIO_LLM_URL = "http://localhost:11434"  # Ollama –Ω–∞ Mac Studio
```

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –ü—Ä–æ–≤–µ—Ä–∫–∞ Ollama API:
```bash
curl http://localhost:11434/api/tags
```

### –¢–µ—Å—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:
```bash
curl -s http://localhost:11434/api/generate \
  -d '{"model": "deepseek-r1:7b", "prompt": "test", "stream": false}'
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤:
```bash
ps aux | grep ollama
```

---

## üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê

- **–í—Å–µ–≥–æ –º–æ–¥–µ–ª–µ–π:** 6
- **–û–±—â–∏–π —Ä–∞–∑–º–µ—Ä:** ~22.6 GB
- **Ollama —Å—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ localhost:11434
- **–ü—Ä–æ—Ü–µ—Å—Å—ã:** 4 –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞ Ollama

---

## üéØ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï

### –ß–µ—Ä–µ–∑ Knowledge OS:
- –í—Å–µ –∞–≥–µ–Ω—Ç—ã (Victoria, Veronica) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç Ollama –º–æ–¥–µ–ª–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞–¥–∞—á–∏
- Fallback –Ω–∞ –¥—Ä—É–≥–∏–µ —É–∑–ª—ã –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

### –ù–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ API:
```python
import requests

response = requests.post(
    "http://localhost:11434/api/generate",
    json={
        "model": "qwen2.5-coder:7b",
        "prompt": "–ù–∞–ø–∏—à–∏ —Ñ—É–Ω–∫—Ü–∏—é –Ω–∞ Python",
        "stream": False
    }
)
print(response.json()["response"])
```

---

## ‚úÖ –í–°–Å –†–ê–ë–û–¢–ê–ï–¢!

–í—Å–µ –º–æ–¥–µ–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã, –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

*–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ ATRA - 2025-01-21*

