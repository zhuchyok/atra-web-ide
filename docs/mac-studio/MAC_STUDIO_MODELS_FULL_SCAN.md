# üîç –ü–æ–ª–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –Ω–∞ Mac Studio M4 Max

**–î–∞—Ç–∞ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:** 2025-01-21  
**–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ:** Mac Studio M4 Max  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–°–ö–ê–ù –ó–ê–í–ï–†–®–ï–ù**

---

## üì¶ OLLAMA –ú–û–î–ï–õ–ò (–£–°–¢–ê–ù–û–í–õ–ï–ù–´ –ò –†–ê–ë–û–¢–ê–Æ–¢)

### ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ (6 —à—Ç., 21 GB):

| –ú–æ–¥–µ–ª—å | –†–∞–∑–º–µ—Ä | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|--------|--------|-----------|------------|--------|
| **moondream:latest** | 1.62 GB | 1B | Vision, –∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| **phi4:latest** | 8.43 GB | 14.7B | Fast/Balanced, —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| **deepseek-r1:7b** | 4.36 GB | 7.6B | Reasoning, —Å–ª–æ–∂–Ω—ã–µ –∑–∞–¥–∞—á–∏ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| **qwen2.5-coder:7b** | 4.36 GB | 7.6B | Coding, —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| **qwen2.5-coder:3b** | 1.80 GB | 3.1B | Tiny/Fast, –±—ã—Å—Ç—Ä—ã–µ –∑–∞–¥–∞—á–∏ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| **nomic-embed-text:latest** | 0.26 GB | 137M | Embeddings, –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |

**–û–±—â–∏–π —Ä–∞–∑–º–µ—Ä Ollama –º–æ–¥–µ–ª–µ–π:** **21 GB**

---

## üçé MLX –ú–û–î–ï–õ–ò (HuggingFace –∫–µ—à)

### ‚úÖ –ù–∞–π–¥–µ–Ω–Ω—ã–µ –≤ –∫–µ—à–µ (2 —à—Ç., 3.6 GB):

| –ú–æ–¥–µ–ª—å | –†–∞–∑–º–µ—Ä | –ö–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏–µ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|--------|--------|-------------|------------|--------|
| **mlx-community/Phi-3-mini-4k-instruct-4bit** | 2.0 GB | 4-bit | Fast/Tiny, –±—ã—Å—Ç—Ä—ã–µ –∑–∞–¥–∞—á–∏ | ‚úÖ –í –∫–µ—à–µ |
| **mlx-community/Qwen2.5-3B-Instruct-4bit** | 1.6 GB | 4-bit | Fast/Balanced, —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏ | ‚úÖ –í –∫–µ—à–µ |

**–û–±—â–∏–π —Ä–∞–∑–º–µ—Ä MLX –º–æ–¥–µ–ª–µ–π –≤ –∫–µ—à–µ:** **3.6 GB**

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `~/.cache/huggingface/hub/models--mlx-community--*`

---

## üìÅ MLX –ú–û–î–ï–õ–ò (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è)

### ‚ö†Ô∏è –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `~/.mlx_models` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏:
```bash
mkdir -p ~/.mlx_models
```

---

## üåê –ü–†–û–í–ï–†–ö–ê –°–ï–†–í–ò–°–û–í

| –°–µ—Ä–≤–∏—Å | –°—Ç–∞—Ç—É—Å | URL |
|--------|--------|-----|
| **Ollama API** | ‚úÖ –î–æ—Å—Ç—É–ø–µ–Ω | http://localhost:11434 |
| **MLX –±–∏–±–ª–∏–æ—Ç–µ–∫–∞** | ‚ùå –ù–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ | (—Ç—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞) |

---

## üíæ –û–ë–©–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê

| –¢–∏–ø –º–æ–¥–µ–ª–µ–π | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ | –†–∞–∑–º–µ—Ä | –°—Ç–∞—Ç—É—Å |
|-------------|------------|--------|--------|
| **Ollama** | 6 –º–æ–¥–µ–ª–µ–π | **21 GB** | ‚úÖ –†–∞–±–æ—Ç–∞—é—Ç |
| **MLX (HF cache)** | 2 –º–æ–¥–µ–ª–∏ | **3.6 GB** | ‚úÖ –í –∫–µ—à–µ |
| **MLX (~/.mlx_models)** | 0 –º–æ–¥–µ–ª–µ–π | 0 GB | ‚ö†Ô∏è –ù–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç |
| **–ò–¢–û–ì–û** | **8 –º–æ–¥–µ–ª–µ–π** | **~24.6 GB** | ‚úÖ |

---

## üîß –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï

### Ollama –º–æ–¥–µ–ª–∏ (–≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é):
```bash
# –ü—Ä—è–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Ollama API
curl http://localhost:11434/api/generate \
  -d '{"model": "qwen2.5-coder:7b", "prompt": "Hello"}'
```

### MLX –º–æ–¥–µ–ª–∏ (–∏–∑ HuggingFace –∫–µ—à–∞):
```python
from mlx_lm import load

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –∏–∑ –∫–µ—à–∞
model, tokenizer = load("mlx-community/Phi-3-mini-4k-instruct-4bit")
model, tokenizer = load("mlx-community/Qwen2.5-3B-Instruct-4bit")
```

---

## üìã –ü–†–ò–û–†–ò–¢–ï–¢–ù–´–ï –ú–û–î–ï–õ–ò –î–õ–Ø –£–°–¢–ê–ù–û–í–ö–ò

–°–æ–≥–ª–∞—Å–Ω–æ –≤–∞—à–µ–º—É —Å–ø–∏—Å–∫—É, –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —á–µ—Ä–µ–∑ Ollama:

### –û—Å–Ω–æ–≤–Ω–æ–π —Å—Ç–µ–∫:
- ‚ö†Ô∏è `deepseek-r1-distill-llama-70b` (55GB) ‚Äî reasoning
- ‚ö†Ô∏è `qwen2.5-coder-32b` (35GB) ‚Äî –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚ö†Ô∏è `phi3.5-mini-4k-instruct` (2GB) ‚Äî –±—ã—Å—Ç—Ä—ã–µ –∑–∞–¥–∞—á–∏

### –ú–µ–ª–∫–∏–µ –º–æ–¥–µ–ª–∏:
- ‚ö†Ô∏è `tinyllama-1.1b-chat` (0.7GB)
- ‚ö†Ô∏è `qwen2.5-3b` (2GB)
- ‚ö†Ô∏è `phi3-mini-4k-instruct` (2GB)

### –ë–æ–ª—å—à–∏–µ –º–æ–¥–µ–ª–∏:
- ‚ö†Ô∏è `llama3.3-70b` (35GB)
- ‚ö†Ô∏è `command-r-plus` (65GB)

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–µ—Ä–µ—Ç –ª—É—á—à—É—é –¥–æ—Å—Ç—É–ø–Ω—É—é –º–æ–¥–µ–ª—å —Å fallback –Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏.

---

## ‚úÖ –ò–¢–û–ì–ò

- ‚úÖ **Ollama –º–æ–¥–µ–ª–∏:** 6 –º–æ–¥–µ–ª–µ–π —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç (21 GB)
- ‚úÖ **MLX –º–æ–¥–µ–ª–∏:** 2 –º–æ–¥–µ–ª–∏ –Ω–∞–π–¥–µ–Ω—ã –≤ HuggingFace –∫–µ—à–µ (3.6 GB)
- ‚úÖ **Ollama API:** –î–æ—Å—Ç—É–ø–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚ö†Ô∏è **MLX –±–∏–±–ª–∏–æ—Ç–µ–∫–∞:** –ù–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ (–º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
- ‚úÖ **–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –º–æ–¥–µ–ª–µ–π –Ω–∞—Å—Ç—Ä–æ–µ–Ω

---

## üöÄ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å MLX –±–∏–±–ª–∏–æ—Ç–µ–∫—É** (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ MLX):
   ```bash
   pip install mlx mlx-lm
   ```

2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Ollama –º–æ–¥–µ–ª–∏** (—É–∂–µ —Ä–∞–±–æ—Ç–∞—é—Ç):
   - –í—Å–µ –∞–≥–µ–Ω—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç Ollama —á–µ—Ä–µ–∑ `local_router.py`
   - –°–∏—Å—Ç–µ–º–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ –∏ fallback

3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –º–æ–¥–µ–ª–∏** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
   - –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–µ—Ä–µ—Ç –ª—É—á—à—É—é –¥–æ—Å—Ç—É–ø–Ω—É—é –º–æ–¥–µ–ª—å
   - –ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –±–æ–ª–µ–µ –º–æ—â–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π –æ–Ω–∏ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

---

*–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –Ω–∞ Mac Studio M4 Max - 2025-01-21*

