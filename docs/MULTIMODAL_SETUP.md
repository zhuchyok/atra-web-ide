# Настройка мультимодальных компонентов (Фаза 4, неделя 4)

Краткое руководство по подключению обработки изображений и документов в RAG/чат пайплайне.

---

## Обзор

- **Изображения:** Vision-модели (Ollama/MLX) для описания картинки или ответа на вопрос по изображению.
- **Документы:** PDF, DOCX и др. → извлечение текста → индексация в RAG или прямой ответ.

---

## Изображения

1. **Модель:** Ollama/MLX с поддержкой vision (например, llava, moondream).
2. **Эндпоинт:** загрузка файла или base64; запрос к модели с изображением и текстовым запросом.
3. **Интеграция:** шаг в пайплайне чата/RAG при наличии типа контента «image».

---

## Документы

1. **Форматы:** PDF, DOCX, TXT, MD — через библиотеки (PyMuPDF, python-docx и т.д.).
2. **Пайплайн:** загрузка файла → извлечение текста → разбиение на чанки → эмбеддинги → сохранение в векторное хранилище или одноразовый ответ.
3. **Лимиты:** размер файла, таймаут обработки (настраиваются в конфиге).

---

## Конфигурация

(Будет дополнена при реализации `backend/app/services/multimodal_processor.py`.)

- `MULTIMODAL_IMAGES_ENABLED` — включить обработку изображений.
- `MULTIMODAL_DOCUMENTS_ENABLED` — включить обработку документов.
- `MULTIMODAL_MAX_FILE_SIZE_MB` — максимальный размер файла.

Подробный план — в `docs/PHASE4_PLAN.md` (неделя 4).
